/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={2750:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Accumulator=void 0;class n{constructor(e){this._samples={},this._buffer=[],this._empty=!0,this._config=e}static create(e){const t=Object.assign({forwardIfEmpty:!1},e);return new n(t)}get isEmpty(){return this._empty}drainTo(e){if(this._buffering(),this._buffer.length<1)return void(this._config.forwardIfEmpty&&e());const t=this._buffer;this._buffer=[],t.forEach((t=>{e(t)}))}addClientSample(e){let t=this._samples.clientSamples;t||(t=[],this._samples.clientSamples=t),t.push(e),this._empty=!1,this._config.maxClientSamples&&t.length<=this._config.maxClientSamples&&this._buffering()}_buffering(){this._empty||(this._buffer.push(this._samples),this._samples={},this._empty=!0)}}t.Accumulator=n},603:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDevices=void 0;const s=a(n(1206)),o={name:"Unkown",version:void 0,versionName:void 0},c={name:"Unknown",version:void 0},l={type:"Unknown",vendor:void 0,model:void 0},d={name:"Unknown",version:void 0};t.ClientDevices=class{constructor(){let e;if(this._os=o,this._browser=c,this._platform=l,this._engine=d,navigator)e=navigator;else{if(!window||!window.navigator)return this;e=window.navigator}const t=s.parse(e.userAgent);return this._browser=Object.assign(this._browser,t.browser),this._engine=Object.assign(this._engine,t.engine),this._os=Object.assign(this._os,t.os),this._platform=Object.assign(this._platform,t.platform),this}get os(){return this._os}get browser(){return this._browser}get platform(){return this._platform}get engine(){return this._engine}}},3875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.setLogLevel=void 0;const r=n(4670),i=n(2339);t.setLogLevel=function(e){(0,i.setLevel)(e)},t.create=function(e){return r.ClientMonitorImpl.create(e)}},4670:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMonitorImpl=void 0;const o=n(5748),c=n(6863),l=n(9158),d=n(7332),u=n(7687),p=n(603),f=n(3695),h=n(2570),m=n(9828),g=n(2750),v=n(2339),y=n(7332),b=n(3069),_=a(n(6857)),w=s(n(7187)),S=(0,v.createLogger)("ClientMonitor"),k=()=>({sampler:(0,y.supplyDefaultConfig)()});S.debug("Version of the loaded schema:",o.version);const C="timerInvokedSendSenderNotExists";class R{constructor(e){this._closed=!1,this._flags=new Set,this._config=e,this._clientDevices=new p.ClientDevices,this._mediaDevices=new f.MediaDevices,this._statsStorage=new m.StatsStorage,this._metrics=new b.Metrics,this._accumulator=g.Accumulator.create(e.accumulator),this._eventer=l.EventsRelayer.create(),this._collector=this._makeCollector(),this._sampler=this._makeSampler(),this._createSender(),this._createTimer(),this._sampler.addEngine(this._clientDevices.engine),this._sampler.addPlatform(this._clientDevices.platform),this._sampler.addBrowser(this._clientDevices.browser),this._sampler.addOs(this._clientDevices.os)}static create(e){void 0!==(null==e?void 0:e.maxListeners)&&w.default.setMaxListeners(e.maxListeners);const t=e?Object.assign(k(),e):k(),n=new R(t);return S.debug("Created",t),n}get clientId(){return this._sampler.clientId}get callId(){return this._sampler.callId}get os(){return this._clientDevices.os}get metrics(){return this._metrics}get browser(){return this._clientDevices.browser}get platform(){return this._clientDevices.platform}get engine(){return this._clientDevices.engine}get audioInputs(){return this._mediaDevices.values("audioinput")}get audioOutputs(){return this._mediaDevices.values("audiooutput")}get videoInputs(){return this._mediaDevices.values("videoinput")}get events(){return this._eventer}get storage(){return this._statsStorage}setCallId(e){_.checkUuid(e),this._sampler.setCallId(e)}connect(e){this._sender?S.warn("Sender is already established"):(this._config.sender=e,this._createSender())}disconnect(){this._sender&&(this._sender.closed||this._sender.close(),this._sender=void 0)}addTrackRelation(e){this._sampler.addTrackRelation(e)}removeTrackRelation(e){this._sampler.removeTrackRelation(e)}addStatsCollector(e){this._collector.add(e),this._statsStorage.register(e.id,e.label)}removeStatsCollector(e){this._collector.remove(e),this._statsStorage.unregister(e)}setMediaDevices(...e){if(e){this._mediaDevices.update(...e);for(const e of this._mediaDevices.sample())this._sampler.addMediaDevice(e)}}setUserId(e){e&&this._sampler.setUserId(e)}addMediaConstraints(e){const t=JSON.stringify(e);this._sampler.addMediaConstraints(t)}addUserMediaError(e){const t="string"==typeof e?e:JSON.stringify(e);this._sampler.addUserMediaError(t)}addExtensionStats(e){this._sampler.addExtensionStats(e)}addLocalSDP(e){this._sampler.addLocalSDP(e)}setMarker(e){this._sampler.setMarker(e)}async collect(){const e=Date.now();await this._collector.collect().catch((e=>{S.warn("Error occurred while collecting",e)}));const t=Date.now()-e;if(this._metrics.setCollectingTimeInMs(t),this._eventer.emitStatsCollected(),this._config.statsExpirationTimeInMs){const e=Date.now()-this._config.statsExpirationTimeInMs;this._statsStorage.trim(e)}this._metrics.setLastCollected(e+t)}async sample(){try{const e=this._sampler.make();if(!e)return;this._sender&&this._accumulator.addClientSample(e),this._eventer.emitSampleCreated(e);const t=Date.now();this._metrics.setLastSampled(t)}catch(e){S.warn("An error occurred while sampling",e)}}async send(){if(!this._sender){if(this._flags.has(C))return;return this._flags.add(C),void S.warn("No Sender is available to send data")}const e=[];this._accumulator.drainTo((t=>{t&&e.push(t)}));for(const t of e)try{this._sender.send(t)}catch(e){S.warn("An error occurred while sending",e)}this._eventer.emitSampleSent();const t=Date.now();this._metrics.setLastSent(t)}close(){var e;if(this._closed)S.warn("Attempted to close twice");else try{if(this._timer&&this._timer.clear(),this._sender){const e=[];this._accumulator.drainTo((t=>{t&&e.push(t)})),e.length<1?e.push({controls:{close:!0}}):e[e.length-1].controls={close:!0};for(const t of e)this._sender.send(t)}this._collector.close(),this._sampler.close(),null===(e=this._sender)||void 0===e||e.close(),this._statsStorage.clear()}finally{this._closed=!0,S.info("Closed")}}setCollectingPeriod(e){var t;e<1?null===(t=this._timer)||void 0===t||t.clear("collect"):(this._timer||(this._timer=new h.Timer),this._timer.hasListener("collect")&&this._timer.clear("collect"),this._timer.add({type:"collect",process:this.collect.bind(this),fixedDelayInMs:e,context:"Collect Stats"}))}setSamplingPeriod(e){var t;e<1?null===(t=this._timer)||void 0===t||t.clear("sample"):(this._timer||(this._timer=new h.Timer),this._timer.hasListener("sample")&&this._timer.clear("sample"),this._timer.add({type:"sample",process:this.sample.bind(this),fixedDelayInMs:e,context:"Creating Sample"}))}setSendingPeriod(e){var t;e<1?null===(t=this._timer)||void 0===t||t.clear("send"):(this._timer||(this._timer=new h.Timer),this._timer.hasListener("send")&&this._timer.clear("send"),this._timer.add({type:"send",process:this.send.bind(this),fixedDelayInMs:e,context:"Sending Samples"}))}_makeCollector(){var e,t;const n=this._config.collectors,r={browserType:null===(e=this._clientDevices.browser)||void 0===e?void 0:e.name,browserVersion:null===(t=this._clientDevices.browser)||void 0===t?void 0:t.version},i=Object.assign({adapter:r},n),a=c.Collector.builder().withConfig(i).build();return a.statsAcceptor=this._statsStorage,a}_makeSampler(){const e=this._config.sampler,t=d.Sampler.builder().withConfig(e).build();return t.statsProvider=this._statsStorage,t}_createSender(){if(this._sender)return void S.warn("Attempted to replace an already established Sender component");const e=this._config.sender;e&&(this._sender=u.Sender.create(e).onClosed((()=>{this._sender=void 0})).onError((()=>{this._eventer.emitSenderDisconnected(),this._sender=void 0})))}_createTimer(){if(this._timer)return void S.warn("Attempted to create timer twice");const{collectingPeriodInMs:e,samplingPeriodInMs:t,sendingPeriodInMs:n}=this._config;e&&0<e&&this.setCollectingPeriod(e),t&&0<t&&this.setSamplingPeriod(t),n&&0<n&&this.setSendingPeriod(n)}}t.ClientMonitorImpl=R},6863:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Collector=void 0;const r=n(1149),i=(0,n(2339).createLogger)("Collector");class a{constructor(e){this._statsCollectors=new Map,this._closed=!1,this._config=e,this._adapter=(0,r.createAdapter)(this._config.adapter)}static builder(){let e;const t={withConfig:n=>(e=n,t),build(){if(!e)throw new Error("Cannot build a Collector without a config");const t=new a(e);return i.debug("Built",e),t}};return t}static create(e){const t=Object.assign({},e);return new a(t)}set statsAcceptor(e){this._statsWriter=e}async collect(){if(this._closed)throw new Error("Collector is already closed");if(!this._statsWriter)return void i.warn("Output of the collector has not been set");const e=[],t=[];for(const n of this._statsCollectors.values()){const{id:r,getStats:i}=n,a=new Promise((t=>{i().then((e=>{t([r,e])})).catch((n=>{e.push([r,n]),t(void 0)}))}));t.push(a)}for await(const n of t){if(void 0===n)continue;if(this._closed)return;const[t,r]=n;for(const n of this._adapter.adapt(r))if(n)try{this._statsWriter.accept(t,n)}catch(n){e.push([t,n])}}for(const t of e){const[e,n]=t;this.remove(e),i.warn(`collector ${e} is removed due to reported error`,n)}}add(e){if(this._closed)throw new Error("Cannot add StatsCollector because the Collector is closed");const{id:t}=e;if(this._statsCollectors.has(t))throw new Error(`StatsCollector with id ${t} has already been added`);this._statsCollectors.set(t,e)}has(e){return this._statsCollectors.has(e)}remove(e){if(this._closed)throw new Error("Cannot remove StatsCollector because the Collector is closed");this._statsCollectors.delete(e)||i.warn(`Collector with peer connection id ${e} was not found`)}close(){if(this._closed)i.warn("Attempted to close Collector twice");else try{for(const e of this._statsCollectors.keys())this.remove(e)}finally{this._closed=!0,i.info("Closed")}}}t.Collector=a},9158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventsRelayer=void 0;const r=n(7187),i="onStatsCollected",a="onSampleCreated",s="onSamplesSent",o="onSamplesSent";class c{constructor(){this._emitter=new r.EventEmitter({})}static create(){return new c}onStatsCollected(e){return this._emitter.on(i,e),this}emitStatsCollected(){this._emitter.emit(i)}offStatsCollected(e){return this._emitter.off(i,e),this}onSampleCreated(e){return this._emitter.on(a,e),this}emitSampleCreated(e){this._emitter.emit(a,e)}offSampleCreated(e){return this._emitter.off(a,e),this}onSampleSent(e){return this._emitter.on(s,e),this}emitSampleSent(){this._emitter.emit(s)}offSampleSent(e){return this._emitter.off(s,e),this}onSenderDisconnected(e){return this._emitter.on(o,e),this}emitSenderDisconnected(){this._emitter.emit(o)}offSenderDisconnected(e){return this._emitter.off(o,e),this}}t.EventsRelayer=c},3069:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metrics=void 0,t.Metrics=class{setCollectingTimeInMs(e){this._collectingTimeInMs=e}setLastCollected(e){this._lastCollected=e}setLastSampled(e){this._lastSampled=e}setLastSent(e){this._lastSent=e}get collectingTimeInMs(){return this._collectingTimeInMs}get lastCollected(){return this._lastCollected}get lastSampled(){return this._lastSampled}get lastSent(){return this._lastSent}}},7332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sampler=t.supplyDefaultConfig=void 0;const r=n(8410),i=n(9923),a=n(6857),s=(0,n(2339).createLogger)("Sampler");t.supplyDefaultConfig=()=>({roomId:(0,r.v4)(),clientId:(0,r.v4)(),incrementalSampling:!0});class o{constructor(e){if(this._trackRelations=new Map,this._sampleSeq=0,this._timezoneOffset=(new Date).getTimezoneOffset(),this._closed=!1,e.callId&&!(0,a.isValidUuid)(e.callId))throw new Error("Sampler.config.callId must be a valid UUID");if(!(0,a.isValidUuid)(e.clientId))throw new Error("Sampler.config.clientId must be a valid UUID");this._config=e}static builder(){let e;const n={withConfig:t=>(e=t,n),build(){if(!e)throw new Error("Cannot create a Sampler without config");const n=Object.assign((0,t.supplyDefaultConfig)(),e);return new o(n)}};return n}static create(e){const n=Object.assign((0,t.supplyDefaultConfig)(),e),r=new o(n);return s.debug("Created",n),r}set statsProvider(e){this._statsReader=e}get clientId(){return this._config.clientId}get callId(){return this._config.callId}setCallId(e){(0,a.checkUuid)(e),this._config.callId=e}setUserId(e){this._config.userId=e}addTrackRelation(e){this._trackRelations.set(e.trackId,e),s.debug(`Track relation for trackId: ${e.trackId} is set`,e)}removeTrackRelation(e){s.debug(`Track relation for trackId: trackId: ${e} is removed`,this._trackRelations.get(e)),this._trackRelations.delete(e)}addEngine(e){this._engine=e}addPlatform(e){this._platform=e}addBrowser(e){this._browser=e}addOs(e){this._os=e}addMediaConstraints(e){this._mediaConstraints||(this._mediaConstraints=[]),this._mediaConstraints.push(e)}addUserMediaError(e){this._userMediaErrors||(this._userMediaErrors=[]),this._userMediaErrors.push(e)}addExtensionStats(e){this._extensionStats||(this._extensionStats=[]),this._extensionStats.push(e)}addLocalSDP(e){this._localSDP||(this._localSDP=[]),this._localSDP.push(...e)}addMediaDevice(e){this._mediaDevices||(this._mediaDevices=[]),this._mediaDevices.push(e)}setMarker(e){this._marker=e}close(){this._closed?s.warn("Attempted to close the Sampler twice"):(this._closed=!0,s.info("Closed"))}make(){if(this._closed)throw new Error("Cannot sample a closed Sampler");const e=Date.now(),t={callId:this._config.callId,clientId:this._config.clientId,sampleSeq:this._sampleSeq,roomId:this._config.roomId,userId:this._config.userId,timeZoneOffsetInHours:this._timezoneOffset,marker:this._marker,localSDPs:this._localSDP,engine:this._engine,platform:this._platform,browser:this._browser,os:this._os,mediaConstraints:this._mediaConstraints,userMediaErrors:this._userMediaErrors,extensionStats:this._extensionStats,mediaDevices:this._mediaDevices,timestamp:e};if(++this._sampleSeq,this._engine=void 0,this._platform=void 0,this._browser=void 0,this._os=void 0,this._mediaConstraints=void 0,this._userMediaErrors=void 0,this._extensionStats=void 0,this._mediaDevices=void 0,this._localSDP=void 0,!this._statsReader)return s.warn("No StatsProvider has been assigned to Sampler"),this._sampled=t.timestamp,t;let n,r,i,a,o,c,l,d,u,p,f,h;for(const e of this._statsReader.peerConnections()){for(const[t,i]of this._makeInboundTrack(e))t&&(n||(n=[]),n.push(t)),i&&(r||(r=[]),r.push(i));for(const[t,n]of this._makeOutboundTrack(e))t&&(i||(i=[]),i.push(t)),n&&(a||(a=[]),a.push(n));for(const t of this._makePcTransport(e))o||(o=[]),o.push(t);for(const t of this._makeMediaSource(e))c||(c=[]),c.push(t);for(const t of this._makeCodec(e))l||(l=[]),l.push(t);for(const t of this._makeCertificate(e))d||(d=[]),d.push(t);for(const t of this._makeIceLocalCandidate(e))u||(u=[]),u.push(t);for(const t of this._makeIceRemoteCandidate(e))p||(p=[]),p.push(t);for(const t of this._makeDataChannel(e))f||(f=[]),f.push(t);for(const t of this._makeIceServer(e))h||(h=[]),h.push(t)}return t.inboundAudioTracks=n,t.inboundVideoTracks=r,t.outboundAudioTracks=i,t.outboundVideoTracks=a,t.pcTransports=o,t.mediaSources=c,t.codecs=l,t.certificates=d,t.iceLocalCandidates=u,t.iceRemoteCandidates=p,t.dataChannels=f,t.iceServers=h,this._sampled=t.timestamp,s.debug("Assembled ClientSample",t),t}*_makeOutboundTrack(e){var t,n;for(const r of e.outboundRtps()){if(this._config.incrementalSampling&&this._sampled&&r.updated<=this._sampled)continue;const i=(null===(t=r.getRemoteInboundRtp())||void 0===t?void 0:t.stats)||{},o=r.getMediaSource(),c=r.getCodec();let l={};(!this._config.incrementalSampling&&(null==c?void 0:c.stats)||(null==c?void 0:c.stats)&&this._sampled&&this._sampled<=c.updated)&&(l=null==c?void 0:c.stats);const d=r.getTrackId();if(!d||!(0,a.isValidUuid)(d)){s.debug(`TrackId ${d} either not a uuid or not exists`);continue}const{ended:u}=(null===(n=r.getSender())||void 0===n?void 0:n.stats)||{};if("audio"===r.stats.kind){const{trackIdentifier:t,...n}=o?o.stats:{};let a={};n&&(this._config.incrementalSampling?o&&this._sampled&&this._sampled<=o.updated&&(a=n):a=n);const{sfuStreamId:s}=this._trackRelations.get(d||"notId")||{},{perDscpPacketsSent:c,...p}=r.stats,f=c?Object.keys(c)[0]:void 0,h=c&&f?c[f]:void 0,m={...l,...a,...i,...p,peerConnectionId:e.collectorId,perDscpPacketsSent:h,trackId:d,sfuStreamId:s,ended:u};yield[m,void 0]}if("video"===r.stats.kind){const{trackIdentifier:t,...n}=o?o.stats:{};let a={};n&&(this._config.incrementalSampling?o&&this._sampled&&this._sampled<=o.updated&&(a=n):a=n);const{sfuStreamId:s}=this._trackRelations.get(d||"notId")||{},{qualityLimitationDurations:c,perDscpPacketsSent:p,...f}=r.stats,h=p?Object.keys(p)[0]:void 0,m=p&&h?p[h]:void 0,g={...l,...a,...i,...f,peerConnectionId:e.collectorId,qualityLimitationDurationNone:null==c?void 0:c.none,qualityLimitationDurationCPU:null==c?void 0:c.cpu,qualityLimitationDurationBandwidth:null==c?void 0:c.bandwidth,qualityLimitationDurationOther:null==c?void 0:c.none,perDscpPacketsSent:m,trackId:d,sfuStreamId:s,ended:u};yield[void 0,g]}}}*_makeInboundTrack(e){var t,n;for(const r of e.inboundRtps()){if(this._config.incrementalSampling&&this._sampled&&r.updated<=this._sampled)continue;const i=r.getTrackId();if(!i||!(0,a.isValidUuid)(i)){s.debug(`TrackId ${i} either not a uuid or not exists`);continue}const o=(null===(t=r.getRemoteOutboundRtp())||void 0===t?void 0:t.stats)||{},{ended:c}=(null===(n=r.getReceiver())||void 0===n?void 0:n.stats)||{},{sfuStreamId:l,sfuSinkId:d,remoteClientId:u}=this._trackRelations.get(i||"notId")||{},p=r.getCodec();let f={};(!this._config.incrementalSampling&&(null==p?void 0:p.stats)||(null==p?void 0:p.stats)&&this._sampled&&this._sampled<=p.updated)&&(f=null==p?void 0:p.stats);const{perDscpPacketsReceived:h,...m}=r.stats,g=h?Object.keys(h)[0]:void 0,v=h&&g?h[g]:void 0;if("audio"===r.stats.kind){const t={...o,...f,...m,perDscpPacketsReceived:v,trackId:i,sfuStreamId:l,sfuSinkId:d,remoteClientId:u,ended:c,peerConnectionId:e.collectorId};yield[t,void 0]}if("video"===r.stats.kind){const t={...o,...f,...m,trackId:i,sfuStreamId:l,sfuSinkId:d,remoteClientId:u,ended:c,peerConnectionId:e.collectorId};yield[void 0,t]}}}*_makePcTransport(e){for(const t of e.transports()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const n=t.stats,r=t.getSelectedIceCandidatePair();let a={},s={},o={};if(r&&(!this._config.incrementalSampling||!this._sampled||this._sampled<=r.updated)){a=(0,i.makePrefixedObj)(r.stats,"candidatePair",!0);const e=r.getLocalCandidate();s=e?(0,i.makePrefixedObj)(e.stats,"local",!0):{};const t=r.getRemoteCandidate();o=t?(0,i.makePrefixedObj)(t.stats,"remote",!0):{}}const c={...e.stats,...n,...a,...s,...o,peerConnectionId:e.collectorId,label:e.collectorLabel};yield c}}*_makeMediaSource(e){for(const t of e.mediaSources()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const e=t.stats,n={...(e.kind,e)};yield n}}*_makeCodec(e){for(const t of e.codecs()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const e={...t.stats};yield e}}*_makeCertificate(e){for(const t of e.certificates()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const e={...t.stats};yield e}}*_makeIceLocalCandidate(e){for(const t of e.localCandidates()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const n={...t.stats,peerConnectionId:e.collectorId};yield n}}*_makeIceRemoteCandidate(e){for(const t of e.remoteCandidates()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const n=t.stats;yield{...n,peerConnectionId:e.collectorId}}}*_makeDataChannel(e){var t;for(const n of e.dataChannels()){if(this._config.incrementalSampling&&this._sampled&&n.updated<=this._sampled)continue;const r=n.stats;yield{...r,peerConnectionId:null!==(t=e.collectorId)&&void 0!==t?t:i.NULL_UUID}}}*_makeIceServer(e){for(const t of e.iceServers()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const e=t.stats.url;yield e}}}t.Sampler=o},7687:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Sender=void 0;const i=n(9002),a=n(565),s=n(2339),o=r(n(7187)),c=(0,s.createLogger)("Sender"),l="onError",d="onClosed";class u{constructor(e){var t;this._closed=!1,this._emitter=new o.default,this._config=e,this._codec=(0,i.createCodec)(this._config.format),this._transport=function(e){if(e.websocket)return a.WebsocketTransport.create(e.websocket);throw new Error(`No transport is manifested for config ${e}`)}({websocket:e.websocket}).setFormat(null!==(t=this._config.format)&&void 0!==t?t:"json").onReceived((e=>{c.debug("Received message",e)}))}static create(e){const t=Object.assign({},e),n=new u(t);return c.debug("Created",t),n}close(){this._closed||this._close()}_close(e){if(this._closed)c.warn("Attempted to close the Sender twice");else{try{this._transport&&!this._transport.closed&&this._transport.close()}finally{this._closed=!0,c.info("Closed")}e?this._emitter.emit(l,e):this._emitter.emit(d),[d,l].forEach((e=>this._emitter.removeAllListeners(e)))}}get closed(){return this._closed}send(e){if(this._closed)throw new Error("Cannot use an already closed Sender");let t;try{t=this._codec.encode(e)}catch(e){return void c.warn("Encoding error",e)}this._transport.send(t).catch((e=>{c.warn(e),this._closed||this.close()}))}onError(e){if(this._closed)throw new Error("Cannot subscribe / unsubscribe events of a closed Sender");return this._emitter.on(l,e),this}offError(e){return this._closed||this._emitter.off(l,e),this}onClosed(e){if(this._closed)throw new Error("Cannot subscribe / unsubscribe events of a closed Sender");return this._emitter.on(d,e),this}offClosed(e){return this._closed||this._emitter.off(d,e),this}}t.Sender=u},1149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castStats=t.createAdapter=void 0;const r=n(7550),i=n(7622),a=n(5748),s=n(5537),o=n(8305),c=(0,n(2339).createLogger)("Adapter");t.createAdapter=function(e){const t=Object.assign({},e);if(!t||!t.browserType)return new i.DefaultAdapter;switch(t.browserType.toLowerCase()){case"chrome":return function(e){if(!e)return new i.DefaultAdapter;const t=e.split(".")[0];if(!t)return c.warn(`Cannot recognize chrome version ${e}`),new i.DefaultAdapter;const n=Number.parseInt(t);return Number.isInteger(n)?n<86?(c.info("There is no adapter for chrome before version 86"),new i.DefaultAdapter):new r.Chrome86Adapter:(c.warn(`Cannot recognize chrome version major number ${t}`),new i.DefaultAdapter)}(t.browserVersion);case"firefox":return function(e){if(!e)return new i.DefaultAdapter;const t=e.split(".")[0];if(!t)return c.warn(`Cannot recognize firefox version ${e}`),new i.DefaultAdapter;const n=Number.parseInt(t);return Number.isInteger(n)?new s.Firefox94Adapter:(c.warn(`Cannot recognize firefox version major number ${t}`),new i.DefaultAdapter)}(t.browserVersion);case"safari":return function(e){if(!e)return new i.DefaultAdapter;const t=e.split(".")[0];if(!t)return c.warn(`Cannot recognize safari version ${e}`),new i.DefaultAdapter;const n=Number.parseInt(t);return Number.isInteger(n)?new o.Safari14Adapter:(c.warn(`Cannot recognize safari version major number ${t}`),new i.DefaultAdapter)}(t.browserVersion);default:return new i.DefaultAdapter}},t.castStats=function(e,t){switch(e.toLowerCase()){case a.W3CStats.StatsType.codec:return[a.W3CStats.StatsType.codec,t];case a.W3CStats.StatsType.inboundRtp:return[a.W3CStats.StatsType.inboundRtp,t];case a.W3CStats.StatsType.outboundRtp:return[a.W3CStats.StatsType.outboundRtp,t];case a.W3CStats.StatsType.remoteInboundRtp:return[a.W3CStats.StatsType.remoteInboundRtp,t];case a.W3CStats.StatsType.remoteOutboundRtp:return[a.W3CStats.StatsType.remoteOutboundRtp,t];case a.W3CStats.StatsType.mediaSource:return[a.W3CStats.StatsType.mediaSource,t];case a.W3CStats.StatsType.csrc:return[a.W3CStats.StatsType.csrc,t];case a.W3CStats.StatsType.peerConnection:return[a.W3CStats.StatsType.peerConnection,t];case a.W3CStats.StatsType.dataChannel:return[a.W3CStats.StatsType.dataChannel,t];case a.W3CStats.StatsType.stream:case a.W3CStats.StatsType.track:return;case a.W3CStats.StatsType.transceiver:return[a.W3CStats.StatsType.transceiver,t];case a.W3CStats.StatsType.sender:return[a.W3CStats.StatsType.sender,t];case a.W3CStats.StatsType.receiver:return[a.W3CStats.StatsType.receiver,t];case a.W3CStats.StatsType.transport:return[a.W3CStats.StatsType.transport,t];case a.W3CStats.StatsType.sctpTransport:return[a.W3CStats.StatsType.sctpTransport,t];case a.W3CStats.StatsType.candidatePair:return[a.W3CStats.StatsType.candidatePair,t];case a.W3CStats.StatsType.localCandidate:return[a.W3CStats.StatsType.localCandidate,t];case a.W3CStats.StatsType.remoteCandidate:return[a.W3CStats.StatsType.remoteCandidate,t];case a.W3CStats.StatsType.certificate:return[a.W3CStats.StatsType.certificate,t];case a.W3CStats.StatsType.iceServer:return[a.W3CStats.StatsType.iceServer,t];default:return}}},7550:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome86Adapter=void 0;const r=n(1149),i=(0,n(2339).createLogger)("Chrome86Adapter");t.Chrome86Adapter=class{*adapt(e){if(!e||!e.values||"function"!=typeof e.values)return void i.warn("not rtcStats object is provided to the adapter: ",e);const t=new Map;for(const n of e.values())n&&"track"===n.type&&t.set(n.id,n);const n=new Map,a=new Map;for(let i of e.values()){const e=i.type;if(i&&e&&"string"==typeof e&&"track"!==e){if("inbound-rtp"===e||"outbound-rtp"===e){if(i.trackId){const r=t.get(i.trackId);r&&(i={...r,...i},"outbound-rtp"===e?n.set(r.id,r):"inbound-rtp"===e&&a.set(r.id,r))}i.mediaType&&!i.kind&&(i.kind=i.mediaType),"inbound-rtp"===e&&i.trackId&&!i.receiverId&&(i.receiverId=i.trackId),"outbound-rtp"===e&&i.trackId&&!i.senderId&&(i.senderId=i.trackId)}else"local-candidate"!==e&&"remote-candidate"!==e||i.ip&&!i.address&&(i.address=i.ip);yield(0,r.castStats)(e,i)}}for(const e of n.values())yield(0,r.castStats)("sender",e);for(const e of a.values())yield(0,r.castStats)("receiver",e)}}},7622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAdapter=void 0;const r=n(1149),i=(0,n(2339).createLogger)("DefaultAdapter");t.DefaultAdapter=class{*adapt(e){if(e&&e.values&&"function"==typeof e.values)for(const t of e.values()){const e=t.type;e&&"string"==typeof e&&(yield(0,r.castStats)(e,t))}else i.warn("not rtcStats object is provided to the adapter: ",e)}}},5537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Firefox94Adapter=void 0;const r=n(1149),i=(0,n(2339).createLogger)("Safari14Adapter");t.Firefox94Adapter=class{*adapt(e){if(e&&e.values&&"function"==typeof e.values)for(const t of e.values()){const e=t.type;t&&e&&"string"==typeof e&&("inbound-rtp"!==e&&"outbound-rtp"!==e&&"remote-inbound-rtp"!==e&&"remote-outbound-rtp"!==e||t.mediaType&&!t.kind&&(t.kind=t.mediaType,delete t.mediaType),yield(0,r.castStats)(e,t))}else i.warn("not rtcStats object is provided to the adapter: ",e)}}},8305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Safari14Adapter=void 0;const r=n(1149),i=(0,n(2339).createLogger)("Safari14Adapter");t.Safari14Adapter=class{*adapt(e){if(!e||!e.values||"function"!=typeof e.values)return void i.warn("not rtcStats object is provided to the adapter: ",e);const t=new Map;for(const n of e.values())n&&"track"===n.type&&t.set(n.id,n);const n=new Map,a=new Map;for(let i of e.values()){const e=i.type;if(i&&e&&"string"==typeof e&&"track"!==e){if("inbound-rtp"===e||"outbound-rtp"===e){if(i.trackId){const r=t.get(i.trackId);r&&(i={...r,...i},"outbound-rtp"===e?n.set(r.id,r):"inbound-rtp"===e&&a.set(r.id,r))}"inbound-rtp"===e&&i.trackId&&!i.receiverId&&(i.receiverId=i.trackId),"outbound-rtp"===e&&i.trackId&&!i.senderId&&(i.senderId=i.trackId)}yield(0,r.castStats)(e,i)}}for(const e of n.values())yield(0,r.castStats)("sender",e);for(const e of a.values())yield(0,r.castStats)("receiver",e)}}},9002:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createCodec=void 0;const s=n(2236),o=n(7482),c=n(234),l=n(2301),d=n(5748),u=a(n(4492));t.createCodec=function(e){const t=null!=e?e:"json";if("json"===t){const e=o.JsonCodec.create(),t=l.TextCodec.create();return s.FacadedCodec.wrap(e).then(t)}if("protobuf"===t){const e=u.parse(d.ProtobufSamples).root.lookupType("org.observertc.schemas.protobuf.Samples");return c.ProtobufCodec.create({validate:!1,messageSchema:e})}throw new Error(`Unrecognized format config: ${t}`)}},2236:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FacadedCodec=void 0;class n{constructor(e){this._codec=e}static wrap(e){return new n(e)}encode(e){return this._codec.encode(e)}decode(e){return this._codec.decode(e)}then(e){const t=this._codec;return n.wrap({encode(n){const r=t.encode(n);return e.encode(r)},decode(n){const r=e.decode(n);return t.decode(r)}})}}t.FacadedCodec=n},7482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonCodec=void 0;class n{constructor(e){this._config=e}static create(e){const t=Object.assign({},e);return new n(t)}encode(e){return this._config.space?JSON.stringify(e,void 0,this._config.space):JSON.stringify(e)}decode(e){return JSON.parse(e)}}t.JsonCodec=n},234:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProtobufCodec=void 0;const s=n(5748),o=a(n(3281));class c{constructor(e){this._config=e}static create(e){const t={validate:!1,messageSchema:o.parse(s.ProtobufSamples).root.lookupType("org.observertc.schemas.protobuf.Samples")},n=Object.assign(t,e);return new c(n)}encode(e){if(this._config.validate){const t=this._config.messageSchema.verify(e);if(t)throw Error(t)}const t=this._config.messageSchema.create(e);return this._config.messageSchema.encode(t).finish()}decode(e){const t=this._config.messageSchema.decode(e);return this._config.messageSchema.toObject(t)}}t.ProtobufCodec=c},2301:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextCodec=void 0;const n={};class r{constructor(e){this._config=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder}static create(e){const t=Object.assign(n,e);return new r(t)}encode(e){return this._encoder.encode(e)}decode(e){return this._decoder.decode(e)}}t.TextCodec=r},1063:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PeerConnectionEntryImpl=void 0;const r=n(688),i=n(715);function a(e){return e?(e.timestamp=void 0,(0,i.hash)(e)):(0,i.hash)(e)}class s{constructor(e){this._ssrcsToInboundRtpPair=new Map,this._ssrcsToOutboundRtpPair=new Map,this._codecs=new Map,this._inboundRtps=new Map,this._outboundRtps=new Map,this._remoteInboundRtps=new Map,this._remoteOutboundRtps=new Map,this._mediaSources=new Map,this._contributingSources=new Map,this._dataChannels=new Map,this._transceivers=new Map,this._senders=new Map,this._receivers=new Map,this._transports=new Map,this._sctpTransports=new Map,this._iceCandidatePairs=new Map,this._localCandidates=new Map,this._remoteCandidates=new Map,this._certificates=new Map,this._iceServers=new Map,this.Visitor=class extends r.StatsVisitor{constructor(e){super(),this.touched=!1,this.created=Date.now(),this._pc=e}visit(e){super.visit(e),this.touched=!0}visitCodec(e){const t=this._pc,n=t._codecs,r=n.get(e.id),i=a(e);if(r){if(r.touched=this.created,r.hashCode===i)return;return r.hashCode=i,r.updated=this.created,void(r.stats=e)}const s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,created:this.created,updated:this.created,touched:this.created,hashCode:i,getTransport:()=>{const e=s.stats.transportId;return t._transports.get(e)}};n.set(e.id,s)}visitMediaSource(e){const t=this._pc,n=t._mediaSources,r=n.get(e.id),i=((s=e).frames=void 0,s.framesPerSecond=void 0,s.echoReturnLoss=void 0,s.totalSamplesDuration=void 0,s.echoReturnLossEnhancement=void 0,a(s));var s;if(r){if(r.touched=this.created,r.hashCode===i)return;return r.updated=this.created,void(r.stats=e)}const o={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created};n.set(e.id,o)}visitInboundRtp(e){const t=this._pc,n=t._inboundRtps,r=n.get(e.id),i=a(e);if(r)r.touched=this.created,r.hashCode!==i&&(r.updated=this.created,r.stats=e);else{const r=this._pc._ssrcsToInboundRtpPair,a=this._pc._remoteOutboundRtps,s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created,getSsrc:()=>s.stats.ssrc,getTrackId:()=>{var e;const{stats:t}=null!==(e=s.getReceiver())&&void 0!==e?e:{};return null==t?void 0:t.trackIdentifier},getReceiver:()=>{const e=s.stats.receiverId;return t._receivers.get(e)},getCodec:()=>{const e=s.stats.codecId;if(e)return t._codecs.get(e)},getTransport:()=>{const e=s.stats.transportId;if(e)return t._transports.get(e)},getRemoteOutboundRtp:()=>{const e=s.getSsrc();if(!e)return;const t=r.get(e);return t&&t.remoteOutboundRtpId?a.get(t.remoteOutboundRtpId):void 0}};n.set(e.id,s);const o=s.getSsrc();if(o){const e=this._pc._ssrcsToInboundRtpPair;let t=e.get(o);t||(t={},e.set(o,t)),t.inboundRtpId=s.stats.id}}}visitOutboundRtp(e){const t=this._pc,n=t._outboundRtps;let r=n.get(e.id);const i=a(e);if(r)r.touched=this.created,r.hashCode!==i&&(r.updated=this.created,r.stats=e);else{const a=this._pc._ssrcsToOutboundRtpPair,s=this._pc._remoteInboundRtps,o={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created,getSsrc:()=>o.stats.ssrc,getTrackId:()=>{var e,t;const{stats:n}=null!==(e=o.getSender())&&void 0!==e?e:{};if(null==n?void 0:n.trackIdentifier)return n.trackIdentifier;const{stats:r}=null!==(t=o.getMediaSource())&&void 0!==t?t:{};return null==r?void 0:r.trackIdentifier},getSender:()=>{const e=o.stats.senderId;if(e)return t._senders.get(e)},getCodec:()=>{const e=o.stats.codecId;if(e)return t._codecs.get(e)},getTransport:()=>{const e=o.stats.transportId;if(e)return t._transports.get(e)},getMediaSource:()=>{const e=o.stats.mediaSourceId;if(e)return t._mediaSources.get(e)},getRemoteInboundRtp:()=>{const e=o.getSsrc();if(!e)return;const t=a.get(e);return t&&t.remoteInboundRtpId?s.get(t.remoteInboundRtpId):void 0}};n.set(e.id,o),r=o}const s=r.getSsrc();if(s){const e=this._pc._ssrcsToOutboundRtpPair;let t=e.get(s);t||(t={},e.set(s,t)),t.outboundRtpId=r.stats.id}}visitRemoteInboundRtp(e){const t=this._pc,n=t._remoteInboundRtps,r=n.get(e.id),i=a(e);if(r)r.touched=this.created,r.hashCode!==i&&(r.updated=this.created,r.stats=e);else{const r=this._pc._ssrcsToOutboundRtpPair,a=this._pc._outboundRtps,s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created,getSsrc:()=>s.stats.ssrc,getCodec:()=>{const e=s.stats.codecId;if(e)return t._codecs.get(e)},getTransport:()=>{const e=s.stats.transportId;if(e)return t._transports.get(e)},getOutboundRtp:()=>{const e=s.getSsrc();if(!e)return;const t=r.get(e);return t&&t.outboundRtpId?a.get(t.outboundRtpId):void 0}};n.set(e.id,s);const o=s.getSsrc();if(o){const e=this._pc._ssrcsToOutboundRtpPair;let t=e.get(o);t||(t={},e.set(o,t)),t.remoteInboundRtpId=s.stats.id}}}visitRemoteOutboundRtp(e){const t=this._pc,n=t._remoteOutboundRtps,r=n.get(e.id),i=a(e);if(r)r.touched=this.created,i!==r.hashCode&&(r.updated=this.created,r.stats=e);else{const r=this._pc._ssrcsToInboundRtpPair,a=this._pc._inboundRtps,s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created,getSsrc:()=>s.stats.ssrc,getCodec:()=>{const e=s.stats.codecId;if(e)return t._codecs.get(e)},getTransport:()=>{const e=s.stats.transportId;if(e)return t._transports.get(e)},getInboundRtp:()=>{const e=s.getSsrc();if(!e)return;const t=r.get(e);return t&&t.inboundRtpId?a.get(t.inboundRtpId):void 0}};n.set(e.id,s);const o=s.getSsrc();if(o){let e=r.get(o);e||(e={},r.set(o,e)),e.remoteOutboundRtpId=s.stats.id}}}visitContributingSource(e){const t=this._pc,n=t._contributingSources,r=n.get(e.id),i=a(e);if(r){if(r.touched=this.created,r.hashCode===i)return;return r.updated=this.created,void(r.stats=e)}const s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created,getInboundRtp:()=>{const e=s.stats.inboundRtpStreamId;return t._inboundRtps.get(e)}};n.set(e.id,s)}visitPeerConnection(e){const t=this._pc;t._stats=e,t._updated=this.created}visitDataChannel(e){const t=this._pc,n=t._dataChannels,r=n.get(e.id),i=a(e);if(r){if(r.touched=this.created,r.hashCode===i)return;return r.updated=this.created,void(r.stats=e)}const s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created};n.set(e.id,s)}visitTransceiver(e){const t=this._pc,n=t._transceivers,r=n.get(e.id),i=a(e);if(r){if(r.touched=this.created,r.hashCode===i)return;return r.updated=this.created,void(r.stats=e)}const s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created,getSender:()=>{const e=s.stats.senderId;return t._senders.get(e)},getReceiver:()=>{const e=s.stats.senderId;return t._receivers.get(e)}};n.set(e.id,s)}visitSender(e){const t=this._pc,n=t._senders,r=n.get(e.id),i=a(e);if(r){if(r.touched=this.created,r.hashCode===i)return;return r.updated=this.created,void(r.stats=e)}const s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created,getMediaSource:()=>{const e=s.stats.mediaSourceId;if(e)return t._mediaSources.get(e)}};n.set(e.id,s)}visitReceiver(e){const t=this._pc,n=t._receivers,r=n.get(e.id),i=a(e);if(r){if(r.touched=this.created,r.hashCode===i)return;return r.updated=this.created,void(r.stats=e)}const s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created};n.set(e.id,s)}visitTransport(e){const t=this._pc,n=t._transports,r=n.get(e.id),i=a(e);if(r){if(r.touched=this.created,r.hashCode===i)return;return r.updated=this.created,void(r.stats=e)}const s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created,getSelectedIceCandidatePair:()=>{const e=s.stats.selectedCandidatePairId;if(e)return t._iceCandidatePairs.get(e)},getLocalCertificate:()=>{const e=s.stats.localCertificateId;if(e)return t._certificates.get(e)},getRemoteCertificate:()=>{const e=s.stats.remoteCertificateId;if(e)return t._certificates.get(e)},getRtcpTransport:()=>{const e=s.stats.rtcpTransportStatsId;if(e)return t._transports.get(e)}};n.set(e.id,s)}visitSctpTransport(e){const t=this._pc,n=t._sctpTransports,r=n.get(e.id),i=a(e);if(r){if(r.touched=this.created,r.hashCode===i)return;return r.updated=this.created,void(r.stats=e)}const s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created,getTransport:()=>{const e=s.stats.transportId;if(e)return t._transports.get(e)}};n.set(e.id,s)}visitIceCandidatePair(e){const t=this._pc,n=t._iceCandidatePairs,r=n.get(e.id),i=a(e);if(r){if(r.touched=this.created,r.hashCode===i)return;return r.updated=this.created,void(r.stats=e)}const s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created,getTransport:()=>{const e=s.stats.transportId;if(e)return t._transports.get(e)},getLocalCandidate:()=>{const e=s.stats.localCandidateId;if(e)return t._localCandidates.get(e)},getRemoteCandidate:()=>{const e=s.stats.remoteCandidateId;if(e)return t._remoteCandidates.get(e)}};n.set(e.id,s)}visitLocalCandidate(e){const t=this._pc,n=t._localCandidates,r=n.get(e.id),i=a(e);if(r){if(r.touched=this.created,r.hashCode===i)return;return r.updated=this.created,void(r.stats=e)}const s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created,getTransport:()=>{const e=s.stats.transportId;if(e)return t._transports.get(e)}};n.set(e.id,s)}visitRemoteCandidate(e){const t=this._pc,n=t._remoteCandidates,r=n.get(e.id),i=a(e);if(r){if(r.touched=this.created,r.hashCode===i)return;return r.updated=this.created,void(r.stats=e)}const s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created,getTransport:()=>{const e=s.stats.transportId;if(e)return t._transports.get(e)}};n.set(e.id,s)}visitCertificate(e){const t=this._pc,n=t._certificates,r=n.get(e.id),i=a(e);if(r){if(r.touched=this.created,r.hashCode===i)return;return r.updated=this.created,void(r.stats=e)}const s={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created};n.set(e.id,s)}visitIceServer(e){const t=this._pc,n=t._iceServers;let r=n.get(e.id);const i=a(e);if(r){if(r.touched=this.created,r.hashCode===i)return;r.updated=this.created,r.stats=e}else r={appData:{},id:e.id,getPeerConnection:()=>t,stats:e,hashCode:i,touched:this.created,created:this.created,updated:this.created},n.set(e.id,r)}},this._config=e;const t=Date.now();this.created=t,this._updated=t,this._touched=t}static create(e){return new s(e)}get collectorId(){return this._config.collectorId}get collectorLabel(){return this._config.collectorLabel}*trackIds(){for(const e of this._receivers.values()){if(!e.stats)continue;const{trackIdentifier:t}=e.stats;t&&(yield t)}for(const e of this._senders.values()){if(!e.stats)continue;const{trackIdentifier:t}=e.stats;t&&(yield t)}for(const e of this._mediaSources.values()){if(!e.stats)continue;const{trackIdentifier:t}=e.stats;t&&(yield t)}}receivers(){return this._receivers.values()}mediaSources(){return this._mediaSources.values()}outboundRtps(){return this._outboundRtps.values()}remoteInboundRtps(){return this._remoteInboundRtps.values()}remoteOutboundRtps(){return this._remoteOutboundRtps.values()}contributingSources(){return this._contributingSources.values()}dataChannels(){return this._dataChannels.values()}transceivers(){return this._transceivers.values()}senders(){return this._senders.values()}transports(){return this._transports.values()}sctpTransports(){return this._sctpTransports.values()}iceCandidatePairs(){return this._iceCandidatePairs.values()}localCandidates(){return this._localCandidates.values()}remoteCandidates(){return this._remoteCandidates.values()}certificates(){return this._certificates.values()}iceServers(){return this._iceServers.values()}get stats(){return this._stats}get id(){var e;return null===(e=this._stats)||void 0===e?void 0:e.id}get updated(){return this._updated}get touched(){return this._touched}codecs(){return this._codecs.values()}inboundRtps(){return this._inboundRtps.values()}update(e){const t=new this.Visitor(this);t.visit(e),t.touched&&(this._touched=t.created)}_getEntryMaps(){return[this._codecs,this._inboundRtps,this._outboundRtps,this._remoteInboundRtps,this._remoteOutboundRtps,this._mediaSources,this._contributingSources,this._dataChannels,this._transceivers,this._senders,this._receivers,this._transports,this._sctpTransports,this._iceCandidatePairs,this._localCandidates,this._remoteCandidates,this._certificates,this._iceServers]}trim(e){const t=this._getEntryMaps();for(const n of t){const t=[];for(const r of n.values())r.touched<e&&t.push(r.id);for(const e of t)n.delete(e)}}clear(){const e=this._getEntryMaps();for(const t of e)t.clear()}}t.PeerConnectionEntryImpl=s},9828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsStorage=void 0;const r=n(1063),i=(0,n(2339).createLogger)("StatsStorage");t.StatsStorage=class{constructor(){this._peerConnections=new Map}accept(e,t){const n=this._peerConnections.get(e);n?n.update(t):i.warn(`PeerConnectionEntry is not registered for collectorId ${e}`)}trim(e){for(const t of this._peerConnections.values())t.trim(e)}clear(){for(const e of this._peerConnections.values())e.clear()}register(e,t){const n=r.PeerConnectionEntryImpl.create({collectorId:e,collectorLabel:t});this._peerConnections.set(e,n)}unregister(e){this._peerConnections.delete(e)||i.warn(`Peer Connection Entry does not exist for collectorId ${e}`)}*peerConnections(){for(const e of this._peerConnections.values())yield e}*receivers(){for(const e of this._peerConnections.values())for(const t of e.receivers())yield t}*mediaSources(){for(const e of this._peerConnections.values())for(const t of e.mediaSources())yield t}*outboundRtps(){for(const e of this._peerConnections.values())for(const t of e.outboundRtps())yield t}*remoteInboundRtps(){for(const e of this._peerConnections.values())for(const t of e.remoteInboundRtps())yield t}*remoteOutboundRtps(){for(const e of this._peerConnections.values())for(const t of e.remoteOutboundRtps())yield t}*contributingSources(){for(const e of this._peerConnections.values())for(const t of e.contributingSources())yield t}*dataChannels(){for(const e of this._peerConnections.values())for(const t of e.dataChannels())yield t}*transceivers(){for(const e of this._peerConnections.values())for(const t of e.transceivers())yield t}*senders(){for(const e of this._peerConnections.values())for(const t of e.senders())yield t}*transports(){for(const e of this._peerConnections.values())for(const t of e.transports())yield t}*sctpTransports(){for(const e of this._peerConnections.values())for(const t of e.sctpTransports())yield t}*iceCandidatePairs(){for(const e of this._peerConnections.values())for(const t of e.iceCandidatePairs())yield t}*localCandidates(){for(const e of this._peerConnections.values())for(const t of e.localCandidates())yield t}*remoteCandidates(){for(const e of this._peerConnections.values())for(const t of e.remoteCandidates())yield t}*certificates(){for(const e of this._peerConnections.values())for(const t of e.certificates())yield t}*iceServers(){for(const e of this._peerConnections.values())for(const t of e.iceServers())yield t}*codecs(){for(const e of this._peerConnections.values())for(const t of e.codecs())yield t}*inboundRtps(){for(const e of this._peerConnections.values())for(const t of e.inboundRtps())yield t}}},6648:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMonitor=void 0,t.ClientMonitor=a(n(3875))},9891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeUrl=void 0;const r=n(5748);t.makeUrl=function(e,t){const n=`format=${null!=t?t:"json"}&schemaVersion=${r.version}`;return-1!==e.indexOf("?")?`${e}&${n}`:`${e}?${n}`}},565:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketTransport=void 0;const r=n(7187),i=n(2339),a=n(9891),s=(0,i.createLogger)("WebsocketTransport"),o="onReceived";class c{constructor(e){if(this._closed=!1,this._emitter=new r.EventEmitter,this._sendingCounter=0,"undefined"==typeof WebSocket)throw new Error("No Websocket class has found in global namespace");this._config=e}static create(e){const t=Object.assign({urls:["cannot be this"],maxRetries:3},e),n=new c(t);return s.debug("Created",t),n}setFormat(e){return this._format=e,this}onReceived(e){return this._emitter.on(o,e),this}offReceived(e){return this._emitter.off(o,e),this}get closed(){return this._closed}get connected(){return!!this._ws}close(){if(this._closed)s.warn("Attempted to close twice");else{this._closed=!0;try{this._ws&&this._ws.close(),this._cancelTimer&&this._cancelTimer(),this._sent=void 0}finally{s.info("Closed")}}}async send(e){var t;if(this._closed)throw new Error("Failed to send data on an already closed transport");const n=++this._sendingCounter,r=async(t=!1)=>{const{reconnect:n}=this._config;if(!this._ws){if(this._closed)return;if(await this._connect(),!this._ws)return void(this._closed||this.close())}try{this._ws.send(e)}catch(e){if(!n||t)throw e;await r(!0)}};return this._sent=(null!==(t=this._sent)&&void 0!==t?t:Promise.resolve()).then((async()=>{await r()})).catch((()=>{this._closed||this.close()})).finally((()=>{this._sendingCounter===n&&(this._sent=void 0)})),this._sent}async _connect(){if(this._closed)throw new Error("Failed to connect to an already closed transport");if(this._ws)return void s.info("Already connected");const e=await this._createWebsocket(),{reconnect:t}=this._config;e.addEventListener("message",(e=>{this._emitter.emit(o,e)})),e.addEventListener("close",(e=>{4224<=e.code&&e.code<=4230?s.warn(`Closed by the observer, reason: ${e.reason}`):s.info(`Websocket is closed, reason: ${e.reason}`),this._ws=void 0,this._closed||t||this.close()})),e.addEventListener("error",(e=>{this._ws=void 0,s.warn("Error occurred in transport",e),this._closed||t||this.close()})),this._ws=e,s.info(`Connected to ${this._ws.url}`)}async _createWebsocket(e=0){if(this._closed)throw new Error("The transport is already closed");const{urls:t,maxRetries:n,protocols:r}=this._config,i=e<n*t.length,o=(0,a.makeUrl)(t[e%t.length],this._format);return await new Promise(((e,t)=>{const n=new WebSocket(o,r);n.readyState===WebSocket.OPEN?e(n):(n.addEventListener("close",t),n.addEventListener("error",t),n.addEventListener("open",(()=>e(n))))})).catch((async()=>{if(i)return s.info(`Connection to ${o} is failed. Tried: ${e}`),await this._waitBeforeReconnect(e+1),await this._createWebsocket(e+1);throw new Error(`Cannot connect to ${t.join(", ")}.`)}))}async _waitBeforeReconnect(e){const t=e+1,n=Math.random(),r=1+Math.max(.1,Math.min(n,1/t)),i=Math.floor(1e3*Math.min(Math.pow(t,r),60));return new Promise((e=>{const t=setTimeout((()=>{this._cancelTimer=void 0,e()}),i);this._cancelTimer=()=>{clearTimeout(t),this._cancelTimer=void 0},s.info(`Enforced waiting before reconnect is ${i}ms`)}))}}t.WebsocketTransport=c},3695:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaDevices=void 0,t.MediaDevices=class{constructor(){this._audioInputs=new Map,this._audioOutputs=new Map,this._videoInputs=new Map}update(...e){e&&(this._updateKind("audioinput",...e.filter((e=>"audioinput"===e.kind))),this._updateKind("videoinput",...e.filter((e=>"videoinput"===e.kind))),this._updateKind("audiooutput",...e.filter((e=>"audiooutput"===e.kind))))}values(e){return this._values(e)}sample(){const e=this._values();return function*(){for(const t of e)t.sampled||(yield t,t.sampled=!0)}()}_updateKind(e,...t){if(!e||t.length<1)return;const n=[];Array.from(this._getDeviceMap(e).values()).forEach((e=>{e.id&&n.push(e.id)}));const r=new Set;for(const n of t){if(!n.id)return;const t=n.id;if(!n.kind)return;this._getDeviceMap(e).set(t,n),r.add(t)}n.filter((e=>!r.has(e))).forEach((t=>{t&&this._getDeviceMap(e).delete(t)}))}_getDeviceMap(e){switch(e){case"audioinput":return this._audioInputs;case"audiooutput":return this._audioOutputs;case"videoinput":return this._videoInputs}}_values(e){if(!e){const e=this._audioInputs,t=this._videoInputs,n=this._audioOutputs;return function*(){for(const t of e.values())yield t;for(const e of t.values())yield e;for(const e of n.values())yield e}()}return this._getDeviceMap(e).values()}}},688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsVisitor=void 0;const r=n(5748),i=(0,n(2339).createLogger)("StatsVisitor");t.StatsVisitor=class{visit(e){const[t,n]=e;try{switch(t){case r.W3CStats.StatsType.codec:this.visitCodec(n);break;case r.W3CStats.StatsType.inboundRtp:this.visitInboundRtp(n);break;case r.W3CStats.StatsType.outboundRtp:this.visitOutboundRtp(n);break;case r.W3CStats.StatsType.remoteInboundRtp:this.visitRemoteInboundRtp(n);break;case r.W3CStats.StatsType.remoteOutboundRtp:this.visitRemoteOutboundRtp(n);break;case r.W3CStats.StatsType.mediaSource:this.visitMediaSource(n);break;case r.W3CStats.StatsType.csrc:this.visitContributingSource(n);break;case r.W3CStats.StatsType.peerConnection:this.visitPeerConnection(n);break;case r.W3CStats.StatsType.dataChannel:this.visitDataChannel(n);break;case r.W3CStats.StatsType.transceiver:this.visitTransceiver(n);break;case r.W3CStats.StatsType.sender:this.visitSender(n);break;case r.W3CStats.StatsType.receiver:this.visitReceiver(n);break;case r.W3CStats.StatsType.transport:this.visitTransport(n);break;case r.W3CStats.StatsType.sctpTransport:this.visitSctpTransport(n);break;case r.W3CStats.StatsType.candidatePair:this.visitIceCandidatePair(n);break;case r.W3CStats.StatsType.localCandidate:this.visitLocalCandidate(n);break;case r.W3CStats.StatsType.remoteCandidate:this.visitRemoteCandidate(n);break;case r.W3CStats.StatsType.certificate:this.visitCertificate(n);break;case r.W3CStats.StatsType.iceServer:this.visitIceServer(n)}}catch(e){i.warn(e)}}}},2570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;const r=n(8410),i=(0,n(2339).createLogger)("Timer");t.Timer=class{constructor(){this._collecting=new Map,this._sending=new Map,this._sampling=new Map}add(e){const t=(0,r.v4)(),n=Date.now(),i={...e,id:t,nextInvokeInMs:n+e.fixedDelayInMs,invoked:0},a=this,s=new class extends class{visit(e){switch(e.type){case"collect":this.visitCollectTypeAction(e);break;case"sample":this.visitSampleTypeAction(e);break;case"send":this.visitSendTypeAction(e)}}}{visitCollectTypeAction(e){a._collecting.set(t,i)}visitSampleTypeAction(e){a._sampling.set(t,i)}visitSendTypeAction(e){a._sending.set(t,i)}};return s.visit(i),this._timer||(this._timer=setTimeout(this._invoke.bind(this),0)),t}hasListener(e){switch(e){case"collect":return 0<this._collecting.size;case"sample":return 0<this._sampling.size;case"send":return 0<this._sending.size;default:return!1}}remove(e){let t=!1;this._iterateInOrder((n=>{t=t||n.delete(e)})),t||i.warn("Cannot remove a not existing action")}clear(e){this._timer&&(clearTimeout(this._timer),this._timer=void 0),e&&"collect"!==e||this._collecting.clear(),e&&"sample"!==e||this._sampling.clear(),e&&"send"!==e||this._sending.clear()}_invoke(){const e=Date.now();let t=e+6e4,n=0;if(this._iterateInOrder((r=>{const a=Array.from(r.values());for(const s of a){let a=0;const o=s.nextInvokeInMs-e;if(10<o)t=Math.min(t,s.nextInvokeInMs),++n;else{0<o&&(a=o);try{s.process()}catch(e){i.warn(`Error occurred while executing timer action (${s.context})`)}s.nextInvokeInMs=e+s.fixedDelayInMs+a,t=Math.min(t,s.nextInvokeInMs),++s.invoked,s.maxInvoke&&s.maxInvoke<=s.invoked?r.delete(s.id):++n}}})),n<1)return void(this._timer=void 0);const r=t-e;this._timer=setTimeout(this._invoke.bind(this),r)}_iterateInOrder(e){for(const t of[this._collecting,this._sampling,this._sending])e(t)}}},9923:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NULL_UUID=t.makeForwardDeltaObj=t.makePrefixedObj=void 0,t.makePrefixedObj=function(e,t,n){const r={};for(const[i,a]of Object.entries(e))r[`${t}${n?i.charAt(0).toUpperCase()+i.slice(1):i}`]=a;return r},t.makeForwardDeltaObj=function e(t,n){if(void 0===t||void 0===n){if(void 0===t&&void 0===n)return;return void 0===t?n:void 0}if(null===t||null===n){if(null===t&&null===n)return;return null===t?n:void 0}const r=typeof t;if(r!==typeof n)throw new Error(`Cannot make a delta obj between different type of object (${r}, ${typeof n}), sorry!`);if("function"===r)throw new Error("Cannot make a delta obj on functions?!");if(Array.isArray(t)||Array.isArray(n))throw new Error("Cannot make a delta obj between arrays, sorry!");if("object"===r){const r={};for(const i of Object.keys(t)){const a=e(t[i],n[i]);void 0!==a&&(r[i]=a)}for(const i of Object.keys(n)){if(void 0!==r[i])continue;const a=e(t[i],n[i]);void 0!==a&&(r[i]=a)}return r}if(t!==n)return n},t.NULL_UUID="00000000-0000-0000-0000-000000000000"},715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hash=void 0;const r=n(2023);t.hash=function e(t){const n=r.sha256.create();if(void 0===t)return n.update("undefined"),n.hex();if(null===t)return n.update("undefined"),n.hex();const i=typeof t;if("function"===i)return n.update("function"),n.hex();if("object"===i){for(const[r,i]of Object.entries(t)){const t=e(i);n.update(r+t)}return n.hex()}switch(i){case"bigint":case"boolean":case"number":case"symbol":n.update(t.toString());break;case"string":n.update(t);break;case"undefined":n.update("undefined")}return n.hex()}},2339:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getLevel=t.setLevel=t.createLogger=void 0;const s=a(n(2043));let o="info";const c=new Map;t.createLogger=e=>{const t=(e=>{const t=s.getLogger(e);return t.methodFactory=(t,n,r)=>{const i=(0,s.methodFactory)(t,n,r);return function(...t){i(`${e} ${(new Date).toUTCString()}`,...t)}},t})(`ObserveRTC::${e}`);return t.setLevel(o),c.set(e,t),t},t.setLevel=e=>{for(const t of c.values())t.setLevel(e);o=e},t.getLevel=()=>o},6857:(e,t)=>{"use strict";function n(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.checkUuid=t.isValidUuid=void 0,t.isValidUuid=n,t.checkUuid=function(e,t){if(!n(e))throw new Error(`Invalid Uuid ${e}. Context: ${t}`)}},5748:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.version=t.W3CStats=t.ProtobufSamples=void 0,a(n(2717),t);var o=n(6074);Object.defineProperty(t,"ProtobufSamples",{enumerable:!0,get:function(){return o.schema}}),t.W3CStats=s(n(3309)),t.version="2.0.1"},6074:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schema=void 0,t.schema='\nsyntax = "proto2";\n\npackage org.observertc.schemas.protobuf;\n\nmessage Samples {\n\tmessage Controls {\n\t\toptional string accessClaim = 1;\n\t\toptional bool close = 2;\n\t}\n\tmessage ClientSample {\n\t\tmessage Engine {\n\t\t\toptional string name = 1;\n\t\t\toptional string version = 2;\n\t\t}\n\t\tmessage Platform {\n\t\t\toptional string model = 1;\n\t\t\toptional string type = 2;\n\t\t\toptional string vendor = 3;\n\t\t}\n\t\tmessage Browser {\n\t\t\toptional string name = 1;\n\t\t\toptional string version = 2;\n\t\t}\n\t\tmessage OperationSystem {\n\t\t\toptional string name = 1;\n\t\t\toptional string version = 2;\n\t\t\toptional string versionName = 3;\n\t\t}\n\t\tmessage MediaDevice {\n\t\t\toptional string id = 1;\n\t\t\toptional string kind = 2;\n\t\t\toptional string label = 3;\n\t\t}\n\t\tmessage ExtensionStat {\n\t\t\trequired string payload = 1;\n\t\t\trequired string type = 2;\n\t\t}\n\t\tmessage PeerConnectionTransport {\n\t\t\trequired string peerConnectionId = 1;\n\t\t\toptional int64 bytesReceived = 2;\n\t\t\toptional int64 bytesSent = 3;\n\t\t\toptional double candidatePairAvailableIncomingBitrate = 4;\n\t\t\toptional double candidatePairAvailableOutgoingBitrate = 5;\n\t\t\toptional int64 candidatePairBytesDiscardedOnSend = 6;\n\t\t\toptional int64 candidatePairBytesReceived = 7;\n\t\t\toptional int64 candidatePairBytesSent = 8;\n\t\t\toptional int32 candidatePairCircuitBreakerTriggerCount = 9;\n\t\t\toptional int64 candidatePairConsentExpiredTimestamp = 10;\n\t\t\toptional int64 candidatePairConsentRequestBytesSent = 11;\n\t\t\toptional int32 candidatePairConsentRequestsSent = 12;\n\t\t\toptional double candidatePairCurrentRoundTripTime = 13;\n\t\t\toptional int64 candidatePairFirstRequestTimestamp = 14;\n\t\t\toptional int64 candidatePairLastPacketReceivedTimestamp = 15;\n\t\t\toptional int64 candidatePairLastPacketSentTimestamp = 16;\n\t\t\toptional int64 candidatePairLastRequestTimestamp = 17;\n\t\t\toptional int64 candidatePairLastResponseTimestamp = 18;\n\t\t\toptional int32 candidatePairPacketsDiscardedOnSend = 19;\n\t\t\toptional int32 candidatePairPacketsReceived = 20;\n\t\t\toptional int32 candidatePairPacketsSent = 21;\n\t\t\toptional int64 candidatePairRequestBytesSent = 22;\n\t\t\toptional int32 candidatePairRequestsReceived = 23;\n\t\t\toptional int32 candidatePairRequestsSent = 24;\n\t\t\toptional int64 candidatePairResponseBytesSent = 25;\n\t\t\toptional int32 candidatePairResponsesReceived = 26;\n\t\t\toptional int32 candidatePairResponsesSent = 27;\n\t\t\toptional int32 candidatePairRetransmissionReceived = 28;\n\t\t\toptional int32 candidatePairRetransmissionSent = 29;\n\t\t\toptional string candidatePairState = 30;\n\t\t\toptional double candidatePairTotalRoundTripTime = 31;\n\t\t\toptional int32 dataChannelsAccepted = 32;\n\t\t\toptional int32 dataChannelsClosed = 33;\n\t\t\toptional int32 dataChannelsOpened = 34;\n\t\t\toptional int32 dataChannelsRequested = 35;\n\t\t\toptional string dtlsCipher = 36;\n\t\t\toptional string dtlsState = 37;\n\t\t\toptional string iceLocalUsernameFragment = 38;\n\t\t\toptional string iceRole = 39;\n\t\t\toptional string iceState = 40;\n\t\t\toptional string label = 41;\n\t\t\toptional string localAddress = 42;\n\t\t\toptional string localCandidateICEServerUrl = 43;\n\t\t\toptional string localCandidateRelayProtocol = 44;\n\t\t\toptional string localCandidateType = 45;\n\t\t\toptional int32 localPort = 46;\n\t\t\toptional string localProtocol = 47;\n\t\t\toptional int32 packetsReceived = 48;\n\t\t\toptional int32 packetsSent = 49;\n\t\t\toptional string remoteAddress = 50;\n\t\t\toptional string remoteCandidateICEServerUrl = 51;\n\t\t\toptional string remoteCandidateRelayProtocol = 52;\n\t\t\toptional string remoteCandidateType = 53;\n\t\t\toptional int32 remotePort = 54;\n\t\t\toptional string remoteProtocol = 55;\n\t\t\toptional double sctpCongestionWindow = 56;\n\t\t\toptional int32 sctpMtu = 57;\n\t\t\toptional double sctpReceiverWindow = 58;\n\t\t\toptional double sctpSmoothedRoundTripTime = 59;\n\t\t\toptional int32 sctpUnackData = 60;\n\t\t\toptional int32 selectedCandidatePairChanges = 61;\n\t\t\toptional string srtpCipher = 62;\n\t\t\toptional string tlsGroup = 63;\n\t\t\toptional string tlsVersion = 64;\n\t\t}\n\t\tmessage MediaSourceStat {\n\t\t\toptional double audioLevel = 1;\n\t\t\toptional int32 bitDepth = 2;\n\t\t\toptional double echoReturnLoss = 3;\n\t\t\toptional double echoReturnLossEnhancement = 4;\n\t\t\toptional int32 frames = 5;\n\t\t\toptional double framesPerSecond = 6;\n\t\t\toptional int32 height = 7;\n\t\t\toptional string kind = 8;\n\t\t\toptional bool relayedSource = 9;\n\t\t\toptional double totalAudioEnergy = 10;\n\t\t\toptional double totalSamplesDuration = 11;\n\t\t\toptional string trackIdentifier = 12;\n\t\t\toptional int32 width = 13;\n\t\t}\n\t\tmessage MediaCodecStats {\n\t\t\toptional int32 channels = 1;\n\t\t\toptional int32 clockRate = 2;\n\t\t\toptional string codecType = 3;\n\t\t\toptional string mimeType = 4;\n\t\t\toptional string payloadType = 5;\n\t\t\toptional string sdpFmtpLine = 6;\n\t\t}\n\t\tmessage Certificate {\n\t\t\toptional string base64Certificate = 1;\n\t\t\toptional string fingerprint = 2;\n\t\t\toptional string fingerprintAlgorithm = 3;\n\t\t\toptional string issuerCertificateId = 4;\n\t\t}\n\t\tmessage InboundAudioTrack {\n\t\t\trequired int64 ssrc = 1;\n\t\t\toptional double averageRtcpInterval = 2;\n\t\t\toptional int32 burstDiscardCount = 3;\n\t\t\toptional double burstDiscardRate = 4;\n\t\t\toptional int32 burstLossCount = 5;\n\t\t\toptional double burstLossRate = 6;\n\t\t\toptional int32 burstPacketsDiscarded = 7;\n\t\t\toptional int32 burstPacketsLost = 8;\n\t\t\toptional int64 bytesReceived = 9;\n\t\t\toptional int64 bytesSent = 10;\n\t\t\toptional int32 channels = 11;\n\t\t\toptional int32 clockRate = 12;\n\t\t\toptional int32 concealedSamples = 13;\n\t\t\toptional int32 concealmentEvents = 14;\n\t\t\toptional string decoderImplementation = 15;\n\t\t\toptional bool ended = 16;\n\t\t\toptional int64 estimatedPlayoutTimestamp = 17;\n\t\t\toptional int32 fecPacketsDiscarded = 18;\n\t\t\toptional int32 fecPacketsReceived = 19;\n\t\t\toptional double gapDiscardRate = 20;\n\t\t\toptional double gapLossRate = 21;\n\t\t\toptional int64 headerBytesReceived = 22;\n\t\t\toptional int32 insertedSamplesForDeceleration = 23;\n\t\t\toptional double jitter = 24;\n\t\t\toptional double jitterBufferDelay = 25;\n\t\t\toptional int32 jitterBufferEmittedCount = 26;\n\t\t\toptional int64 lastPacketReceivedTimestamp = 27;\n\t\t\toptional string mimeType = 28;\n\t\t\toptional int32 nackCount = 29;\n\t\t\toptional int32 packetsDiscarded = 30;\n\t\t\toptional int32 packetsDuplicated = 31;\n\t\t\toptional int32 packetsFailedDecryption = 32;\n\t\t\toptional int32 packetsLost = 33;\n\t\t\toptional int32 packetsReceived = 34;\n\t\t\toptional int32 packetsRepaired = 35;\n\t\t\toptional int32 packetsSent = 36;\n\t\t\toptional int32 payloadType = 37;\n\t\t\toptional string peerConnectionId = 38;\n\t\t\toptional int32 perDscpPacketsReceived = 39;\n\t\t\toptional string remoteClientId = 40;\n\t\t\toptional int64 remoteTimestamp = 41;\n\t\t\toptional int32 removedSamplesForAcceleration = 42;\n\t\t\toptional int32 reportsSent = 43;\n\t\t\toptional double roundTripTime = 44;\n\t\t\toptional int32 roundTripTimeMeasurements = 45;\n\t\t\toptional int32 samplesDecodedWithCelt = 46;\n\t\t\toptional int32 samplesDecodedWithSilk = 47;\n\t\t\toptional string sdpFmtpLine = 48;\n\t\t\toptional string sfuSinkId = 49;\n\t\t\toptional string sfuStreamId = 50;\n\t\t\toptional int32 silentConcealedSamples = 51;\n\t\t\toptional double totalProcessingDelay = 52;\n\t\t\toptional double totalRoundTripTime = 53;\n\t\t\toptional int32 totalSamplesDecoded = 54;\n\t\t\toptional int32 totalSamplesReceived = 55;\n\t\t\toptional string trackId = 56;\n\t\t\toptional bool voiceActivityFlag = 57;\n\t\t}\n\t\tmessage InboundVideoTrack {\n\t\t\trequired int64 ssrc = 1;\n\t\t\toptional double averageRtcpInterval = 2;\n\t\t\toptional int32 burstDiscardCount = 3;\n\t\t\toptional double burstDiscardRate = 4;\n\t\t\toptional int32 burstLossCount = 5;\n\t\t\toptional double burstLossRate = 6;\n\t\t\toptional int32 burstPacketsDiscarded = 7;\n\t\t\toptional int32 burstPacketsLost = 8;\n\t\t\toptional int64 bytesReceived = 9;\n\t\t\toptional int64 bytesSent = 10;\n\t\t\toptional int32 channels = 11;\n\t\t\toptional int32 clockRate = 12;\n\t\t\toptional string decoderImplementation = 13;\n\t\t\toptional bool ended = 14;\n\t\t\toptional int64 estimatedPlayoutTimestamp = 15;\n\t\t\toptional int32 fecPacketsDiscarded = 16;\n\t\t\toptional int32 fecPacketsReceived = 17;\n\t\t\toptional int32 firCount = 18;\n\t\t\toptional int32 frameBitDepth = 19;\n\t\t\toptional int32 frameHeight = 20;\n\t\t\toptional int32 frameWidth = 21;\n\t\t\toptional int32 framesDecoded = 22;\n\t\t\toptional int32 framesDropped = 23;\n\t\t\toptional double framesPerSecond = 24;\n\t\t\toptional int32 framesReceived = 25;\n\t\t\toptional int32 fullFramesLost = 26;\n\t\t\toptional double gapDiscardRate = 27;\n\t\t\toptional double gapLossRate = 28;\n\t\t\toptional int64 headerBytesReceived = 29;\n\t\t\toptional double jitter = 30;\n\t\t\toptional double jitterBufferDelay = 31;\n\t\t\toptional int32 jitterBufferEmittedCount = 32;\n\t\t\toptional int32 keyFramesDecoded = 33;\n\t\t\toptional int64 lastPacketReceivedTimestamp = 34;\n\t\t\toptional string mimeType = 35;\n\t\t\toptional int32 nackCount = 36;\n\t\t\toptional int32 packetsDiscarded = 37;\n\t\t\toptional int32 packetsDuplicated = 38;\n\t\t\toptional int32 packetsFailedDecryption = 39;\n\t\t\toptional int32 packetsLost = 40;\n\t\t\toptional int32 packetsReceived = 41;\n\t\t\toptional int32 packetsRepaired = 42;\n\t\t\toptional int32 packetsSent = 43;\n\t\t\toptional int32 partialFramesLost = 44;\n\t\t\toptional int32 payloadType = 45;\n\t\t\toptional string peerConnectionId = 46;\n\t\t\toptional int32 perDscpPacketsReceived = 47;\n\t\t\toptional int32 pliCount = 48;\n\t\t\toptional int64 qpSum = 49;\n\t\t\toptional string remoteClientId = 50;\n\t\t\toptional int64 remoteTimestamp = 51;\n\t\t\toptional int32 reportsSent = 52;\n\t\t\toptional double roundTripTime = 53;\n\t\t\toptional int32 roundTripTimeMeasurements = 54;\n\t\t\toptional string sdpFmtpLine = 55;\n\t\t\toptional string sfuSinkId = 56;\n\t\t\toptional string sfuStreamId = 57;\n\t\t\toptional int32 sliCount = 58;\n\t\t\toptional double totalDecodeTime = 59;\n\t\t\toptional double totalInterFrameDelay = 60;\n\t\t\toptional double totalProcessingDelay = 61;\n\t\t\toptional double totalRoundTripTime = 62;\n\t\t\toptional double totalSquaredInterFrameDelay = 63;\n\t\t\toptional string trackId = 64;\n\t\t}\n\t\tmessage OutboundAudioTrack {\n\t\t\trequired int64 ssrc = 1;\n\t\t\toptional double audioLevel = 2;\n\t\t\toptional double averageRtcpInterval = 3;\n\t\t\toptional int32 burstDiscardCount = 4;\n\t\t\toptional double burstDiscardRate = 5;\n\t\t\toptional int32 burstLossCount = 6;\n\t\t\toptional double burstLossRate = 7;\n\t\t\toptional int32 burstPacketsDiscarded = 8;\n\t\t\toptional int32 burstPacketsLost = 9;\n\t\t\toptional int64 bytesDiscardedOnSend = 10;\n\t\t\toptional int64 bytesSent = 11;\n\t\t\toptional int32 channels = 12;\n\t\t\toptional int32 clockRate = 13;\n\t\t\toptional double echoReturnLoss = 14;\n\t\t\toptional double echoReturnLossEnhancement = 15;\n\t\t\toptional string encoderImplementation = 16;\n\t\t\toptional bool ended = 17;\n\t\t\toptional int32 fecPacketsSent = 18;\n\t\t\toptional double fractionLost = 19;\n\t\t\toptional double gapDiscardRate = 20;\n\t\t\toptional double gapLossRate = 21;\n\t\t\toptional int64 headerBytesSent = 22;\n\t\t\toptional double jitter = 23;\n\t\t\toptional int64 lastPacketSentTimestamp = 24;\n\t\t\toptional string mimeType = 25;\n\t\t\toptional int32 nackCount = 26;\n\t\t\toptional int32 packetsDiscarded = 27;\n\t\t\toptional int32 packetsDiscardedOnSend = 28;\n\t\t\toptional int32 packetsLost = 29;\n\t\t\toptional int32 packetsReceived = 30;\n\t\t\toptional int32 packetsRepaired = 31;\n\t\t\toptional int32 packetsSent = 32;\n\t\t\toptional int32 payloadType = 33;\n\t\t\toptional string peerConnectionId = 34;\n\t\t\toptional int32 perDscpPacketsSent = 35;\n\t\t\toptional bool relayedSource = 36;\n\t\t\toptional int32 reportsReceived = 37;\n\t\t\toptional int64 retransmittedBytesSent = 38;\n\t\t\toptional int32 retransmittedPacketsSent = 39;\n\t\t\toptional string rid = 40;\n\t\t\toptional double roundTripTime = 41;\n\t\t\toptional int32 roundTripTimeMeasurements = 42;\n\t\t\toptional int64 rtxSsrc = 43;\n\t\t\toptional int32 samplesEncodedWithCelt = 44;\n\t\t\toptional int32 samplesEncodedWithSilk = 45;\n\t\t\toptional string sdpFmtpLine = 46;\n\t\t\toptional string sfuStreamId = 47;\n\t\t\toptional int32 targetBitrate = 48;\n\t\t\toptional double totalAudioEnergy = 49;\n\t\t\toptional int64 totalEncodedBytesTarget = 50;\n\t\t\toptional double totalPacketSendDelay = 51;\n\t\t\toptional double totalRoundTripTime = 52;\n\t\t\toptional double totalSamplesDuration = 53;\n\t\t\toptional int32 totalSamplesSent = 54;\n\t\t\toptional string trackId = 55;\n\t\t\toptional bool voiceActivityFlag = 56;\n\t\t}\n\t\tmessage OutboundVideoTrack {\n\t\t\trequired int64 ssrc = 1;\n\t\t\toptional double averageRtcpInterval = 2;\n\t\t\toptional int32 bitDepth = 3;\n\t\t\toptional int32 burstDiscardCount = 4;\n\t\t\toptional double burstDiscardRate = 5;\n\t\t\toptional int32 burstLossCount = 6;\n\t\t\toptional double burstLossRate = 7;\n\t\t\toptional int32 burstPacketsDiscarded = 8;\n\t\t\toptional int32 burstPacketsLost = 9;\n\t\t\toptional int64 bytesDiscardedOnSend = 10;\n\t\t\toptional int64 bytesSent = 11;\n\t\t\toptional int32 channels = 12;\n\t\t\toptional int32 clockRate = 13;\n\t\t\toptional string encoderImplementation = 14;\n\t\t\toptional bool ended = 15;\n\t\t\toptional int32 fecPacketsSent = 16;\n\t\t\toptional int32 firCount = 17;\n\t\t\toptional double fractionLost = 18;\n\t\t\toptional int32 frameBitDepth = 19;\n\t\t\toptional int32 frameHeight = 20;\n\t\t\toptional int32 frameWidth = 21;\n\t\t\toptional int32 frames = 22;\n\t\t\toptional int32 framesDiscardedOnSend = 23;\n\t\t\toptional int32 framesDropped = 24;\n\t\t\toptional int32 framesEncoded = 25;\n\t\t\toptional double framesPerSecond = 26;\n\t\t\toptional int32 framesSent = 27;\n\t\t\toptional int32 fullFramesLost = 28;\n\t\t\toptional double gapDiscardRate = 29;\n\t\t\toptional double gapLossRate = 30;\n\t\t\toptional int64 headerBytesSent = 31;\n\t\t\toptional int32 height = 32;\n\t\t\toptional int32 hugeFramesSent = 33;\n\t\t\toptional double jitter = 34;\n\t\t\toptional int32 keyFramesEncoded = 35;\n\t\t\toptional int64 lastPacketSentTimestamp = 36;\n\t\t\toptional string mimeType = 37;\n\t\t\toptional int32 nackCount = 38;\n\t\t\toptional int32 packetsDiscarded = 39;\n\t\t\toptional int32 packetsDiscardedOnSend = 40;\n\t\t\toptional int32 packetsLost = 41;\n\t\t\toptional int32 packetsReceived = 42;\n\t\t\toptional int32 packetsRepaired = 43;\n\t\t\toptional int32 packetsSent = 44;\n\t\t\toptional int32 partialFramesLost = 45;\n\t\t\toptional int32 payloadType = 46;\n\t\t\toptional string peerConnectionId = 47;\n\t\t\toptional int32 perDscpPacketsSent = 48;\n\t\t\toptional int32 pliCount = 49;\n\t\t\toptional int64 qpSum = 50;\n\t\t\toptional double qualityLimitationDurationBandwidth = 51;\n\t\t\toptional double qualityLimitationDurationCPU = 52;\n\t\t\toptional double qualityLimitationDurationNone = 53;\n\t\t\toptional double qualityLimitationDurationOther = 54;\n\t\t\toptional string qualityLimitationReason = 55;\n\t\t\toptional int32 qualityLimitationResolutionChanges = 56;\n\t\t\toptional bool relayedSource = 57;\n\t\t\toptional int32 reportsReceived = 58;\n\t\t\toptional int64 retransmittedBytesSent = 59;\n\t\t\toptional int32 retransmittedPacketsSent = 60;\n\t\t\toptional string rid = 61;\n\t\t\toptional double roundTripTime = 62;\n\t\t\toptional int32 roundTripTimeMeasurements = 63;\n\t\t\toptional int64 rtxSsrc = 64;\n\t\t\toptional string sdpFmtpLine = 65;\n\t\t\toptional string sfuStreamId = 66;\n\t\t\toptional int32 sliCount = 67;\n\t\t\toptional int32 targetBitrate = 68;\n\t\t\toptional double totalEncodeTime = 69;\n\t\t\toptional int64 totalEncodedBytesTarget = 70;\n\t\t\toptional double totalPacketSendDelay = 71;\n\t\t\toptional double totalRoundTripTime = 72;\n\t\t\toptional string trackId = 73;\n\t\t\toptional int32 width = 74;\n\t\t}\n\t\tmessage IceLocalCandidate {\n\t\t\toptional string address = 1;\n\t\t\toptional string candidateType = 2;\n\t\t\toptional string id = 3;\n\t\t\toptional string peerConnectionId = 4;\n\t\t\toptional int32 port = 5;\n\t\t\toptional int64 priority = 6;\n\t\t\toptional string protocol = 7;\n\t\t\toptional string relayProtocol = 8;\n\t\t\toptional string url = 9;\n\t\t}\n\t\tmessage IceRemoteCandidate {\n\t\t\toptional string address = 1;\n\t\t\toptional string candidateType = 2;\n\t\t\toptional string id = 3;\n\t\t\toptional string peerConnectionId = 4;\n\t\t\toptional int32 port = 5;\n\t\t\toptional int64 priority = 6;\n\t\t\toptional string protocol = 7;\n\t\t\toptional string relayProtocol = 8;\n\t\t\toptional string url = 9;\n\t\t}\n\t\tmessage DataChannel {\n\t\t\toptional string address = 1;\n\t\t\toptional int64 bytesReceived = 2;\n\t\t\toptional int64 bytesSent = 3;\n\t\t\toptional int32 dataChannelIdentifier = 4;\n\t\t\toptional string id = 5;\n\t\t\toptional string label = 6;\n\t\t\toptional int32 messagesReceived = 7;\n\t\t\toptional int32 messagesSent = 8;\n\t\t\toptional string peerConnectionId = 9;\n\t\t\toptional int32 port = 10;\n\t\t\toptional string protocol = 11;\n\t\t\toptional string state = 12;\n\t\t}\n\t\trepeated Certificate certificates = 1;\n\t\trepeated MediaCodecStats codecs = 2;\n\t\trepeated DataChannel dataChannels = 3;\n\t\trepeated ExtensionStat extensionStats = 4;\n\t\trepeated IceLocalCandidate iceLocalCandidates = 5;\n\t\trepeated IceRemoteCandidate iceRemoteCandidates = 6;\n\t\trepeated string iceServers = 7;\n\t\trepeated InboundAudioTrack inboundAudioTracks = 8;\n\t\trepeated InboundVideoTrack inboundVideoTracks = 9;\n\t\trepeated string localSDPs = 10;\n\t\trepeated string mediaConstraints = 11;\n\t\trepeated MediaDevice mediaDevices = 12;\n\t\trepeated MediaSourceStat mediaSources = 13;\n\t\trepeated OutboundAudioTrack outboundAudioTracks = 14;\n\t\trepeated OutboundVideoTrack outboundVideoTracks = 15;\n\t\trepeated PeerConnectionTransport pcTransports = 16;\n\t\trepeated string userMediaErrors = 17;\n\t\trequired string clientId = 18;\n\t\trequired int64 timestamp = 19;\n\t\toptional Browser browser = 20;\n\t\toptional string callId = 21;\n\t\toptional Engine engine = 22;\n\t\toptional string marker = 23;\n\t\toptional OperationSystem os = 24;\n\t\toptional Platform platform = 25;\n\t\toptional string roomId = 26;\n\t\toptional int32 sampleSeq = 27;\n\t\toptional int32 timeZoneOffsetInHours = 28;\n\t\toptional string userId = 29;\n\t}\n\tmessage SfuSample {\n\t\tmessage SfuTransport {\n\t\t\trequired string transportId = 1;\n\t\t\toptional string dtlsState = 2;\n\t\t\toptional string iceRole = 3;\n\t\t\toptional string iceState = 4;\n\t\t\toptional bool internal = 5;\n\t\t\toptional string localAddress = 6;\n\t\t\toptional int32 localPort = 7;\n\t\t\toptional bool noReport = 8;\n\t\t\toptional string protocol = 9;\n\t\t\toptional string remoteAddress = 10;\n\t\t\toptional int32 remotePort = 11;\n\t\t\toptional int64 rtpBytesReceived = 12;\n\t\t\toptional int64 rtpBytesSent = 13;\n\t\t\toptional int32 rtpPacketsLost = 14;\n\t\t\toptional int32 rtpPacketsReceived = 15;\n\t\t\toptional int32 rtpPacketsSent = 16;\n\t\t\toptional int64 rtxBytesReceived = 17;\n\t\t\toptional int64 rtxBytesSent = 18;\n\t\t\toptional int32 rtxPacketsDiscarded = 19;\n\t\t\toptional int32 rtxPacketsLost = 20;\n\t\t\toptional int32 rtxPacketsReceived = 21;\n\t\t\toptional int32 rtxPacketsSent = 22;\n\t\t\toptional int64 sctpBytesReceived = 23;\n\t\t\toptional int64 sctpBytesSent = 24;\n\t\t\toptional int32 sctpPacketsReceived = 25;\n\t\t\toptional int32 sctpPacketsSent = 26;\n\t\t\toptional string sctpState = 27;\n\t\t}\n\t\tmessage SfuInboundRtpPad {\n\t\t\trequired string padId = 1;\n\t\t\trequired int64 ssrc = 2;\n\t\t\trequired string streamId = 3;\n\t\t\trequired string transportId = 4;\n\t\t\toptional int64 bytesReceived = 5;\n\t\t\toptional int32 clockRate = 6;\n\t\t\toptional int32 fecPacketsDiscarded = 7;\n\t\t\toptional int32 fecPacketsReceived = 8;\n\t\t\toptional int32 firCount = 9;\n\t\t\toptional double fractionLost = 10;\n\t\t\toptional int32 framesDecoded = 11;\n\t\t\toptional int32 framesReceived = 12;\n\t\t\toptional bool internal = 13;\n\t\t\toptional double jitter = 14;\n\t\t\toptional int32 keyFramesDecoded = 15;\n\t\t\toptional string mediaType = 16;\n\t\t\toptional string mimeType = 17;\n\t\t\toptional int32 nackCount = 18;\n\t\t\toptional bool noReport = 19;\n\t\t\toptional int32 packetsDiscarded = 20;\n\t\t\toptional int32 packetsDuplicated = 21;\n\t\t\toptional int32 packetsFailedDecryption = 22;\n\t\t\toptional int32 packetsLost = 23;\n\t\t\toptional int32 packetsReceived = 24;\n\t\t\toptional int32 packetsRepaired = 25;\n\t\t\toptional int32 payloadType = 26;\n\t\t\toptional int32 pliCount = 27;\n\t\t\toptional string rid = 28;\n\t\t\toptional double roundTripTime = 29;\n\t\t\toptional int32 rtcpRrSent = 30;\n\t\t\toptional int32 rtcpSrReceived = 31;\n\t\t\toptional int32 rtxPacketsDiscarded = 32;\n\t\t\toptional int32 rtxPacketsReceived = 33;\n\t\t\toptional int64 rtxSsrc = 34;\n\t\t\toptional string sdpFmtpLine = 35;\n\t\t\toptional int32 sliCount = 36;\n\t\t\toptional int32 targetBitrate = 37;\n\t\t\toptional bool voiceActivityFlag = 38;\n\t\t}\n\t\tmessage SfuOutboundRtpPad {\n\t\t\trequired string padId = 1;\n\t\t\trequired string sinkId = 2;\n\t\t\trequired int64 ssrc = 3;\n\t\t\trequired string streamId = 4;\n\t\t\trequired string transportId = 5;\n\t\t\toptional int64 bytesSent = 6;\n\t\t\toptional string callId = 7;\n\t\t\toptional string clientId = 8;\n\t\t\toptional int32 clockRate = 9;\n\t\t\toptional int32 fecPacketsDiscarded = 10;\n\t\t\toptional int32 fecPacketsSent = 11;\n\t\t\toptional int32 firCount = 12;\n\t\t\toptional double fractionLost = 13;\n\t\t\toptional int32 framesEncoded = 14;\n\t\t\toptional int32 framesSent = 15;\n\t\t\toptional bool internal = 16;\n\t\t\toptional double jitter = 17;\n\t\t\toptional int32 keyFramesEncoded = 18;\n\t\t\toptional string mediaType = 19;\n\t\t\toptional string mimeType = 20;\n\t\t\toptional int32 nackCount = 21;\n\t\t\toptional bool noReport = 22;\n\t\t\toptional int32 packetsDiscarded = 23;\n\t\t\toptional int32 packetsDuplicated = 24;\n\t\t\toptional int32 packetsFailedEncryption = 25;\n\t\t\toptional int32 packetsLost = 26;\n\t\t\toptional int32 packetsRetransmitted = 27;\n\t\t\toptional int32 packetsSent = 28;\n\t\t\toptional int32 payloadType = 29;\n\t\t\toptional int32 pliCount = 30;\n\t\t\toptional string rid = 31;\n\t\t\toptional double roundTripTime = 32;\n\t\t\toptional int32 rtcpRrReceived = 33;\n\t\t\toptional int32 rtcpSrSent = 34;\n\t\t\toptional int32 rtxPacketsDiscarded = 35;\n\t\t\toptional int32 rtxPacketsSent = 36;\n\t\t\toptional int64 rtxSsrc = 37;\n\t\t\toptional string sdpFmtpLine = 38;\n\t\t\toptional int32 sliCount = 39;\n\t\t\toptional int32 targetBitrate = 40;\n\t\t\toptional string trackId = 41;\n\t\t\toptional bool voiceActivityFlag = 42;\n\t\t}\n\t\tmessage SfuSctpChannel {\n\t\t\trequired string channelId = 1;\n\t\t\trequired string streamId = 2;\n\t\t\trequired string transportId = 3;\n\t\t\toptional int64 bytesReceived = 4;\n\t\t\toptional int64 bytesSent = 5;\n\t\t\toptional bool internal = 6;\n\t\t\toptional string label = 7;\n\t\t\toptional int32 messageReceived = 8;\n\t\t\toptional int32 messageSent = 9;\n\t\t\toptional bool noReport = 10;\n\t\t\toptional string protocol = 11;\n\t\t\toptional double sctpCongestionWindow = 12;\n\t\t\toptional int32 sctpMtu = 13;\n\t\t\toptional double sctpReceiverWindow = 14;\n\t\t\toptional double sctpSmoothedRoundTripTime = 15;\n\t\t\toptional int32 sctpUnackData = 16;\n\t\t}\n\t\tmessage SfuExtensionStats {\n\t\t\trequired string payload = 1;\n\t\t\trequired string type = 2;\n\t\t}\n\t\trepeated SfuExtensionStats extensionStats = 1;\n\t\trepeated SfuInboundRtpPad inboundRtpPads = 2;\n\t\trepeated SfuOutboundRtpPad outboundRtpPads = 3;\n\t\trepeated SfuSctpChannel sctpChannels = 4;\n\t\trepeated SfuTransport transports = 5;\n\t\trequired string sfuId = 6;\n\t\trequired int64 timestamp = 7;\n\t\toptional string marker = 8;\n\t\toptional int32 timeZoneOffsetInHours = 9;\n\t}\n\tmessage TurnSample {\n\t\tmessage TurnPeerAllocation {\n\t\t\trequired string peerId = 1;\n\t\t\trequired string relayedAddress = 2;\n\t\t\trequired int32 relayedPort = 3;\n\t\t\trequired string sessionId = 4;\n\t\t\trequired string transportProtocol = 5;\n\t\t\toptional string peerAddress = 6;\n\t\t\toptional int32 peerPort = 7;\n\t\t\toptional int64 receivedBytes = 8;\n\t\t\toptional int32 receivedPackets = 9;\n\t\t\toptional int32 receivingBitrate = 10;\n\t\t\toptional int32 sendingBitrate = 11;\n\t\t\toptional int64 sentBytes = 12;\n\t\t\toptional int32 sentPackets = 13;\n\t\t}\n\t\tmessage TurnSession {\n\t\t\trequired string sessionId = 1;\n\t\t\toptional string clientAddress = 2;\n\t\t\toptional string clientId = 3;\n\t\t\toptional int32 clientPort = 4;\n\t\t\toptional int64 nonceExpirationTime = 5;\n\t\t\toptional string realm = 6;\n\t\t\toptional int64 receivedBytes = 7;\n\t\t\toptional int32 receivedPackets = 8;\n\t\t\toptional int32 receivingBitrate = 9;\n\t\t\toptional int32 sendingBitrate = 10;\n\t\t\toptional int64 sentBytes = 11;\n\t\t\toptional int32 sentPackets = 12;\n\t\t\toptional string serverAddress = 13;\n\t\t\toptional int32 serverPort = 14;\n\t\t\toptional int64 started = 15;\n\t\t\toptional string transportProtocol = 16;\n\t\t\toptional string username = 17;\n\t\t}\n\t\trepeated TurnPeerAllocation allocations = 1;\n\t\trepeated TurnSession sessions = 2;\n\t\trequired string serverId = 3;\n\t}\n\trepeated ClientSample clientSamples = 1;\n\trepeated SfuSample sfuSamples = 2;\n\trepeated TurnSample turnSamples = 3;\n\toptional Controls controls = 4;\n}\n'},2717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3309:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.StatsType=t.version=void 0,t.version={date:new Date("2021-11-10")},(n=t.StatsType||(t.StatsType={})).codec="codec",n.inboundRtp="inbound-rtp",n.outboundRtp="outbound-rtp",n.remoteInboundRtp="remote-inbound-rtp",n.remoteOutboundRtp="remote-outbound-rtp",n.mediaSource="media-source",n.csrc="csrc",n.peerConnection="peer-connection",n.dataChannel="data-channel",n.stream="stream",n.track="track",n.transceiver="transceiver",n.sender="sender",n.receiver="receiver",n.transport="transport",n.sctpTransport="sctp-transport",n.candidatePair="candidate-pair",n.localCandidate="local-candidate",n.remoteCandidate="remote-candidate",n.certificate="certificate",n.iceServer="ice-server"},4537:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,a=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,s){n[r]=function(e){if(a)if(a=!1,e)s(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){a&&(a=!1,s(e))}}))}},7419:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),i=new Array(123),a=0;a<64;)i[r[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,n){for(var i,a=null,s=[],o=0,c=0;t<n;){var l=e[t++];switch(c){case 0:s[o++]=r[l>>2],i=(3&l)<<4,c=1;break;case 1:s[o++]=r[i|l>>4],i=(15&l)<<2,c=2;break;case 2:s[o++]=r[i|l>>6],s[o++]=r[63&l],c=0}o>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,s)),o=0)}return c&&(s[o++]=r[i],s[o++]=61,1===c&&(s[o++]=61)),a?(o&&a.push(String.fromCharCode.apply(String,s.slice(0,o))),a.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var s="invalid encoding";n.decode=function(e,t,n){for(var r,a=n,o=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&o>1)break;if(void 0===(l=i[l]))throw Error(s);switch(o){case 0:r=l,o=1;break;case 1:t[n++]=r<<2|(48&l)>>4,r=l,o=2;break;case 2:t[n++]=(15&r)<<4|(60&l)>>2,r=l,o=3;break;case 3:t[n++]=(3&r)<<6|l,o=0}}if(1===o)throw Error(s);return n-a},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},5124:e=>{"use strict";function t(e,n){"string"==typeof e&&(n=e,e=void 0);var r=[];function i(e){if("string"!=typeof e){var n=a();if(t.verbose&&console.log("codegen: "+n),n="return "+n,e){for(var s=Object.keys(e),o=new Array(s.length+1),c=new Array(s.length),l=0;l<s.length;)o[l]=s[l],c[l]=e[s[l++]];return o[l]=n,Function.apply(null,o).apply(null,c)}return Function(n)()}for(var d=new Array(arguments.length-1),u=0;u<d.length;)d[u]=arguments[++u];if(u=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var n=d[u++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),u!==d.length)throw Error("parameter count mismatch");return r.push(e),i}function a(t){return"function "+(t||n||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return i.toString=a,i}e.exports=t,t.verbose=!1},9211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},9054:(e,t,n)=>{"use strict";e.exports=a;var r=n(4537),i=n(7199)("fs");function a(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&i&&i.readFile?i.readFile(e,(function(r,i){return r&&"undefined"!=typeof XMLHttpRequest?a.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))})):a.xhr(e,t,n):r(a,this,e,t)}a.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)}},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function a(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function o(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:a,e.writeFloatBE=r?a:i,e.readFloatLE=r?s:o,e.readFloatBE=r?o:s}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var a=Math.floor(Math.log(t)/Math.LN2);e((i<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,n,r)}}function s(e,t,n){var r=e(t,n),i=2*(r>>31)+1,a=r>>>23&255,s=8388607&r;return 255===a?s?NaN:i*(1/0):0===a?1401298464324817e-60*i*s:i*Math.pow(2,a-150)*(s+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=s.bind(null,i),e.readFloatBE=s.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function a(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function o(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:a,e.writeDoubleBE=r?a:i,e.readDoubleLE=r?s:o,e.readDoubleBE=r?o:s}():function(){function t(e,t,n,r,i,a){var s=r<0?1:0;if(s&&(r=-r),0===r)e(0,i,a+t),e(1/r>0?0:2147483648,i,a+n);else if(isNaN(r))e(0,i,a+t),e(2146959360,i,a+n);else if(r>17976931348623157e292)e(0,i,a+t),e((s<<31|2146435072)>>>0,i,a+n);else{var o;if(r<22250738585072014e-324)e((o=r/5e-324)>>>0,i,a+t),e((s<<31|o/4294967296)>>>0,i,a+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(o=r*Math.pow(2,-c))>>>0,i,a+t),e((s<<31|c+1023<<20|1048576*o&1048575)>>>0,i,a+n)}}}function s(e,t,n,r,i){var a=e(r,i+t),s=e(r,i+n),o=2*(s>>31)+1,c=s>>>20&2047,l=4294967296*(1048575&s)+a;return 2047===c?l?NaN:o*(1/0):0===c?5e-324*o*l:o*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=s.bind(null,i,0,4),e.readDoubleBE=s.bind(null,a,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},8626:(e,t)=>{"use strict";var n=t,r=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=r(e),i="";n&&(i=t.shift()+"/");for(var a=0;a<t.length;)".."===t[a]?a>0&&".."!==t[a-1]?t.splice(--a,2):n?t.splice(a,1):++a:"."===t[a]?t.splice(a,1):++a;return i+t.join("/")};n.resolve=function(e,t,n){return n||(t=i(t)),r(t)?t:(n||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},6662:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,a=null,s=r;return function(n){if(n<1||n>i)return e(n);s+n>r&&(a=e(r),s=0);var o=t.call(a,s,s+=n);return 7&s&&(s=1+(7|s)),o}}},4997:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,a=[],s=0;t<n;)(r=e[t++])<128?a[s++]=r:r>191&&r<224?a[s++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[s++]=55296+(r>>10),a[s++]=56320+(1023&r)):a[s++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))},n.write=function(e,t,n){for(var r,i,a=n,s=0;s<e.length;++s)(r=e.charCodeAt(s))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&i),++s,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-a}},2186:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AwaitQueue=class{constructor({ClosedErrorClass:e=Error,StoppedErrorClass:t=Error}={ClosedErrorClass:Error,StoppedErrorClass:Error}){this.closed=!1,this.pendingTasks=[],this.ClosedErrorClass=Error,this.StoppedErrorClass=Error,this.ClosedErrorClass=e,this.StoppedErrorClass=t}get size(){return this.pendingTasks.length}close(){if(!this.closed){this.closed=!0;for(const e of this.pendingTasks)e.stopped=!0,e.reject(new this.ClosedErrorClass("AwaitQueue closed"));this.pendingTasks.length=0}}push(e,t){return n(this,void 0,void 0,(function*(){if(this.closed)throw new this.ClosedErrorClass("AwaitQueue closed");if("function"!=typeof e)throw new TypeError("given task is not a function");if(!e.name&&t)try{Object.defineProperty(e,"name",{value:t})}catch(e){}return new Promise(((n,r)=>{const i={task:e,name:t,resolve:n,reject:r,stopped:!1,enqueuedAt:new Date,executedAt:void 0};this.pendingTasks.push(i),1===this.pendingTasks.length&&this.next()}))}))}stop(){if(!this.closed){for(const e of this.pendingTasks)e.stopped=!0,e.reject(new this.StoppedErrorClass("AwaitQueue stopped"));this.pendingTasks.length=0}}dump(){const e=new Date;return this.pendingTasks.map((t=>({task:t.task,name:t.name,enqueuedTime:t.executedAt?t.executedAt.getTime()-t.enqueuedAt.getTime():e.getTime()-t.enqueuedAt.getTime(),executingTime:t.executedAt?e.getTime()-t.executedAt.getTime():0})))}next(){return n(this,void 0,void 0,(function*(){const e=this.pendingTasks[0];e&&(yield this.executeTask(e),this.pendingTasks.shift(),this.next())}))}executeTask(e){return n(this,void 0,void 0,(function*(){if(!e.stopped){e.executedAt=new Date;try{const t=yield e.task();if(e.stopped)return;e.resolve(t)}catch(t){if(e.stopped)return;e.reject(t)}}}))}}},1206:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),a=e.getVersionPrecision(n),s=Math.max(i,a),o=0,c=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(o=s-Math.min(i,a)),s-=1;s>=o;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===o)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(a));var o=function(){var e=a[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=a.length;t<n;t+=1)o();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},a=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}],null&&s(t.prototype,null),n&&s(t,n),e}();t.default=o,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),a=c(n(94)),s=c(n(95)),o=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},a=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,a+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),c=o.default.find(s,(function(e){return t.isOS(e)}));if(c){var l=this.satisfies(n[c]);if(void 0!==l)return l}var d=o.default.find(s,(function(e){return t.isPlatform(e)}));if(d){var u=this.satisfies(n[d]);if(void 0!==u)return u}}if(a>0){var p=Object.keys(i),f=o.default.find(p,(function(e){return t.isBrowser(e,!0)}));if(void 0!==f)return this.compareVersion(i[f])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(o.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=l,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:a.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:a.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:a.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:a.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:a.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:a.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:a.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:a.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:a.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:a.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:a.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:a.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:a.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},7187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,a,s,l;if(o(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"==typeof s?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=s.length,l=d,console&&console.warn&&console.warn(l)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var l=c.length,d=h(c,l);for(n=0;n<l;++n)r(d[n],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,u(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,u(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,s;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7855:(e,t,n)=>{const r=n(4276)("h264-profile-level-id");r.log=console.info.bind(console),t.ProfileConstrainedBaseline=1,t.ProfileBaseline=2,t.ProfileMain=3,t.ProfileConstrainedHigh=4,t.ProfileHigh=5;t.Level1_b=0,t.Level1=10,t.Level1_1=11,t.Level1_2=12,t.Level1_3=13,t.Level2=20,t.Level2_1=21,t.Level2_2=22,t.Level3=30,t.Level3_1=31,t.Level3_2=32,t.Level4=40,t.Level4_1=41,t.Level4_2=42,t.Level5=50,t.Level5_1=51,t.Level5_2=52;class i{constructor(e,t){this.profile=e,this.level=t}}t.ProfileLevelId=i;const a=new i(1,31);class s{constructor(e){this._mask=~l("x",e),this._maskedValue=l("1",e)}isMatch(e){return this._maskedValue===(e&this._mask)}}class o{constructor(e,t,n){this.profile_idc=e,this.profile_iop=t,this.profile=n}}const c=[new o(66,new s("x1xx0000"),1),new o(77,new s("1xxx0000"),1),new o(88,new s("11xx0000"),1),new o(66,new s("x0xx0000"),2),new o(88,new s("10xx0000"),2),new o(77,new s("0x0x0000"),3),new o(100,new s("00000000"),5),new o(100,new s("00001100"),4)];function l(e,t){return(t[0]===e)<<7|(t[1]===e)<<6|(t[2]===e)<<5|(t[3]===e)<<4|(t[4]===e)<<3|(t[5]===e)<<2|(t[6]===e)<<1|(t[7]===e)<<0}function d(e={}){const t=e["level-asymmetry-allowed"];return 1===t||"1"===t}t.parseProfileLevelId=function(e){if("string"!=typeof e||6!==e.length)return null;const t=parseInt(e,16);if(0===t)return null;const n=255&t,a=t>>8&255,s=t>>16&255;let o;switch(n){case 11:o=0!=(16&a)?0:11;break;case 10:case 12:case 13:case 20:case 21:case 22:case 30:case 31:case 32:case 40:case 41:case 42:case 50:case 51:case 52:o=n;break;default:return r("parseProfileLevelId() | unrecognized level_idc:%s",n),null}for(const e of c)if(s===e.profile_idc&&e.profile_iop.isMatch(a))return new i(e.profile,o);return r("parseProfileLevelId() | unrecognized profile_idc/profile_iop combination"),null},t.profileLevelIdToString=function(e){if(0==e.level)switch(e.profile){case 1:return"42f00b";case 2:return"42100b";case 3:return"4d100b";default:return r("profileLevelIdToString() | Level 1_b not is allowed for profile:%s",e.profile),null}let t;switch(e.profile){case 1:t="42e0";break;case 2:t="4200";break;case 3:t="4d00";break;case 4:t="640c";break;case 5:t="6400";break;default:return r("profileLevelIdToString() | unrecognized profile:%s",e.profile),null}let n=e.level.toString(16);return 1===n.length&&(n=`0${n}`),`${t}${n}`},t.parseSdpProfileLevelId=function(e={}){const n=e["profile-level-id"];return n?t.parseProfileLevelId(n):a},t.isSameProfile=function(e={},n={}){const r=t.parseSdpProfileLevelId(e),i=t.parseSdpProfileLevelId(n);return Boolean(r&&i&&r.profile===i.profile)},t.generateProfileLevelIdForAnswer=function(e={},n={}){if(!e["profile-level-id"]&&!n["profile-level-id"])return r("generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params"),null;const a=t.parseSdpProfileLevelId(e),s=t.parseSdpProfileLevelId(n);if(!a)throw new TypeError("invalid local_profile_level_id");if(!s)throw new TypeError("invalid remote_profile_level_id");if(a.profile!==s.profile)throw new TypeError("H264 Profile mismatch");const o=d(e)&&d(n),c=a.level,l=function(e,t){return 0===e?10!==t&&0!==t:0===t?10!==e:e<t}(u=c,p=s.level)?u:p;var u,p;const f=o?c:l;return r("generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]",a.profile,f),t.profileLevelIdToString(new i(a.profile,f))}},4276:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(3465)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},3465:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,a,s=null;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),a=i-(n||i);r.diff=a,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const a=t.formatters[i];if("function"==typeof a){const t=e[s];n=a.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(2830),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},2830:e=>{var t=1e3,n=60*t,r=60*n,i=24*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,s){s=s||{};var o,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(o=e,(c=Math.abs(o))>=i?a(o,c,i,"day"):c>=r?a(o,c,r,"hour"):c>=n?a(o,c,n,"minute"):c>=t?a(o,c,t,"second"):o+" ms"):function(e){var a=Math.abs(e);return a>=i?Math.round(e/i)+"d":a>=r?Math.round(e/r)+"h":a>=n?Math.round(e/n)+"m":a>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},2023:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,r){return new HmacSha256(n,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createHmacOutputMethod(r,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var r,i=typeof e;if("string"===i){var a,s=[],o=e.length,c=0;for(r=0;r<o;++r)(a=e.charCodeAt(r))<128?s[c++]=a:a<2048?(s[c++]=192|a>>6,s[c++]=128|63&a):a<55296||a>=57344?(s[c++]=224|a>>12,s[c++]=128|a>>6&63,s[c++]=128|63&a):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++r)),s[c++]=240|a>>18,s[c++]=128|a>>12&63,s[c++]=128|a>>6&63,s[c++]=128|63&a);e=s}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var l=[],d=[];for(r=0;r<64;++r){var u=e[r]||0;l[r]=92^u,d[r]=54^u}Sha256.call(this,t,n),this.update(d),this.oKeyPad=l,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var r,i,a=0,s=e.length,o=this.blocks;a<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t)for(i=this.start;a<s&&i<64;++a)o[i>>2]|=e[a]<<SHIFT[3&i++];else for(i=this.start;a<s&&i<64;++a)(r=e.charCodeAt(a))<128?o[i>>2]|=r<<SHIFT[3&i++]:r<2048?(o[i>>2]|=(192|r>>6)<<SHIFT[3&i++],o[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(o[i>>2]|=(224|r>>12)<<SHIFT[3&i++],o[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],o[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++a)),o[i>>2]|=(240|r>>18)<<SHIFT[3&i++],o[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],o[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],o[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=o[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,r,i,a,s,o,c,l=this.h0,d=this.h1,u=this.h2,p=this.h3,f=this.h4,h=this.h5,m=this.h6,g=this.h7,v=this.blocks;for(e=16;e<64;++e)t=((i=v[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=v[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,v[e]=v[e-16]+t+v[e-7]+n<<0;for(c=d&u,e=0;e<64;e+=4)this.first?(this.is224?(a=300032,g=(i=v[0]-1413257819)-150054599<<0,p=i+24177077<<0):(a=704751109,g=(i=v[0]-210244248)-1521486534<<0,p=i+143694565<<0),this.first=!1):(t=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(a=l&d)^l&u^c,g=p+(i=g+(n=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&h^~f&m)+K[e]+v[e])<<0,p=i+(t+r)<<0),t=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),r=(s=p&l)^p&d^a,m=u+(i=m+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&f^~g&h)+K[e+1]+v[e+1])<<0,t=((u=i+(t+r)<<0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(o=u&p)^u&l^s,h=d+(i=h+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&f)+K[e+2]+v[e+2])<<0,t=((d=i+(t+r)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(c=d&u)^d&p^o,f=l+(i=f+(n=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&m^~h&g)+K[e+3]+v[e+3])<<0,l=i+(t+r)<<0;this.h0=this.h0+l<<0,this.h1=this.h1+d<<0,this.h2=this.h2+u<<0,this.h3=this.h3+p<<0,this.h4=this.h4+f<<0,this.h5=this.h5+h<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,c=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(c+=HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,c=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,a>>24&255,a>>16&255,a>>8&255,255&a,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||c.push(o>>24&255,o>>16&255,o>>8&255,255&o),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},2043:function(e,t,n){var r,i;!function(a,s){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?a:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function o(t,n){for(var i=0;i<r.length;i++){var a=r[i];this[a]=i<t?e:this.methodFactory(a,t,n)}this.log=this.debug}function c(e,n,r){return function(){typeof console!==t&&(o.call(this,n,r),this[e].apply(this,arguments))}}function l(e,t,n){return s(e)||c.apply(this,arguments)}function d(e,n,i){var a,s=this;n=null==n?"WARN":n;var c="loglevel";function d(){var e;if(typeof window!==t&&c){try{e=window.localStorage[c]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(c)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===s.levels[e]&&(e=void 0),e}}"string"==typeof e?c+=":"+e:"symbol"==typeof e&&(c=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||l,s.getLevel=function(){return a},s.setLevel=function(n,i){if("string"==typeof n&&void 0!==s.levels[n.toUpperCase()]&&(n=s.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==i&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&c){try{return void(window.localStorage[c]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+n+";"}catch(e){}}}(n),o.call(s,n,e),typeof console===t&&n<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){n=e,d()||s.setLevel(e,!1)},s.resetLevel=function(){s.setLevel(n,!1),function(){if(typeof window!==t&&c){try{return void window.localStorage.removeItem(c)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var u=d();null==u&&(u=n),s.setLevel(u,!1)}var u=new d,p={};u.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new d(e,u.getLevel(),u.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return u.noConflict=function(){return typeof window!==t&&window.log===u&&(window.log=f),u},u.getLoggers=function(){return p},u.default=u,u},void 0===(i=r.call(t,n,t,e))||(e.exports=i)}()},9514:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Consumer=void 0;const r=n(8562),i=n(4493),a=n(9992),s=new r.Logger("Consumer");class o extends i.EnhancedEventEmitter{constructor({id:e,localId:t,producerId:n,rtpReceiver:r,track:a,rtpParameters:o,appData:c}){super(),this._closed=!1,this._observer=new i.EnhancedEventEmitter,s.debug("constructor()"),this._id=e,this._localId=t,this._producerId=n,this._rtpReceiver=r,this._track=a,this._rtpParameters=o,this._paused=!a.enabled,this._appData=c,this._onTrackEnded=this._onTrackEnded.bind(this),this._handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this._destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this._destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new a.InvalidStateError("closed");return this.safeEmitAsPromise("@getstats")}pause(){s.debug("pause()"),this._closed?s.error("pause() | Consumer closed"):(this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause"))}resume(){s.debug("resume()"),this._closed?s.error("resume() | Consumer closed"):(this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume"))}_onTrackEnded(){s.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}_handleTrack(){this._track.addEventListener("ended",this._onTrackEnded)}_destroyTrack(){try{this._track.removeEventListener("ended",this._onTrackEnded),this._track.stop()}catch(e){}}}t.Consumer=o},1623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataConsumer=void 0;const r=n(8562),i=n(4493),a=new r.Logger("DataConsumer");class s extends i.EnhancedEventEmitter{constructor({id:e,dataProducerId:t,dataChannel:n,sctpStreamParameters:r,appData:s}){super(),this._closed=!1,this._observer=new i.EnhancedEventEmitter,a.debug("constructor()"),this._id=e,this._dataProducerId=t,this._dataChannel=n,this._sctpStreamParameters=r,this._appData=s,this._handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(e){this._dataChannel.binaryType=e}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(a.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(a.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}_handleDataChannel(){this._dataChannel.addEventListener("open",(()=>{this._closed||(a.debug('DataChannel "open" event'),this.safeEmit("open"))})),this._dataChannel.addEventListener("error",(e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error("unknown DataChannel error")),"sctp-failure"===t.errorDetail?a.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",t.sctpCauseCode,t.message):a.error('DataChannel "error" event: %o',t),this.safeEmit("error",t)})),this._dataChannel.addEventListener("close",(()=>{this._closed||(a.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"))})),this._dataChannel.addEventListener("message",(e=>{this._closed||this.safeEmit("message",e.data)}))}}t.DataConsumer=s},5504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataProducer=void 0;const r=n(8562),i=n(4493),a=n(9992),s=new r.Logger("DataProducer");class o extends i.EnhancedEventEmitter{constructor({id:e,dataChannel:t,sctpStreamParameters:n,appData:r}){super(),this._closed=!1,this._observer=new i.EnhancedEventEmitter,s.debug("constructor()"),this._id=e,this._dataChannel=t,this._sctpStreamParameters=n,this._appData=r,this._handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(e){this._dataChannel.bufferedAmountLowThreshold=e}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(e){if(s.debug("send()"),this._closed)throw new a.InvalidStateError("closed");this._dataChannel.send(e)}_handleDataChannel(){this._dataChannel.addEventListener("open",(()=>{this._closed||(s.debug('DataChannel "open" event'),this.safeEmit("open"))})),this._dataChannel.addEventListener("error",(e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error("unknown DataChannel error")),"sctp-failure"===t.errorDetail?s.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",t.sctpCauseCode,t.message):s.error('DataChannel "error" event: %o',t),this.safeEmit("error",t)})),this._dataChannel.addEventListener("close",(()=>{this._closed||(s.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"))})),this._dataChannel.addEventListener("message",(()=>{this._closed||s.warn('DataChannel "message" event in a DataProducer, message discarded')})),this._dataChannel.addEventListener("bufferedamountlow",(()=>{this._closed||this.safeEmit("bufferedamountlow")}))}}t.DataProducer=o},3120:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Device=t.detectDevice=void 0;const o=s(n(1206)),c=n(8562),l=n(4493),d=n(9992),u=a(n(3347)),p=a(n(5280)),f=n(5202),h=n(6656),m=n(5372),g=n(5697),v=n(564),y=n(1419),b=n(9862),_=n(2205),w=n(7392),S=n(4770),k=new c.Logger("Device");function C(){if("object"==typeof navigator&&"ReactNative"===navigator.product)return"undefined"==typeof RTCPeerConnection?void k.warn("this._detectDevice() | unsupported ReactNative without RTCPeerConnection"):(k.debug("this._detectDevice() | ReactNative handler chosen"),"ReactNative");if("object"!=typeof navigator||"string"!=typeof navigator.userAgent)k.warn("this._detectDevice() | unknown device");else{const e=navigator.userAgent,t=o.default.getParser(e),n=t.getEngine();if(t.satisfies({chrome:">=74",chromium:">=74","microsoft edge":">=88"}))return"Chrome74";if(t.satisfies({chrome:">=70",chromium:">=70"}))return"Chrome70";if(t.satisfies({chrome:">=67",chromium:">=67"}))return"Chrome67";if(t.satisfies({chrome:">=55",chromium:">=55"}))return"Chrome55";if(t.satisfies({firefox:">=60"}))return"Firefox60";if(t.satisfies({ios:{OS:">=14.3",firefox:">=30.0"}}))return"Safari12";if(t.satisfies({safari:">=12.0"})&&"undefined"!=typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(t.satisfies({safari:">=11"}))return"Safari11";if(t.satisfies({"microsoft edge":">=11"})&&t.satisfies({"microsoft edge":"<=18"}))return"Edge11";if(n.name&&"blink"===n.name.toLowerCase()){const t=e.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(t){const e=Number(t[1]);return e>=74?"Chrome74":e>=70?"Chrome70":e>=67?"Chrome67":"Chrome55"}return"Chrome74"}k.warn("this._detectDevice() | browser not supported [name:%s, version:%s]",t.getBrowserName(),t.getBrowserVersion())}}t.detectDevice=C,t.Device=class{constructor({handlerName:e,handlerFactory:t,Handler:n}={}){if(this._loaded=!1,this._observer=new l.EnhancedEventEmitter,k.debug("constructor()"),n){if(k.warn("constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead"),"string"!=typeof n)throw new TypeError("non string Handler option no longer supported, use handlerFactory instead");e=n}if(e&&t)throw new TypeError("just one of handlerName or handlerInterface can be given");if(t)this._handlerFactory=t;else{if(e)k.debug("constructor() | handler given: %s",e);else{if(!(e=C()))throw new d.UnsupportedError("device not supported");k.debug("constructor() | detected handler: %s",e)}switch(e){case"Chrome74":this._handlerFactory=h.Chrome74.createFactory();break;case"Chrome70":this._handlerFactory=m.Chrome70.createFactory();break;case"Chrome67":this._handlerFactory=g.Chrome67.createFactory();break;case"Chrome55":this._handlerFactory=v.Chrome55.createFactory();break;case"Firefox60":this._handlerFactory=y.Firefox60.createFactory();break;case"Safari12":this._handlerFactory=b.Safari12.createFactory();break;case"Safari11":this._handlerFactory=_.Safari11.createFactory();break;case"Edge11":this._handlerFactory=w.Edge11.createFactory();break;case"ReactNative":this._handlerFactory=S.ReactNative.createFactory();break;default:throw new TypeError(`unknown handlerName "${e}"`)}}const r=this._handlerFactory();this._handlerName=r.name,r.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new d.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new d.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:e}){let t;k.debug("load() [routerRtpCapabilities:%o]",e),e=u.clone(e,void 0);try{if(this._loaded)throw new d.InvalidStateError("already loaded");p.validateRtpCapabilities(e),t=this._handlerFactory();const n=await t.getNativeRtpCapabilities();k.debug("load() | got native RTP capabilities:%o",n),p.validateRtpCapabilities(n),this._extendedRtpCapabilities=p.getExtendedRtpCapabilities(n,e),k.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=p.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=p.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=p.getRecvRtpCapabilities(this._extendedRtpCapabilities),p.validateRtpCapabilities(this._recvRtpCapabilities),k.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await t.getNativeSctpCapabilities(),k.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),p.validateSctpCapabilities(this._sctpCapabilities),k.debug("load() succeeded"),this._loaded=!0,t.close()}catch(e){throw t&&t.close(),e}}canProduce(e){if(!this._loaded)throw new d.InvalidStateError("not loaded");if("audio"!==e&&"video"!==e)throw new TypeError(`invalid kind "${e}"`);return this._canProduceByKind[e]}createSendTransport({id:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:a,iceTransportPolicy:s,additionalSettings:o,proprietaryConstraints:c,appData:l={}}){return k.debug("createSendTransport()"),this._createTransport({direction:"send",id:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:a,iceTransportPolicy:s,additionalSettings:o,proprietaryConstraints:c,appData:l})}createRecvTransport({id:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:a,iceTransportPolicy:s,additionalSettings:o,proprietaryConstraints:c,appData:l={}}){return k.debug("createRecvTransport()"),this._createTransport({direction:"recv",id:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:a,iceTransportPolicy:s,additionalSettings:o,proprietaryConstraints:c,appData:l})}_createTransport({direction:e,id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:a,iceServers:s,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,appData:u={}}){if(!this._loaded)throw new d.InvalidStateError("not loaded");if("string"!=typeof t)throw new TypeError("missing id");if("object"!=typeof n)throw new TypeError("missing iceParameters");if(!Array.isArray(r))throw new TypeError("missing iceCandidates");if("object"!=typeof i)throw new TypeError("missing dtlsParameters");if(a&&"object"!=typeof a)throw new TypeError("wrong sctpParameters");if(u&&"object"!=typeof u)throw new TypeError("if given, appData must be an object");const p=new f.Transport({direction:e,id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:a,iceServers:s,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,appData:u,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",p),p}}},4493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnhancedEventEmitter=void 0;const r=n(7187),i=new(n(8562).Logger)("EnhancedEventEmitter");class a extends r.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}safeEmit(e,...t){const n=this.listenerCount(e);try{return this.emit(e,...t)}catch(t){return i.error("safeEmit() | event listener threw an error [event:%s]:%o",e,t),Boolean(n)}}async safeEmitAsPromise(e,...t){return new Promise(((n,r)=>{try{this.emit(e,...t,n,r)}catch(t){i.error("safeEmitAsPromise() | event listener threw an error [event:%s]:%o",e,t),r(t)}}))}}t.EnhancedEventEmitter=a},8562:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const i=r(n(388)),a="mediasoup-client";t.Logger=class{constructor(e){e?(this._debug=(0,i.default)(`${a}:${e}`),this._warn=(0,i.default)(`${a}:WARN:${e}`),this._error=(0,i.default)(`${a}:ERROR:${e}`)):(this._debug=(0,i.default)(a),this._warn=(0,i.default)(`${a}:WARN`),this._error=(0,i.default)(`${a}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},6569:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Producer=void 0;const r=n(8562),i=n(4493),a=n(9992),s=new r.Logger("Producer");class o extends i.EnhancedEventEmitter{constructor({id:e,localId:t,rtpSender:n,track:r,rtpParameters:a,stopTracks:o,disableTrackOnPause:c,zeroRtpOnPause:l,appData:d}){super(),this._closed=!1,this._observer=new i.EnhancedEventEmitter,s.debug("constructor()"),this._id=e,this._localId=t,this._rtpSender=n,this._track=r,this._kind=r.kind,this._rtpParameters=a,this._paused=!!c&&!r.enabled,this._maxSpatialLayer=void 0,this._stopTracks=o,this._disableTrackOnPause=c,this._zeroRtpOnPause=l,this._appData=d,this._onTrackEnded=this._onTrackEnded.bind(this),this._handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this._destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this._destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new a.InvalidStateError("closed");return this.safeEmitAsPromise("@getstats")}pause(){s.debug("pause()"),this._closed?s.error("pause() | Producer closed"):(this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&this.safeEmitAsPromise("@replacetrack",null).catch((()=>{})),this._observer.safeEmit("pause"))}resume(){s.debug("resume()"),this._closed?s.error("resume() | Producer closed"):(this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&this.safeEmitAsPromise("@replacetrack",this._track).catch((()=>{})),this._observer.safeEmit("resume"))}async replaceTrack({track:e}){if(s.debug("replaceTrack() [track:%o]",e),this._closed){if(e&&this._stopTracks)try{e.stop()}catch(e){}throw new a.InvalidStateError("closed")}if(e&&"ended"===e.readyState)throw new a.InvalidStateError("track ended");e!==this._track?(this._zeroRtpOnPause&&this._paused||await this.safeEmitAsPromise("@replacetrack",e),this._destroyTrack(),this._track=e,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this._handleTrack()):s.debug("replaceTrack() | same track, ignored")}async setMaxSpatialLayer(e){if(this._closed)throw new a.InvalidStateError("closed");if("video"!==this._kind)throw new a.UnsupportedError("not a video Producer");if("number"!=typeof e)throw new TypeError("invalid spatialLayer");e!==this._maxSpatialLayer&&(await this.safeEmitAsPromise("@setmaxspatiallayer",e),this._maxSpatialLayer=e)}async setRtpEncodingParameters(e){if(this._closed)throw new a.InvalidStateError("closed");if("object"!=typeof e)throw new TypeError("invalid params");await this.safeEmitAsPromise("@setrtpencodingparameters",e)}_onTrackEnded(){s.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}_handleTrack(){this._track&&this._track.addEventListener("ended",this._onTrackEnded)}_destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this._onTrackEnded),this._stopTracks&&this._track.stop()}catch(e){}}}t.Producer=o},4879:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7669:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5202:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;const s=n(2186),o=n(8562),c=n(4493),l=n(9992),d=a(n(3347)),u=a(n(5280)),p=n(6569),f=n(9514),h=n(5504),m=n(1623);class g{constructor(e){this.consumerOptions=e,this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}const v=new o.Logger("Transport");class y extends c.EnhancedEventEmitter{constructor({direction:e,id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:a,iceServers:o,iceTransportPolicy:u,additionalSettings:p,proprietaryConstraints:f,appData:h,handlerFactory:m,extendedRtpCapabilities:g,canProduceByKind:y}){super(),this._closed=!1,this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new s.AwaitQueue({ClosedErrorClass:l.InvalidStateError}),this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._observer=new c.EnhancedEventEmitter,v.debug("constructor() [id:%s, direction:%s]",t,e),this._id=t,this._direction=e,this._extendedRtpCapabilities=g,this._canProduceByKind=y,this._maxSctpMessageSize=a?a.maxMessageSize:null,delete(p=d.clone(p,{})).iceServers,delete p.iceTransportPolicy,delete p.bundlePolicy,delete p.rtcpMuxPolicy,delete p.sdpSemantics,this._handler=m(),this._handler.run({direction:e,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:a,iceServers:o,iceTransportPolicy:u,additionalSettings:p,proprietaryConstraints:f,extendedRtpCapabilities:g}),this._appData=h,this._handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){if(!this._closed){v.debug("close()"),this._closed=!0,this._awaitQueue.close(),this._handler.close();for(const e of this._producers.values())e.transportClosed();this._producers.clear();for(const e of this._consumers.values())e.transportClosed();this._consumers.clear();for(const e of this._dataProducers.values())e.transportClosed();this._dataProducers.clear();for(const e of this._dataConsumers.values())e.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new l.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:e}){if(v.debug("restartIce()"),this._closed)throw new l.InvalidStateError("closed");if(!e)throw new TypeError("missing iceParameters");return this._awaitQueue.push((async()=>this._handler.restartIce(e)),"transport.restartIce()")}async updateIceServers({iceServers:e}={}){if(v.debug("updateIceServers()"),this._closed)throw new l.InvalidStateError("closed");if(!Array.isArray(e))throw new TypeError("missing iceServers");return this._awaitQueue.push((async()=>this._handler.updateIceServers(e)),"transport.updateIceServers()")}async produce({track:e,encodings:t,codecOptions:n,codec:r,stopTracks:i=!0,disableTrackOnPause:a=!0,zeroRtpOnPause:s=!1,appData:o={}}={}){if(v.debug("produce() [track:%o]",e),!e)throw new TypeError("missing track");if("send"!==this._direction)throw new l.UnsupportedError("not a sending Transport");if(!this._canProduceByKind[e.kind])throw new l.UnsupportedError(`cannot produce ${e.kind}`);if("ended"===e.readyState)throw new l.InvalidStateError("track ended");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount("produce"))throw new TypeError('no "produce" listener set into this transport');if(o&&"object"!=typeof o)throw new TypeError("if given, appData must be an object");return this._awaitQueue.push((async()=>{let c;if(t&&!Array.isArray(t))throw TypeError("encodings must be an array");t&&0===t.length?c=void 0:t&&(c=t.map((e=>{const t={active:!0};return!1===e.active&&(t.active=!1),"boolean"==typeof e.dtx&&(t.dtx=e.dtx),"string"==typeof e.scalabilityMode&&(t.scalabilityMode=e.scalabilityMode),"number"==typeof e.scaleResolutionDownBy&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),"number"==typeof e.maxBitrate&&(t.maxBitrate=e.maxBitrate),"number"==typeof e.maxFramerate&&(t.maxFramerate=e.maxFramerate),"boolean"==typeof e.adaptivePtime&&(t.adaptivePtime=e.adaptivePtime),"string"==typeof e.priority&&(t.priority=e.priority),"string"==typeof e.networkPriority&&(t.networkPriority=e.networkPriority),t})));const{localId:l,rtpParameters:d,rtpSender:f}=await this._handler.send({track:e,encodings:c,codecOptions:n,codec:r});try{u.validateRtpParameters(d);const{id:t}=await this.safeEmitAsPromise("produce",{kind:e.kind,rtpParameters:d,appData:o}),n=new p.Producer({id:t,localId:l,rtpSender:f,track:e,rtpParameters:d,stopTracks:i,disableTrackOnPause:a,zeroRtpOnPause:s,appData:o});return this._producers.set(n.id,n),this._handleProducer(n),this._observer.safeEmit("newproducer",n),n}catch(e){throw this._handler.stopSending(l).catch((()=>{})),e}}),"transport.produce()").catch((t=>{if(i)try{e.stop()}catch(e){}throw t}))}async consume({id:e,producerId:t,kind:n,rtpParameters:r,appData:i={}}){if(v.debug("consume()"),r=d.clone(r,void 0),this._closed)throw new l.InvalidStateError("closed");if("recv"!==this._direction)throw new l.UnsupportedError("not a receiving Transport");if("string"!=typeof e)throw new TypeError("missing id");if("string"!=typeof t)throw new TypeError("missing producerId");if("audio"!==n&&"video"!==n)throw new TypeError(`invalid kind '${n}'`);if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(i&&"object"!=typeof i)throw new TypeError("if given, appData must be an object");if(!u.canReceive(r,this._extendedRtpCapabilities))throw new l.UnsupportedError("cannot consume this Producer");const a=new g({id:e,producerId:t,kind:n,rtpParameters:r,appData:i});return this._pendingConsumerTasks.push(a),!1===this._consumerCreationInProgress&&this._createPendingConsumers(),a.promise}async produceData({ordered:e=!0,maxPacketLifeTime:t,maxRetransmits:n,label:r="",protocol:i="",appData:a={}}={}){if(v.debug("produceData()"),"send"!==this._direction)throw new l.UnsupportedError("not a sending Transport");if(!this._maxSctpMessageSize)throw new l.UnsupportedError("SCTP not enabled by remote Transport");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount("producedata"))throw new TypeError('no "producedata" listener set into this transport');if(a&&"object"!=typeof a)throw new TypeError("if given, appData must be an object");return(t||n)&&(e=!1),this._awaitQueue.push((async()=>{const{dataChannel:s,sctpStreamParameters:o}=await this._handler.sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i});u.validateSctpStreamParameters(o);const{id:c}=await this.safeEmitAsPromise("producedata",{sctpStreamParameters:o,label:r,protocol:i,appData:a}),l=new h.DataProducer({id:c,dataChannel:s,sctpStreamParameters:o,appData:a});return this._dataProducers.set(l.id,l),this._handleDataProducer(l),this._observer.safeEmit("newdataproducer",l),l}),"transport.produceData()")}async consumeData({id:e,dataProducerId:t,sctpStreamParameters:n,label:r="",protocol:i="",appData:a={}}){if(v.debug("consumeData()"),n=d.clone(n,void 0),this._closed)throw new l.InvalidStateError("closed");if("recv"!==this._direction)throw new l.UnsupportedError("not a receiving Transport");if(!this._maxSctpMessageSize)throw new l.UnsupportedError("SCTP not enabled by remote Transport");if("string"!=typeof e)throw new TypeError("missing id");if("string"!=typeof t)throw new TypeError("missing dataProducerId");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(a&&"object"!=typeof a)throw new TypeError("if given, appData must be an object");return u.validateSctpStreamParameters(n),this._awaitQueue.push((async()=>{const{dataChannel:s}=await this._handler.receiveDataChannel({sctpStreamParameters:n,label:r,protocol:i}),o=new m.DataConsumer({id:e,dataProducerId:t,dataChannel:s,sctpStreamParameters:n,appData:a});return this._dataConsumers.set(o.id,o),this._handleDataConsumer(o),this._observer.safeEmit("newdataconsumer",o),o}),"transport.consumeData()")}async _createPendingConsumers(){this._awaitQueue.push((async()=>{this._consumerCreationInProgress=!0;const e=[...this._pendingConsumerTasks];let t;this._pendingConsumerTasks=[];const n=[];for(const t of e){const{id:e,kind:r,rtpParameters:i}=t.consumerOptions;n.push({trackId:e,kind:r,rtpParameters:i})}try{const r=await this._handler.receive(n);for(let n=0;n<r.length;n++){const i=e[n],a=r[n],{id:s,producerId:o,kind:c,rtpParameters:l,appData:d}=i.consumerOptions,{localId:u,rtpReceiver:p,track:h}=a,m=new f.Consumer({id:s,localId:u,producerId:o,rtpReceiver:p,track:h,rtpParameters:l,appData:d});this._consumers.set(m.id,m),this._handleConsumer(m),this._probatorConsumerCreated||t||"video"!==c||(t=m),this._observer.safeEmit("newconsumer",m),i.resolve(m)}}catch(t){for(const n of e)n.reject(t)}if(t)try{const e=u.generateProbatorRtpParameters(t.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:e}]),v.debug("_createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(e){v.error("_createPendingConsumers() | failed to create Consumer for RTP probation:%o",e)}this._consumerCreationInProgress=!1}),"transport._createPendingConsumers()").then((()=>{this._pendingConsumerTasks.length>0&&this._createPendingConsumers()})).catch((()=>{}))}_pausePendingConsumers(){this._awaitQueue.push((async()=>{this._consumerPauseInProgress=!0;const e=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear(),await this._handler.pauseReceiving(e.map((e=>e.localId)))}),"consumer @pause event").catch((()=>{})).finally((()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this._pausePendingConsumers()}))}_resumePendingConsumers(){this._awaitQueue.push((async()=>{this._consumerResumeInProgress=!0;const e=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear(),await this._handler.resumeReceiving(e.map((e=>e.localId)))}),"consumer @resume event").catch((()=>{})).finally((()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this._resumePendingConsumers()}))}_handleHandler(){const e=this._handler;e.on("@connect",(({dtlsParameters:e},t,n)=>{this._closed?n(new l.InvalidStateError("closed")):this.safeEmit("connect",{dtlsParameters:e},t,n)})),e.on("@connectionstatechange",(e=>{e!==this._connectionState&&(v.debug("connection state changed to %s",e),this._connectionState=e,this._closed||this.safeEmit("connectionstatechange",e))}))}_handleProducer(e){e.on("@close",(()=>{this._producers.delete(e.id),this._closed||this._awaitQueue.push((async()=>this._handler.stopSending(e.localId)),"producer @close event").catch((e=>v.warn("producer.close() failed:%o",e)))})),e.on("@replacetrack",((t,n,r)=>{this._awaitQueue.push((async()=>this._handler.replaceTrack(e.localId,t)),"producer @replacetrack event").then(n).catch(r)})),e.on("@setmaxspatiallayer",((t,n,r)=>{this._awaitQueue.push((async()=>this._handler.setMaxSpatialLayer(e.localId,t)),"producer @setmaxspatiallayer event").then(n).catch(r)})),e.on("@setrtpencodingparameters",((t,n,r)=>{this._awaitQueue.push((async()=>this._handler.setRtpEncodingParameters(e.localId,t)),"producer @setrtpencodingparameters event").then(n).catch(r)})),e.on("@getstats",((t,n)=>{if(this._closed)return n(new l.InvalidStateError("closed"));this._handler.getSenderStats(e.localId).then(t).catch(n)}))}_handleConsumer(e){e.on("@close",(()=>{this._consumers.delete(e.id),this._pendingPauseConsumers.delete(e.id),this._pendingResumeConsumers.delete(e.id),this._closed||this._awaitQueue.push((async()=>this._handler.stopReceiving(e.localId)),"consumer @close event").catch((()=>{}))})),e.on("@pause",(()=>{this._pendingResumeConsumers.has(e.id)&&this._pendingResumeConsumers.delete(e.id),this._pendingPauseConsumers.set(e.id,e),!1===this._consumerPauseInProgress&&this._pausePendingConsumers()})),e.on("@resume",(()=>{this._pendingPauseConsumers.has(e.id)&&this._pendingPauseConsumers.delete(e.id),this._pendingResumeConsumers.set(e.id,e),!1===this._consumerResumeInProgress&&this._resumePendingConsumers()})),e.on("@getstats",((t,n)=>{if(this._closed)return n(new l.InvalidStateError("closed"));this._handler.getReceiverStats(e.localId).then(t).catch(n)}))}_handleDataProducer(e){e.on("@close",(()=>{this._dataProducers.delete(e.id)}))}_handleDataConsumer(e){e.on("@close",(()=>{this._dataConsumers.delete(e.id)}))}}t.Transport=y},9992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidStateError=t.UnsupportedError=void 0;class n extends Error{constructor(e){super(e),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,n):this.stack=new Error(e).stack}}t.UnsupportedError=n;class r extends Error{constructor(e){super(e),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,r):this.stack=new Error(e).stack}}t.InvalidStateError=r},564:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome55=void 0;const s=a(n(766)),o=n(8562),c=n(9992),l=a(n(3347)),d=a(n(5280)),u=a(n(2267)),p=a(n(9875)),f=n(9316),h=n(7910),m=new o.Logger("Chrome55"),g={OS:1024,MIS:1024};class v extends f.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new v}get name(){return"Chrome55"}close(){if(m.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){m.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const t=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}const n=s.parse(t.sdp);return u.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return m.debug("getNativeSctpCapabilities()"),{numStreams:g}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:a,iceTransportPolicy:s,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:l}){m.debug("run()"),this._direction=e,this._remoteSdp=new h.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:d.getSendingRtpParameters("audio",l),video:d.getSendingRtpParameters("video",l)},this._sendingRemoteRtpParametersByKind={audio:d.getSendingRemoteRtpParameters("audio",l),video:d.getSendingRemoteRtpParameters("video",l)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){m.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(m.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});m.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();m.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),m.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&m.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addStream(this._sendStream);let a,o=await this._pc.createOffer(),c=s.parse(o.sdp);const f=l.clone(this._sendingRtpParametersByKind[e.kind],{});f.codecs=d.reduceCodecs(f.codecs);const h=l.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(h.codecs=d.reduceCodecs(h.codecs),this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:c}),"video"===e.kind&&t&&t.length>1&&(m.debug("send() | enabling simulcast"),c=s.parse(o.sdp),a=c.media.find((e=>"video"===e.type)),p.addLegacySimulcast({offerMediaObject:a,track:e,numStreams:t.length}),o={type:"offer",sdp:s.write(c)}),m.debug("send() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o),c=s.parse(this._pc.localDescription.sdp),a=c.media.find((t=>t.type===e.kind)),f.rtcp.cname=u.getCname({offerMediaObject:a}),f.encodings=p.getRtpEncodings({offerMediaObject:a,track:e}),t)for(let e=0;e<f.encodings.length;++e)t[e]&&Object.assign(f.encodings[e],t[e]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase())for(const e of f.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:f,answerRtpParameters:h,codecOptions:n});const g={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const v=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(v,e),{localId:v,rtpParameters:f}}async stopSending(e){this._assertSendDirection(),m.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();m.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(e){if(0===this._sendStream.getTracks().length)return void m.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.toString());throw e}if("stable"===this._pc.signalingState)return;const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}async replaceTrack(e,t){throw new c.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,t){throw new c.UnsupportedError(" not implemented")}async setRtpEncodingParameters(e,t){throw new c.UnsupportedError("not supported")}async getSenderStats(e){throw new c.UnsupportedError("not implemented")}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var a;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:n,protocol:i};m.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%g.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=s.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(a=this._forcedLocalDtlsRole)&&void 0!==a?a:"client",localSdpObject:t}),m.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[];for(const t of e){const{trackId:e,kind:n,rtpParameters:r}=t;m.debug("receive() [trackId:%s, kind:%s]",e,n);const i=n,a=r.rtcp.cname;this._remoteSdp.receive({mid:i,kind:n,offerRtpParameters:r,streamId:a,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const a=s.parse(i.sdp);for(const t of e){const{kind:e,rtpParameters:n}=t,r=e,i=a.media.find((e=>String(e.mid)===r));u.applyCodecParameters({offerRtpParameters:n,answerMediaObject:i})}i={type:"answer",sdp:s.write(a)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:a}),m.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const t of e){const{kind:e,trackId:r,rtpParameters:i}=t,a=e,s=r,o=i.rtcp.cname,c=this._pc.getRemoteStreams().find((e=>e.id===o)).getTrackById(s);if(!c)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(s,{mid:a,rtpParameters:i}),n.push({localId:s,track:c})}return n}async stopReceiving(e){this._assertRecvDirection(),m.debug("stopReceiving() [localId:%s]",e);const{mid:t,rtpParameters:n}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:n});const r={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const i=await this._pc.createAnswer();m.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){throw new c.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:a,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:n};m.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=s.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=s.parse(this._pc.localDescription.sdp));const n=u.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome55=v},5697:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome67=void 0;const s=a(n(766)),o=n(8562),c=a(n(3347)),l=a(n(5280)),d=a(n(2267)),u=a(n(9875)),p=n(9316),f=n(7910),h=new o.Logger("Chrome67"),m={OS:1024,MIS:1024};class g extends p.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new g}get name(){return"Chrome67"}close(){if(h.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const t=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}const n=s.parse(t.sdp);return d.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:m}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:a,iceTransportPolicy:s,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:d}){h.debug("run()"),this._direction=e,this._remoteSdp=new f.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){h.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(h.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&h.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addTrack(e,this._sendStream);let a,o=await this._pc.createOffer(),p=s.parse(o.sdp);const f=c.clone(this._sendingRtpParametersByKind[e.kind],{});f.codecs=l.reduceCodecs(f.codecs);const m=c.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(m.codecs=l.reduceCodecs(m.codecs),this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:p}),"video"===e.kind&&t&&t.length>1&&(h.debug("send() | enabling simulcast"),p=s.parse(o.sdp),a=p.media.find((e=>"video"===e.type)),u.addLegacySimulcast({offerMediaObject:a,track:e,numStreams:t.length}),o={type:"offer",sdp:s.write(p)}),h.debug("send() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o),p=s.parse(this._pc.localDescription.sdp),a=p.media.find((t=>t.type===e.kind)),f.rtcp.cname=d.getCname({offerMediaObject:a}),f.encodings=u.getRtpEncodings({offerMediaObject:a,track:e}),t)for(let e=0;e<f.encodings.length;++e)t[e]&&Object.assign(f.encodings[e],t[e]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase())for(const e of f.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:f,answerRtpParameters:m,codecOptions:n});const g={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const v=String(this._nextSendLocalId);this._nextSendLocalId++;const y=this._pc.getSenders().find((t=>t.track===e));return this._mapSendLocalIdRtpSender.set(v,y),{localId:v,rtpParameters:f,rtpSender:y}}async stopSending(e){this._assertSendDirection(),h.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(t),t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const n=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(e){if(0===this._sendStream.getTracks().length)return void h.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.toString());throw e}if("stable"===this._pc.signalingState)return;const r={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}async replaceTrack(e,t){this._assertSendDirection(),t?h.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):h.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const r=n.track;await n.replaceTrack(t),r&&this._sendStream.removeTrack(r),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const r=n.getParameters();r.encodings.forEach(((e,n)=>{e.active=n<=t})),await n.setParameters(r)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const r=n.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.setParameters(r)}async getSenderStats(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");return t.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var a;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:n,protocol:i};h.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=s.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(a=this._forcedLocalDtlsRole)&&void 0!==a?a:"client",localSdpObject:t}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[];for(const t of e){const{trackId:e,kind:n,rtpParameters:r}=t;h.debug("receive() [trackId:%s, kind:%s]",e,n);const i=n;this._remoteSdp.receive({mid:i,kind:n,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const a=s.parse(i.sdp);for(const t of e){const{kind:e,rtpParameters:n}=t,r=e,i=a.media.find((e=>String(e.mid)===r));d.applyCodecParameters({offerRtpParameters:n,answerMediaObject:i})}i={type:"answer",sdp:s.write(a)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:a}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const t of e){const{kind:e,trackId:r,rtpParameters:i}=t,a=r,s=e,o=this._pc.getReceivers().find((e=>e.track&&e.track.id===a));if(!o)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(a,{mid:s,rtpParameters:i,rtpReceiver:o}),n.push({localId:a,track:o.track,rtpReceiver:o})}return n}async stopReceiving(e){this._assertRecvDirection(),h.debug("stopReceiving() [localId:%s]",e);const{mid:t,rtpParameters:n}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:n});const r={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const i=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){this._assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)||{};if(!t)throw new Error("associated RTCRtpReceiver not found");return t.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:a,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:n};h.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=s.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=s.parse(this._pc.localDescription.sdp));const n=d.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome67=g},5372:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome70=void 0;const s=a(n(766)),o=n(8562),c=a(n(3347)),l=a(n(5280)),d=a(n(2267)),u=a(n(9072)),p=n(9316),f=n(7910),h=n(2770),m=new o.Logger("Chrome70"),g={OS:1024,MIS:1024};class v extends p.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new v}get name(){return"Chrome70"}close(){if(m.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){m.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const t=await e.createOffer();try{e.close()}catch(e){}const n=s.parse(t.sdp);return d.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return m.debug("getNativeSctpCapabilities()"),{numStreams:g}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:a,iceTransportPolicy:s,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:d}){m.debug("run()"),this._direction=e,this._remoteSdp=new f.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){m.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(m.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});m.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();m.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),m.debug("send() [kind:%s, track.id:%s]",e.kind,e.id);const a=c.clone(this._sendingRtpParametersByKind[e.kind],{});a.codecs=l.reduceCodecs(a.codecs,r);const o=c.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});o.codecs=l.reduceCodecs(o.codecs,r);const p=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream]});let g,v=await this._pc.createOffer(),y=s.parse(v.sdp);this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:y}),t&&t.length>1&&(m.debug("send() | enabling legacy simulcast"),y=s.parse(v.sdp),g=y.media[p.idx],u.addLegacySimulcast({offerMediaObject:g,numStreams:t.length}),v={type:"offer",sdp:s.write(y)});let b=!1;const _=(0,h.parse)((t||[{}])[0].scalabilityMode);if(t&&1===t.length&&_.spatialLayers>1&&"video/vp9"===a.codecs[0].mimeType.toLowerCase()&&(m.debug("send() | enabling legacy simulcast for VP9 SVC"),b=!0,y=s.parse(v.sdp),g=y.media[p.idx],u.addLegacySimulcast({offerMediaObject:g,numStreams:_.spatialLayers}),v={type:"offer",sdp:s.write(y)}),m.debug("send() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v),t){m.debug("send() | applying given encodings");const e=f.sender.getParameters();for(let n=0;n<(e.encodings||[]).length;++n){const r=e.encodings[n],i=t[n];if(!i)break;e.encodings[n]=Object.assign(r,i)}await f.sender.setParameters(e)}const w=f.mid;if(a.mid=w,y=s.parse(this._pc.localDescription.sdp),g=y.media[p.idx],a.rtcp.cname=d.getCname({offerMediaObject:g}),a.encodings=u.getRtpEncodings({offerMediaObject:g}),t)for(let e=0;e<a.encodings.length;++e)t[e]&&Object.assign(a.encodings[e],t[e]);if(b&&(a.encodings=[a.encodings[0]]),a.encodings.length>1&&("video/vp8"===a.codecs[0].mimeType.toLowerCase()||"video/h264"===a.codecs[0].mimeType.toLowerCase()))for(const e of a.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:g,reuseMid:p.reuseMid,offerRtpParameters:a,answerRtpParameters:o,codecOptions:n});const S={type:"answer",sdp:this._remoteSdp.getSdp()};return m.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.set(w,f),{localId:w,rtpParameters:a,rtpSender:f.sender}}async stopSending(e){this._assertSendDirection(),m.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const n=await this._pc.createOffer();m.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._mapMidTransceiver.delete(e)}async replaceTrack(e,t){this._assertSendDirection(),t?m.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):m.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),m.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{e.active=n<=t})),await n.sender.setParameters(r)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),m.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.sender.setParameters(r)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var a;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:n,protocol:i};m.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%g.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=s.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(a=this._forcedLocalDtlsRole)&&void 0!==a?a:"client",localSdpObject:t}),m.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[],r=new Map;for(const t of e){const{trackId:e,kind:n,rtpParameters:i}=t;m.debug("receive() [trackId:%s, kind:%s]",e,n);const a=i.mid||String(this._mapMidTransceiver.size);r.set(e,a),this._remoteSdp.receive({mid:a,kind:n,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let a=await this._pc.createAnswer();const o=s.parse(a.sdp);for(const t of e){const{trackId:e,rtpParameters:n}=t,i=r.get(e),a=o.media.find((e=>String(e.mid)===i));d.applyCodecParameters({offerRtpParameters:n,answerMediaObject:a})}a={type:"answer",sdp:s.write(o)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:o}),m.debug("receive() | calling pc.setLocalDescription() [answer:%o]",a),await this._pc.setLocalDescription(a);for(const t of e){const{trackId:e}=t,i=r.get(e),a=this._pc.getTransceivers().find((e=>e.mid===i));if(!a)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,a),n.push({localId:i,track:a.receiver.track,rtpReceiver:a.receiver})}return n}async stopReceiving(e){this._assertRecvDirection(),m.debug("stopReceiving() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(t.mid);const n={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();m.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r),this._mapMidTransceiver.delete(e)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:a,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:n};m.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=s.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=s.parse(this._pc.localDescription.sdp));const n=d.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome70=v},6656:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome74=void 0;const s=a(n(766)),o=n(8562),c=a(n(3347)),l=a(n(5280)),d=a(n(2267)),u=a(n(9072)),p=n(9316),f=n(7910),h=n(2770),m=new o.Logger("Chrome74"),g={OS:1024,MIS:1024};class v extends p.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new v}get name(){return"Chrome74"}close(){if(m.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){m.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const t=await e.createOffer();try{e.close()}catch(e){}const n=s.parse(t.sdp);return d.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return m.debug("getNativeSctpCapabilities()"),{numStreams:g}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:a,iceTransportPolicy:s,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:d}){m.debug("run()"),this._direction=e,this._remoteSdp=new f.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){m.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(m.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});m.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();m.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),m.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),t&&t.length>1&&t.forEach(((e,t)=>{e.rid=`r${t}`}));const a=c.clone(this._sendingRtpParametersByKind[e.kind],{});a.codecs=l.reduceCodecs(a.codecs,r);const o=c.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});o.codecs=l.reduceCodecs(o.codecs,r);const p=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream],sendEncodings:t});let g,v=await this._pc.createOffer(),y=s.parse(v.sdp);this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:y});let b=!1;const _=(0,h.parse)((t||[{}])[0].scalabilityMode);t&&1===t.length&&_.spatialLayers>1&&"video/vp9"===a.codecs[0].mimeType.toLowerCase()&&(m.debug("send() | enabling legacy simulcast for VP9 SVC"),b=!0,y=s.parse(v.sdp),g=y.media[p.idx],u.addLegacySimulcast({offerMediaObject:g,numStreams:_.spatialLayers}),v={type:"offer",sdp:s.write(y)}),m.debug("send() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v);const w=f.mid;if(a.mid=w,y=s.parse(this._pc.localDescription.sdp),g=y.media[p.idx],a.rtcp.cname=d.getCname({offerMediaObject:g}),t)if(1===t.length){let e=u.getRtpEncodings({offerMediaObject:g});Object.assign(e[0],t[0]),b&&(e=[e[0]]),a.encodings=e}else a.encodings=t;else a.encodings=u.getRtpEncodings({offerMediaObject:g});if(a.encodings.length>1&&("video/vp8"===a.codecs[0].mimeType.toLowerCase()||"video/h264"===a.codecs[0].mimeType.toLowerCase()))for(const e of a.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:g,reuseMid:p.reuseMid,offerRtpParameters:a,answerRtpParameters:o,codecOptions:n,extmapAllowMixed:!0});const S={type:"answer",sdp:this._remoteSdp.getSdp()};return m.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.set(w,f),{localId:w,rtpParameters:a,rtpSender:f.sender}}async stopSending(e){this._assertSendDirection(),m.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const n=await this._pc.createOffer();m.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._mapMidTransceiver.delete(e)}async replaceTrack(e,t){this._assertSendDirection(),t?m.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):m.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),m.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{e.active=n<=t})),await n.sender.setParameters(r)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),m.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.sender.setParameters(r)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var a;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:n,protocol:i};m.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%g.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=s.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(a=this._forcedLocalDtlsRole)&&void 0!==a?a:"client",localSdpObject:t}),m.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[],r=new Map;for(const t of e){const{trackId:e,kind:n,rtpParameters:i}=t;m.debug("receive() [trackId:%s, kind:%s]",e,n);const a=i.mid||String(this._mapMidTransceiver.size);r.set(e,a),this._remoteSdp.receive({mid:a,kind:n,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let a=await this._pc.createAnswer();const o=s.parse(a.sdp);for(const t of e){const{trackId:e,rtpParameters:n}=t,i=r.get(e),a=o.media.find((e=>String(e.mid)===i));d.applyCodecParameters({offerRtpParameters:n,answerMediaObject:a})}a={type:"answer",sdp:s.write(o)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:o}),m.debug("receive() | calling pc.setLocalDescription() [answer:%o]",a),await this._pc.setLocalDescription(a);for(const t of e){const{trackId:e}=t,i=r.get(e),a=this._pc.getTransceivers().find((e=>e.mid===i));if(!a)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,a),n.push({localId:i,track:a.receiver.track,rtpReceiver:a.receiver})}return n}async stopReceiving(e){this._assertRecvDirection(),m.debug("stopReceiving() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(t.mid);const n={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();m.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r),this._mapMidTransceiver.delete(e)}async pauseReceiving(e){this._assertRecvDirection();for(const t of e){m.debug("pauseReceiving() [localId:%s]",t);const e=this._mapMidTransceiver.get(t);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive"}const t={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const n=await this._pc.createAnswer();m.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(e){this._assertRecvDirection();for(const t of e){m.debug("resumeReceiving() [localId:%s]",t);const e=this._mapMidTransceiver.get(t);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly"}const t={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const n=await this._pc.createAnswer();m.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:a,maxPacketLifeTime:o,maxRetransmits:c,protocol:n};m.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=s.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=s.parse(this._pc.localDescription.sdp));const n=d.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome74=v},7392:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Edge11=void 0;const s=n(8562),o=n(9992),c=a(n(3347)),l=a(n(5280)),d=a(n(3635)),u=n(9316),p=new s.Logger("Edge11");class f extends u.HandlerInterface{constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return"Edge11"}close(){p.debug("close()");try{this._iceGatherer.close()}catch(e){}try{this._iceTransport.stop()}catch(e){}try{this._dtlsTransport.stop()}catch(e){}for(const e of this._rtpSenders.values())try{e.stop()}catch(e){}for(const e of this._rtpReceivers.values())try{e.stop()}catch(e){}}async getNativeRtpCapabilities(){return p.debug("getNativeRtpCapabilities()"),d.getCapabilities()}async getNativeSctpCapabilities(){return p.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:a,iceTransportPolicy:s,additionalSettings:o,proprietaryConstraints:d,extendedRtpCapabilities:u}){p.debug("run()"),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",u),video:l.getSendingRtpParameters("video",u)},this._remoteIceParameters=t,this._remoteIceCandidates=n,this._remoteDtlsParameters=r,this._cname=`CNAME-${c.generateRandomNumber()}`,this._setIceGatherer({iceServers:a,iceTransportPolicy:s}),this._setIceTransport(),this._setDtlsTransport()}async updateIceServers(e){throw new o.UnsupportedError("not supported")}async restartIce(e){if(p.debug("restartIce()"),this._remoteIceParameters=e,this._transportReady){p.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,e,"controlling");for(const e of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(e);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){p.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),this._transportReady||await this._setupTransport({localDtlsRole:"server"}),p.debug("send() | calling new RTCRtpSender()");const i=new RTCRtpSender(e,this._dtlsTransport),a=c.clone(this._sendingRtpParametersByKind[e.kind],{});a.codecs=l.reduceCodecs(a.codecs,r);const s=a.codecs.some((e=>/.+\/rtx$/i.test(e.mimeType)));t||(t=[{}]);for(const e of t)e.ssrc=c.generateRandomNumber(),s&&(e.rtx={ssrc:c.generateRandomNumber()});a.encodings=t,a.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const o=d.mangleRtpParameters(a);p.debug("send() | calling rtpSender.send() [params:%o]",o),await i.send(o);const u=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(u,i),{localId:u,rtpParameters:a,rtpSender:i}}async stopSending(e){p.debug("stopSending() [localId:%s]",e);const t=this._rtpSenders.get(e);if(!t)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(e);try{p.debug("stopSending() | calling rtpSender.stop()"),t.stop()}catch(e){throw p.warn("stopSending() | rtpSender.stop() failed:%o",e),e}}async replaceTrack(e,t){t?p.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):p.debug("replaceTrack() [localId:%s, no track]",e);const n=this._rtpSenders.get(e);if(!n)throw new Error("RTCRtpSender not found");n.setTrack(t)}async setMaxSpatialLayer(e,t){p.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._rtpSenders.get(e);if(!n)throw new Error("RTCRtpSender not found");const r=n.getParameters();r.encodings.forEach(((e,n)=>{e.active=n<=t})),await n.setParameters(r)}async setRtpEncodingParameters(e,t){p.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._rtpSenders.get(e);if(!n)throw new Error("RTCRtpSender not found");const r=n.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.setParameters(r)}async getSenderStats(e){const t=this._rtpSenders.get(e);if(!t)throw new Error("RTCRtpSender not found");return t.getStats()}async sendDataChannel(e){throw new o.UnsupportedError("not implemented")}async receive(e){const t=[];for(const t of e){const{trackId:e,kind:n}=t;p.debug("receive() [trackId:%s, kind:%s]",e,n)}this._transportReady||await this._setupTransport({localDtlsRole:"server"});for(const n of e){const{trackId:e,kind:r,rtpParameters:i}=n;p.debug("receive() | calling new RTCRtpReceiver()");const a=new RTCRtpReceiver(this._dtlsTransport,r);a.addEventListener("error",(e=>{p.error('rtpReceiver "error" event [event:%o]',e)}));const s=d.mangleRtpParameters(i);p.debug("receive() | calling rtpReceiver.receive() [params:%o]",s),await a.receive(s);const o=e;this._rtpReceivers.set(o,a),t.push({localId:o,track:a.track,rtpReceiver:a})}return t}async stopReceiving(e){p.debug("stopReceiving() [localId:%s]",e);const t=this._rtpReceivers.get(e);if(!t)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(e);try{p.debug("stopReceiving() | calling rtpReceiver.stop()"),t.stop()}catch(e){p.warn("stopReceiving() | rtpReceiver.stop() failed:%o",e)}}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){const t=this._rtpReceivers.get(e);if(!t)throw new Error("RTCRtpReceiver not found");return t.getStats()}async receiveDataChannel(e){throw new o.UnsupportedError("not implemented")}_setIceGatherer({iceServers:e,iceTransportPolicy:t}){const n=new RTCIceGatherer({iceServers:e||[],gatherPolicy:t||"all"});n.addEventListener("error",(e=>{p.error('iceGatherer "error" event [event:%o]',e)}));try{n.gather()}catch(e){p.debug("_setIceGatherer() | iceGatherer.gather() failed: %s",e.toString())}this._iceGatherer=n}_setIceTransport(){const e=new RTCIceTransport(this._iceGatherer);e.addEventListener("statechange",(()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})),e.addEventListener("icestatechange",(()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})),e.addEventListener("candidatepairchange",(e=>{p.debug('iceTransport "candidatepairchange" event [pair:%o]',e.pair)})),this._iceTransport=e}_setDtlsTransport(){const e=new RTCDtlsTransport(this._iceTransport);e.addEventListener("statechange",(()=>{p.debug('dtlsTransport "statechange" event [state:%s]',e.state)})),e.addEventListener("dtlsstatechange",(()=>{p.debug('dtlsTransport "dtlsstatechange" event [state:%s]',e.state),"closed"===e.state&&this.emit("@connectionstatechange","closed")})),e.addEventListener("error",(e=>{p.error('dtlsTransport "error" event [event:%o]',e)})),this._dtlsTransport=e}async _setupTransport({localDtlsRole:e}){p.debug("_setupTransport()");const t=this._dtlsTransport.getLocalParameters();t.role=e,await this.safeEmitAsPromise("@connect",{dtlsParameters:t}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const e of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(e);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter((e=>"sha-256"===e.algorithm||"sha-384"===e.algorithm||"sha-512"===e.algorithm)),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}t.Edge11=f},1419:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Firefox60=void 0;const s=a(n(766)),o=n(8562),c=n(9992),l=a(n(3347)),d=a(n(5280)),u=a(n(2267)),p=a(n(9072)),f=n(9316),h=n(7910),m=new o.Logger("Firefox60"),g={OS:16,MIS:2048};class v extends f.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new v}get name(){return"Firefox60"}close(){if(m.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){m.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");const n=t.captureStream().getVideoTracks()[0];try{e.addTransceiver("audio",{direction:"sendrecv"});const r=e.addTransceiver(n,{direction:"sendrecv"}),i=r.sender.getParameters(),a=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];i.encodings=a,await r.sender.setParameters(i);const o=await e.createOffer();try{t.remove()}catch(e){}try{n.stop()}catch(e){}try{e.close()}catch(e){}const c=s.parse(o.sdp);return u.extractRtpCapabilities({sdpObject:c})}catch(r){try{t.remove()}catch(e){}try{n.stop()}catch(e){}try{e.close()}catch(e){}throw r}}async getNativeSctpCapabilities(){return m.debug("getNativeSctpCapabilities()"),{numStreams:g}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:a,iceTransportPolicy:s,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:l}){m.debug("run()"),this._direction=e,this._remoteSdp=new h.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i}),this._sendingRtpParametersByKind={audio:d.getSendingRtpParameters("audio",l),video:d.getSendingRtpParameters("video",l)},this._sendingRemoteRtpParametersByKind={audio:d.getSendingRemoteRtpParameters("audio",l),video:d.getSendingRemoteRtpParameters("video",l)},this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){throw new c.UnsupportedError("not supported")}async restartIce(e){if(m.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});m.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();m.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){this._assertSendDirection(),m.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),t&&(t=l.clone(t,[])).length>1&&(t.forEach(((e,t)=>{e.rid=`r${t}`})),t.reverse());const i=l.clone(this._sendingRtpParametersByKind[e.kind],{});i.codecs=d.reduceCodecs(i.codecs,r);const a=l.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});a.codecs=d.reduceCodecs(a.codecs,r);const o=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream]});if(t){const e=o.sender.getParameters();e.encodings=t,await o.sender.setParameters(e)}const c=await this._pc.createOffer();let f=s.parse(c.sdp);this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:f}),m.debug("send() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const h=o.mid;i.mid=h,f=s.parse(this._pc.localDescription.sdp);const g=f.media[f.media.length-1];if(i.rtcp.cname=u.getCname({offerMediaObject:g}),t)if(1===t.length){const e=p.getRtpEncodings({offerMediaObject:g});Object.assign(e[0],t[0]),i.encodings=e}else i.encodings=t.reverse();else i.encodings=p.getRtpEncodings({offerMediaObject:g});if(i.encodings.length>1&&("video/vp8"===i.codecs[0].mimeType.toLowerCase()||"video/h264"===i.codecs[0].mimeType.toLowerCase()))for(const e of i.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:g,offerRtpParameters:i,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const v={type:"answer",sdp:this._remoteSdp.getSdp()};return m.debug("send() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._mapMidTransceiver.set(h,o),{localId:h,rtpParameters:i,rtpSender:o.sender}}async stopSending(e){m.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated transceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.disableMediaSection(t.mid);const n=await this._pc.createOffer();m.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._mapMidTransceiver.delete(e)}async replaceTrack(e,t){this._assertSendDirection(),t?m.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):m.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),m.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated transceiver not found");const r=n.sender.getParameters();t=r.encodings.length-1-t,r.encodings.forEach(((e,n)=>{e.active=n>=t})),await n.sender.setParameters(r)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),m.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.sender.setParameters(r)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:n,protocol:i};m.debug("sendDataChannel() [options:%o]",a);const o=this._pc.createDataChannel(r,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%g.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=s.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:t}),m.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:o,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive(e){this._assertRecvDirection();const t=[],n=new Map;for(const t of e){const{trackId:e,kind:r,rtpParameters:i}=t;m.debug("receive() [trackId:%s, kind:%s]",e,r);const a=i.mid||String(this._mapMidTransceiver.size);n.set(e,a),this._remoteSdp.receive({mid:a,kind:r,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const a=s.parse(i.sdp);for(const t of e){const{trackId:e,rtpParameters:r}=t,o=n.get(e),c=a.media.find((e=>String(e.mid)===o));u.applyCodecParameters({offerRtpParameters:r,answerMediaObject:c}),i={type:"answer",sdp:s.write(a)}}this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:a}),m.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const r of e){const{trackId:e}=r,i=n.get(e),a=this._pc.getTransceivers().find((e=>e.mid===i));if(!a)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,a),t.push({localId:i,track:a.receiver.track,rtpReceiver:a.receiver})}return t}async stopReceiving(e){this._assertRecvDirection(),m.debug("stopReceiving() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(t.mid);const n={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();m.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r),this._mapMidTransceiver.delete(e)}async pauseReceiving(e){this._assertRecvDirection();for(const t of e){m.debug("pauseReceiving() [localId:%s]",t);const e=this._mapMidTransceiver.get(t);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive"}const t={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const n=await this._pc.createAnswer();m.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(e){this._assertRecvDirection();for(const t of e){m.debug("resumeReceiving() [localId:%s]",t);const e=this._mapMidTransceiver.get(t);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly"}const t={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const n=await this._pc.createAnswer();m.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){this._assertRecvDirection();const{streamId:r,ordered:i,maxPacketLifeTime:a,maxRetransmits:o}=e,c={negotiated:!0,id:r,ordered:i,maxPacketLifeTime:a,maxRetransmits:o,protocol:n};m.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=s.parse(t.sdp);await this._setupTransport({localDtlsRole:"client",localSdpObject:e})}m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=s.parse(this._pc.localDescription.sdp));const n=u.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Firefox60=v},9316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerInterface=void 0;const r=n(4493);class i extends r.EnhancedEventEmitter{constructor(){super()}}t.HandlerInterface=i},4770:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNative=void 0;const s=a(n(766)),o=n(8562),c=n(9992),l=a(n(3347)),d=a(n(5280)),u=a(n(2267)),p=a(n(9875)),f=n(9316),h=n(7910),m=new o.Logger("ReactNative"),g={OS:1024,MIS:1024};class v extends f.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new v}get name(){return"ReactNative"}close(){if(m.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){m.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const t=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}const n=s.parse(t.sdp);return u.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return m.debug("getNativeSctpCapabilities()"),{numStreams:g}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:a,iceTransportPolicy:s,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:l}){m.debug("run()"),this._direction=e,this._remoteSdp=new h.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:d.getSendingRtpParameters("audio",l),video:d.getSendingRtpParameters("video",l)},this._sendingRemoteRtpParametersByKind={audio:d.getSendingRemoteRtpParameters("audio",l),video:d.getSendingRemoteRtpParameters("video",l)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){m.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(m.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});m.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();m.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),m.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&m.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addStream(this._sendStream);let a,o=await this._pc.createOffer(),c=s.parse(o.sdp);const f=l.clone(this._sendingRtpParametersByKind[e.kind],{});f.codecs=d.reduceCodecs(f.codecs);const h=l.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(h.codecs=d.reduceCodecs(h.codecs),this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:c}),"video"===e.kind&&t&&t.length>1&&(m.debug("send() | enabling simulcast"),c=s.parse(o.sdp),a=c.media.find((e=>"video"===e.type)),p.addLegacySimulcast({offerMediaObject:a,track:e,numStreams:t.length}),o={type:"offer",sdp:s.write(c)}),m.debug("send() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o),c=s.parse(this._pc.localDescription.sdp),a=c.media.find((t=>t.type===e.kind)),f.rtcp.cname=u.getCname({offerMediaObject:a}),f.encodings=p.getRtpEncodings({offerMediaObject:a,track:e}),t)for(let e=0;e<f.encodings.length;++e)t[e]&&Object.assign(f.encodings[e],t[e]);if(f.encodings.length>1&&("video/vp8"===f.codecs[0].mimeType.toLowerCase()||"video/h264"===f.codecs[0].mimeType.toLowerCase()))for(const e of f.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:f,answerRtpParameters:h,codecOptions:n});const g={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const v=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(v,e),{localId:v,rtpParameters:f}}async stopSending(e){this._assertSendDirection(),m.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();m.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(e){if(0===this._sendStream.getTracks().length)return void m.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.toString());throw e}if("stable"===this._pc.signalingState)return;const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}async replaceTrack(e,t){throw new c.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,t){throw new c.UnsupportedError("not implemented")}async setRtpEncodingParameters(e,t){throw new c.UnsupportedError("not implemented")}async getSenderStats(e){throw new c.UnsupportedError("not implemented")}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var a;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:n,protocol:i};m.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%g.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=s.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(a=this._forcedLocalDtlsRole)&&void 0!==a?a:"client",localSdpObject:t}),m.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[],r=new Map;for(const t of e){const{trackId:e,kind:n,rtpParameters:i}=t;m.debug("receive() [trackId:%s, kind:%s]",e,n);const a=n;let s=i.rtcp.cname;m.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),s+=`-hack-${l.generateRandomNumber()}`,r.set(e,s),this._remoteSdp.receive({mid:a,kind:n,offerRtpParameters:i,streamId:s,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let a=await this._pc.createAnswer();const o=s.parse(a.sdp);for(const t of e){const{kind:e,rtpParameters:n}=t,r=e,i=o.media.find((e=>String(e.mid)===r));u.applyCodecParameters({offerRtpParameters:n,answerMediaObject:i})}a={type:"answer",sdp:s.write(o)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:o}),m.debug("receive() | calling pc.setLocalDescription() [answer:%o]",a),await this._pc.setLocalDescription(a);for(const t of e){const{kind:e,trackId:i,rtpParameters:a}=t,s=i,o=e,c=r.get(i),l=this._pc.getRemoteStreams().find((e=>e.id===c)).getTrackById(s);if(!l)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(s,{mid:o,rtpParameters:a}),n.push({localId:s,track:l})}return n}async stopReceiving(e){this._assertRecvDirection(),m.debug("stopReceiving() [localId:%s]",e);const{mid:t,rtpParameters:n}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:n});const r={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const i=await this._pc.createAnswer();m.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){throw new c.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:a,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:n};m.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=s.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=s.parse(this._pc.localDescription.sdp));const n=u.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.ReactNative=v},2205:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Safari11=void 0;const s=a(n(766)),o=n(8562),c=a(n(3347)),l=a(n(5280)),d=a(n(2267)),u=a(n(9875)),p=n(9316),f=n(7910),h=new o.Logger("Safari11"),m={OS:1024,MIS:1024};class g extends p.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new g}get name(){return"Safari11"}close(){if(h.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const t=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}const n=s.parse(t.sdp);return d.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:m}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:a,iceTransportPolicy:s,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:d}){h.debug("run()"),this._direction=e,this._remoteSdp=new f.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){h.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(h.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&h.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addTrack(e,this._sendStream);let a,o=await this._pc.createOffer(),p=s.parse(o.sdp);const f=c.clone(this._sendingRtpParametersByKind[e.kind],{});f.codecs=l.reduceCodecs(f.codecs);const m=c.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(m.codecs=l.reduceCodecs(m.codecs),this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:p}),"video"===e.kind&&t&&t.length>1&&(h.debug("send() | enabling simulcast"),p=s.parse(o.sdp),a=p.media.find((e=>"video"===e.type)),u.addLegacySimulcast({offerMediaObject:a,track:e,numStreams:t.length}),o={type:"offer",sdp:s.write(p)}),h.debug("send() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o),p=s.parse(this._pc.localDescription.sdp),a=p.media.find((t=>t.type===e.kind)),f.rtcp.cname=d.getCname({offerMediaObject:a}),f.encodings=u.getRtpEncodings({offerMediaObject:a,track:e}),t)for(let e=0;e<f.encodings.length;++e)t[e]&&Object.assign(f.encodings[e],t[e]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase())for(const e of f.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:f,answerRtpParameters:m,codecOptions:n});const g={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const v=String(this._nextSendLocalId);this._nextSendLocalId++;const y=this._pc.getSenders().find((t=>t.track===e));return this._mapSendLocalIdRtpSender.set(v,y),{localId:v,rtpParameters:f,rtpSender:y}}async stopSending(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const n=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(e){if(0===this._sendStream.getTracks().length)return void h.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.toString());throw e}if("stable"===this._pc.signalingState)return;const r={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}async replaceTrack(e,t){this._assertSendDirection(),t?h.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):h.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const r=n.track;await n.replaceTrack(t),r&&this._sendStream.removeTrack(r),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const r=n.getParameters();r.encodings.forEach(((e,n)=>{e.active=n<=t})),await n.setParameters(r)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const r=n.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.setParameters(r)}async getSenderStats(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");return t.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var a;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:n,protocol:i};h.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=s.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(a=this._forcedLocalDtlsRole)&&void 0!==a?a:"client",localSdpObject:t}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[];for(const t of e){const{trackId:e,kind:n,rtpParameters:r}=t;h.debug("receive() [trackId:%s, kind:%s]",e,n);const i=n;this._remoteSdp.receive({mid:i,kind:n,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const a=s.parse(i.sdp);for(const t of e){const{kind:e,rtpParameters:n}=t,r=e,i=a.media.find((e=>String(e.mid)===r));d.applyCodecParameters({offerRtpParameters:n,answerMediaObject:i})}i={type:"answer",sdp:s.write(a)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:a}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const t of e){const{kind:e,trackId:r,rtpParameters:i}=t,a=e,s=r,o=this._pc.getReceivers().find((e=>e.track&&e.track.id===s));if(!o)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(s,{mid:a,rtpParameters:i,rtpReceiver:o}),n.push({localId:s,track:o.track,rtpReceiver:o})}return n}async stopReceiving(e){this._assertRecvDirection(),h.debug("stopReceiving() [localId:%s]",e);const{mid:t,rtpParameters:n}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:n});const r={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const i=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i)}async getReceiverStats(e){this._assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)||{};if(!t)throw new Error("associated RTCRtpReceiver not found");return t.getStats()}async pauseReceiving(e){}async resumeReceiving(e){}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:a,maxPacketLifeTime:o,maxRetransmits:c,protocol:n};h.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=s.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=s.parse(this._pc.localDescription.sdp));const n=d.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Safari11=g},9862:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Safari12=void 0;const s=a(n(766)),o=n(8562),c=a(n(3347)),l=a(n(5280)),d=a(n(2267)),u=a(n(9072)),p=n(9316),f=n(7910),h=new o.Logger("Safari12"),m={OS:1024,MIS:1024};class g extends p.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new g}get name(){return"Safari12"}close(){if(h.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{e.addTransceiver("audio"),e.addTransceiver("video");const t=await e.createOffer();try{e.close()}catch(e){}const n=s.parse(t.sdp);return d.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:m}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:a,iceTransportPolicy:s,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:d}){h.debug("run()"),this._direction=e,this._remoteSdp=new f.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){h.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(h.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",e.kind,e.id);const a=c.clone(this._sendingRtpParametersByKind[e.kind],{});a.codecs=l.reduceCodecs(a.codecs,r);const o=c.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});o.codecs=l.reduceCodecs(o.codecs,r);const p=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream]});let m,g=await this._pc.createOffer(),v=s.parse(g.sdp);this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:v}),t&&t.length>1&&(h.debug("send() | enabling legacy simulcast"),v=s.parse(g.sdp),m=v.media[p.idx],u.addLegacySimulcast({offerMediaObject:m,numStreams:t.length}),g={type:"offer",sdp:s.write(v)}),h.debug("send() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const y=f.mid;if(a.mid=y,v=s.parse(this._pc.localDescription.sdp),m=v.media[p.idx],a.rtcp.cname=d.getCname({offerMediaObject:m}),a.encodings=u.getRtpEncodings({offerMediaObject:m}),t)for(let e=0;e<a.encodings.length;++e)t[e]&&Object.assign(a.encodings[e],t[e]);if(a.encodings.length>1&&("video/vp8"===a.codecs[0].mimeType.toLowerCase()||"video/h264"===a.codecs[0].mimeType.toLowerCase()))for(const e of a.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:m,reuseMid:p.reuseMid,offerRtpParameters:a,answerRtpParameters:o,codecOptions:n});const b={type:"answer",sdp:this._remoteSdp.getSdp()};return h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b),this._mapMidTransceiver.set(y,f),{localId:y,rtpParameters:a,rtpSender:f.sender}}async stopSending(e){this._assertSendDirection(),h.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const n=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._mapMidTransceiver.delete(e)}async replaceTrack(e,t){this._assertSendDirection(),t?h.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):h.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{e.active=n<=t})),await n.sender.setParameters(r)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.sender.setParameters(r)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var a;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:n,protocol:i};h.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=s.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(a=this._forcedLocalDtlsRole)&&void 0!==a?a:"client",localSdpObject:t}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[],r=new Map;for(const t of e){const{trackId:e,kind:n,rtpParameters:i}=t;h.debug("receive() [trackId:%s, kind:%s]",e,n);const a=i.mid||String(this._mapMidTransceiver.size);r.set(e,a),this._remoteSdp.receive({mid:a,kind:n,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let a=await this._pc.createAnswer();const o=s.parse(a.sdp);for(const t of e){const{trackId:e,rtpParameters:n}=t,i=r.get(e),a=o.media.find((e=>String(e.mid)===i));d.applyCodecParameters({offerRtpParameters:n,answerMediaObject:a})}a={type:"answer",sdp:s.write(o)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:o}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",a),await this._pc.setLocalDescription(a);for(const t of e){const{trackId:e}=t,i=r.get(e),a=this._pc.getTransceivers().find((e=>e.mid===i));if(!a)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,a),n.push({localId:i,track:a.receiver.track,rtpReceiver:a.receiver})}return n}async stopReceiving(e){this._assertRecvDirection(),h.debug("stopReceiving() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(t.mid);const n={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r),this._mapMidTransceiver.delete(e)}async pauseReceiving(e){this._assertRecvDirection();for(const t of e){h.debug("pauseReceiving() [localId:%s]",t);const e=this._mapMidTransceiver.get(t);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive"}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const n=await this._pc.createAnswer();h.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(e){this._assertRecvDirection();for(const t of e){h.debug("resumeReceiving() [localId:%s]",t);const e=this._mapMidTransceiver.get(t);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly"}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const n=await this._pc.createAnswer();h.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:a,maxPacketLifeTime:o,maxRetransmits:c,protocol:n};h.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=s.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=s.parse(this._pc.localDescription.sdp));const n=d.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Safari12=g},3635:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.mangleRtpParameters=t.getCapabilities=void 0;const s=a(n(3347));t.getCapabilities=function(){const e=RTCRtpReceiver.getCapabilities(),t=s.clone(e,{});for(const e of t.codecs){if(e.channels=e.numChannels,delete e.numChannels,e.mimeType=e.mimeType||`${e.kind}/${e.name}`,e.parameters){const t=e.parameters;t.apt&&(t.apt=Number(t.apt)),t["packetization-mode"]&&(t["packetization-mode"]=Number(t["packetization-mode"]))}for(const t of e.rtcpFeedback||[])t.parameter||(t.parameter="")}return t},t.mangleRtpParameters=function(e){const t=s.clone(e,{});t.mid&&(t.muxId=t.mid,delete t.mid);for(const e of t.codecs)e.channels&&(e.numChannels=e.channels,delete e.channels),e.mimeType&&!e.name&&(e.name=e.mimeType.split("/")[1]),delete e.mimeType;return t}},6698:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.OfferMediaSection=t.AnswerMediaSection=t.MediaSection=void 0;const s=a(n(3347));class o{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:n,planB:r=!1}){if(this._mediaObject={},this._planB=r,e&&this.setIceParameters(e),t){this._mediaObject.candidates=[];for(const e of t){const t={component:1};t.foundation=e.foundation,t.ip=e.ip,t.port=e.port,t.priority=e.priority,t.transport=e.protocol,t.type=e.type,e.tcpType&&(t.tcptype=e.tcpType),this._mediaObject.candidates.push(t)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}n&&this.setDtlsRole(n.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return 0===this._mediaObject.port}getObject(){return this._mediaObject}setIceParameters(e){this._mediaObject.iceUfrag=e.usernameFragment,this._mediaObject.icePwd=e.password}disable(){this._mediaObject.direction="inactive",delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids}close(){this._mediaObject.direction="inactive",this._mediaObject.port=0,delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}}function c(e){const t=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!t)throw new TypeError("invalid codec.mimeType");return t[2]}t.MediaSection=o,t.AnswerMediaSection=class extends o{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:n,sctpParameters:r,plainRtpParameters:i,planB:a=!1,offerMediaObject:o,offerRtpParameters:l,answerRtpParameters:d,codecOptions:u,extmapAllowMixed:p=!1}){switch(super({iceParameters:e,iceCandidates:t,dtlsParameters:n,planB:a}),this._mediaObject.mid=String(o.mid),this._mediaObject.type=o.type,this._mediaObject.protocol=o.protocol,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),o.type){case"audio":case"video":this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const e of d.codecs){const t={payload:e.payloadType,codec:c(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),this._mediaObject.rtp.push(t);const n=s.clone(e.parameters,{});if(u){const{opusStereo:t,opusFec:r,opusDtx:i,opusMaxPlaybackRate:a,opusMaxAverageBitrate:s,opusPtime:o,videoGoogleStartBitrate:c,videoGoogleMaxBitrate:d,videoGoogleMinBitrate:p}=u,f=l.codecs.find((t=>t.payloadType===e.payloadType));switch(e.mimeType.toLowerCase()){case"audio/opus":void 0!==t&&(f.parameters["sprop-stereo"]=t?1:0,n.stereo=t?1:0),void 0!==r&&(f.parameters.useinbandfec=r?1:0,n.useinbandfec=r?1:0),void 0!==i&&(f.parameters.usedtx=i?1:0,n.usedtx=i?1:0),void 0!==a&&(n.maxplaybackrate=a),void 0!==s&&(n.maxaveragebitrate=s),void 0!==o&&(f.parameters.ptime=o,n.ptime=o);break;case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":void 0!==c&&(n["x-google-start-bitrate"]=c),void 0!==d&&(n["x-google-max-bitrate"]=d),void 0!==p&&(n["x-google-min-bitrate"]=p)}}const r={payload:e.payloadType,config:""};for(const e of Object.keys(n))r.config&&(r.config+=";"),r.config+=`${e}=${n[e]}`;r.config&&this._mediaObject.fmtp.push(r);for(const t of e.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:e.payloadType,type:t.type,subtype:t.parameter})}this._mediaObject.payloads=d.codecs.map((e=>e.payloadType)).join(" "),this._mediaObject.ext=[];for(const e of d.headerExtensions)(o.ext||[]).some((t=>t.uri===e.uri))&&this._mediaObject.ext.push({uri:e.uri,value:e.id});if(p&&"extmap-allow-mixed"===o.extmapAllowMixed&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),o.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:o.simulcast.list1},this._mediaObject.rids=[];for(const e of o.rids||[])"send"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:"recv"})}else if(o.simulcast_03){this._mediaObject.simulcast_03={value:o.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const e of o.rids||[])"send"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&"video"===this._mediaObject.type&&(this._mediaObject.xGoogleFlag="conference");break;case"application":"number"==typeof o.sctpPort?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=r.port,this._mediaObject.maxMessageSize=r.maxMessageSize):o.sctpmap&&(this._mediaObject.payloads=r.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:r.port,maxMessageSize:r.maxMessageSize})}}setDtlsRole(e){switch(e){case"client":this._mediaObject.setup="active";break;case"server":this._mediaObject.setup="passive";break;case"auto":this._mediaObject.setup="actpass"}}},t.OfferMediaSection=class extends o{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:n,sctpParameters:r,plainRtpParameters:i,planB:a=!1,mid:s,kind:o,offerRtpParameters:l,streamId:d,trackId:u,oldDataChannelSpec:p=!1}){switch(super({iceParameters:e,iceCandidates:t,dtlsParameters:n,planB:a}),this._mediaObject.mid=String(s),this._mediaObject.type=o,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.protocol=r?"UDP/DTLS/SCTP":"UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),o){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${d||"-"} ${u}`);for(const e of l.codecs){const t={payload:e.payloadType,codec:c(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),this._mediaObject.rtp.push(t);const n={payload:e.payloadType,config:""};for(const t of Object.keys(e.parameters))n.config&&(n.config+=";"),n.config+=`${t}=${e.parameters[t]}`;n.config&&this._mediaObject.fmtp.push(n);for(const t of e.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:e.payloadType,type:t.type,subtype:t.parameter})}this._mediaObject.payloads=l.codecs.map((e=>e.payloadType)).join(" "),this._mediaObject.ext=[];for(const e of l.headerExtensions)this._mediaObject.ext.push({uri:e.uri,value:e.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const e=l.encodings[0],t=e.ssrc,n=e.rtx&&e.rtx.ssrc?e.rtx.ssrc:void 0;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],l.rtcp.cname&&this._mediaObject.ssrcs.push({id:t,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:t,attribute:"msid",value:`${d||"-"} ${u}`}),n&&(l.rtcp.cname&&this._mediaObject.ssrcs.push({id:n,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:n,attribute:"msid",value:`${d||"-"} ${u}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${t} ${n}`}));break}case"application":p?(this._mediaObject.payloads=r.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:r.port,maxMessageSize:r.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=r.port,this._mediaObject.maxMessageSize=r.maxMessageSize)}}setDtlsRole(e){this._mediaObject.setup="actpass"}planBReceive({offerRtpParameters:e,streamId:t,trackId:n}){const r=e.encodings[0],i=r.ssrc,a=r.rtx&&r.rtx.ssrc?r.rtx.ssrc:void 0,s=this._mediaObject.payloads.split(" ");for(const t of e.codecs){if(s.includes(String(t.payloadType)))continue;const e={payload:t.payloadType,codec:c(t),rate:t.clockRate};t.channels>1&&(e.encoding=t.channels),this._mediaObject.rtp.push(e);const n={payload:t.payloadType,config:""};for(const e of Object.keys(t.parameters))n.config&&(n.config+=";"),n.config+=`${e}=${t.parameters[e]}`;n.config&&this._mediaObject.fmtp.push(n);for(const e of t.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:t.payloadType,type:e.type,subtype:e.parameter})}this._mediaObject.payloads+=` ${e.codecs.filter((e=>!this._mediaObject.payloads.includes(e.payloadType))).map((e=>e.payloadType)).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),e.rtcp.cname&&this._mediaObject.ssrcs.push({id:i,attribute:"cname",value:e.rtcp.cname}),this._mediaObject.ssrcs.push({id:i,attribute:"msid",value:`${t||"-"} ${n}`}),a&&(e.rtcp.cname&&this._mediaObject.ssrcs.push({id:a,attribute:"cname",value:e.rtcp.cname}),this._mediaObject.ssrcs.push({id:a,attribute:"msid",value:`${t||"-"} ${n}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${i} ${a}`}))}planBStopReceiving({offerRtpParameters:e}){const t=e.encodings[0],n=t.ssrc,r=t.rtx&&t.rtx.ssrc?t.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter((e=>e.id!==n&&e.id!==r)),r&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter((e=>e.ssrcs!==`${n} ${r}`)))}}},7910:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteSdp=void 0;const s=a(n(766)),o=n(8562),c=n(6698),l=new o.Logger("RemoteSdp");t.RemoteSdp=class{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:n,sctpParameters:r,plainRtpParameters:i,planB:a=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=e,this._iceCandidates=t,this._dtlsParameters=n,this._sctpParameters=r,this._plainRtpParameters=i,this._planB=a,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},e&&e.iceLite&&(this._sdpObject.icelite="ice-lite"),n){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const e=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:n.fingerprints[e-1].algorithm,hash:n.fingerprints[e-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}i&&(this._sdpObject.origin.address=i.ip,this._sdpObject.origin.ipVer=i.ipVersion)}updateIceParameters(e){l.debug("updateIceParameters() [iceParameters:%o]",e),this._iceParameters=e,this._sdpObject.icelite=e.iceLite?"ice-lite":void 0;for(const t of this._mediaSections)t.setIceParameters(e)}updateDtlsRole(e){l.debug("updateDtlsRole() [role:%s]",e),this._dtlsParameters.role=e;for(const t of this._mediaSections)t.setDtlsRole(e)}getNextMediaSectionIdx(){for(let e=0;e<this._mediaSections.length;++e){const t=this._mediaSections[e];if(t.closed)return{idx:e,reuseMid:t.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:e,reuseMid:t,offerRtpParameters:n,answerRtpParameters:r,codecOptions:i,extmapAllowMixed:a=!1}){const s=new c.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:e,offerRtpParameters:n,answerRtpParameters:r,codecOptions:i,extmapAllowMixed:a});t?this._replaceMediaSection(s,t):this._midToIndex.has(s.mid)?this._replaceMediaSection(s):this._addMediaSection(s)}receive({mid:e,kind:t,offerRtpParameters:n,streamId:r,trackId:i}){const a=this._midToIndex.get(e);let s;if(void 0!==a&&(s=this._mediaSections[a]),s)s.planBReceive({offerRtpParameters:n,streamId:r,trackId:i}),this._replaceMediaSection(s);else{s=new c.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:e,kind:t,offerRtpParameters:n,streamId:r,trackId:i});const a=this._mediaSections.find((e=>e.closed));a?this._replaceMediaSection(s,a.mid):this._addMediaSection(s)}}disableMediaSection(e){const t=this._midToIndex.get(e);if(void 0===t)throw new Error(`no media section found with mid '${e}'`);this._mediaSections[t].disable()}closeMediaSection(e){const t=this._midToIndex.get(e);if(void 0===t)throw new Error(`no media section found with mid '${e}'`);const n=this._mediaSections[t];if(e===this._firstMid)return l.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",e),void this.disableMediaSection(e);n.close(),this._regenerateBundleMids()}planBStopReceiving({mid:e,offerRtpParameters:t}){const n=this._midToIndex.get(e);if(void 0===n)throw new Error(`no media section found with mid '${e}'`);const r=this._mediaSections[n];r.planBStopReceiving({offerRtpParameters:t}),this._replaceMediaSection(r)}sendSctpAssociation({offerMediaObject:e}){const t=new c.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:e});this._addMediaSection(t)}receiveSctpAssociation({oldDataChannelSpec:e=!1}={}){const t=new c.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:e});this._addMediaSection(t)}getSdp(){return this._sdpObject.origin.sessionVersion++,s.write(this._sdpObject)}_addMediaSection(e){this._firstMid||(this._firstMid=e.mid),this._mediaSections.push(e),this._midToIndex.set(e.mid,this._mediaSections.length-1),this._sdpObject.media.push(e.getObject()),this._regenerateBundleMids()}_replaceMediaSection(e,t){if("string"==typeof t){const n=this._midToIndex.get(t);if(void 0===n)throw new Error(`no media section found for reuseMid '${t}'`);const r=this._mediaSections[n];this._mediaSections[n]=e,this._midToIndex.delete(r.mid),this._midToIndex.set(e.mid,n),this._sdpObject.media[n]=e.getObject(),this._regenerateBundleMids()}else{const t=this._midToIndex.get(e.mid);if(void 0===t)throw new Error(`no media section found with mid '${e.mid}'`);this._mediaSections[t]=e,this._sdpObject.media[t]=e.getObject()}}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter((e=>!e.closed)).map((e=>e.mid)).join(" "))}}},2267:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.applyCodecParameters=t.getCname=t.extractDtlsParameters=t.extractRtpCapabilities=void 0;const s=a(n(766));t.extractRtpCapabilities=function({sdpObject:e}){const t=new Map,n=[];let r=!1,i=!1;for(const a of e.media){const e=a.type;switch(e){case"audio":if(r)continue;r=!0;break;case"video":if(i)continue;i=!0;break;default:continue}for(const n of a.rtp){const r={kind:e,mimeType:`${e}/${n.codec}`,preferredPayloadType:n.payload,clockRate:n.rate,channels:n.encoding,parameters:{},rtcpFeedback:[]};t.set(r.preferredPayloadType,r)}for(const e of a.fmtp||[]){const n=s.parseParams(e.config),r=t.get(e.payload);r&&(n&&n.hasOwnProperty("profile-level-id")&&(n["profile-level-id"]=String(n["profile-level-id"])),r.parameters=n)}for(const e of a.rtcpFb||[]){const n=t.get(e.payload);if(!n)continue;const r={type:e.type,parameter:e.subtype};r.parameter||delete r.parameter,n.rtcpFeedback.push(r)}for(const t of a.ext||[]){if(t["encrypt-uri"])continue;const r={kind:e,uri:t.uri,preferredId:t.value};n.push(r)}}return{codecs:Array.from(t.values()),headerExtensions:n}},t.extractDtlsParameters=function({sdpObject:e}){const t=(e.media||[]).find((e=>e.iceUfrag&&0!==e.port));if(!t)throw new Error("no active media section found");const n=t.fingerprint||e.fingerprint;let r;switch(t.setup){case"active":r="client";break;case"passive":r="server";break;case"actpass":r="auto"}return{role:r,fingerprints:[{algorithm:n.type,value:n.hash}]}},t.getCname=function({offerMediaObject:e}){const t=(e.ssrcs||[]).find((e=>"cname"===e.attribute));return t?t.value:""},t.applyCodecParameters=function({offerRtpParameters:e,answerMediaObject:t}){for(const n of e.codecs){const e=n.mimeType.toLowerCase();if("audio/opus"!==e)continue;if(!(t.rtp||[]).find((e=>e.payload===n.payloadType)))continue;t.fmtp=t.fmtp||[];let r=t.fmtp.find((e=>e.payload===n.payloadType));r||(r={payload:n.payloadType,config:""},t.fmtp.push(r));const i=s.parseParams(r.config);switch(e){case"audio/opus":{const e=n.parameters["sprop-stereo"];void 0!==e&&(i.stereo=e?1:0);break}}r.config="";for(const e of Object.keys(i))r.config&&(r.config+=";"),r.config+=`${e}=${i[e]}`}}},9875:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLegacySimulcast=t.getRtpEncodings=void 0,t.getRtpEncodings=function({offerMediaObject:e,track:t}){let n;const r=new Set;for(const i of e.ssrcs||[])if("msid"===i.attribute&&i.value.split(" ")[1]===t.id){const e=i.id;r.add(e),n||(n=e)}if(0===r.size)throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);const i=new Map;for(const t of e.ssrcGroups||[]){if("FID"!==t.semantics)continue;let[e,n]=t.ssrcs.split(/\s+/);e=Number(e),n=Number(n),r.has(e)&&(r.delete(e),r.delete(n),i.set(e,n))}for(const e of r)i.set(e,null);const a=[];for(const[e,t]of i){const n={ssrc:e};t&&(n.rtx={ssrc:t}),a.push(n)}return a},t.addLegacySimulcast=function({offerMediaObject:e,track:t,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");let r,i,a;if(!(e.ssrcs||[]).find((e=>"msid"===e.attribute&&(e.value.split(" ")[1]===t.id&&(r=e.id,a=e.value.split(" ")[0],!0)))))throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);(e.ssrcGroups||[]).some((e=>{if("FID"!==e.semantics)return!1;const t=e.ssrcs.split(/\s+/);return Number(t[0])===r&&(i=Number(t[1]),!0)}));const s=e.ssrcs.find((e=>"cname"===e.attribute&&e.id===r));if(!s)throw new Error(`a=ssrc line with cname information not found [track.id:${t.id}]`);const o=s.value,c=[],l=[];for(let e=0;e<n;++e)c.push(r+e),i&&l.push(i+e);e.ssrcGroups=e.ssrcGroups||[],e.ssrcs=e.ssrcs||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:c.join(" ")});for(let n=0;n<c.length;++n){const r=c[n];e.ssrcs.push({id:r,attribute:"cname",value:o}),e.ssrcs.push({id:r,attribute:"msid",value:`${a} ${t.id}`})}for(let n=0;n<l.length;++n){const r=c[n],i=l[n];e.ssrcs.push({id:i,attribute:"cname",value:o}),e.ssrcs.push({id:i,attribute:"msid",value:`${a} ${t.id}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${r} ${i}`})}}},9072:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLegacySimulcast=t.getRtpEncodings=void 0,t.getRtpEncodings=function({offerMediaObject:e}){const t=new Set;for(const n of e.ssrcs||[]){const e=n.id;t.add(e)}if(0===t.size)throw new Error("no a=ssrc lines found");const n=new Map;for(const r of e.ssrcGroups||[]){if("FID"!==r.semantics)continue;let[e,i]=r.ssrcs.split(/\s+/);e=Number(e),i=Number(i),t.has(e)&&(t.delete(e),t.delete(i),n.set(e,i))}for(const e of t)n.set(e,null);const r=[];for(const[e,t]of n){const n={ssrc:e};t&&(n.rtx={ssrc:t}),r.push(n)}return r},t.addLegacySimulcast=function({offerMediaObject:e,numStreams:t}){if(t<=1)throw new TypeError("numStreams must be greater than 1");const n=(e.ssrcs||[]).find((e=>"msid"===e.attribute));if(!n)throw new Error("a=ssrc line with msid information not found");const[r,i]=n.value.split(" "),a=n.id;let s;(e.ssrcGroups||[]).some((e=>{if("FID"!==e.semantics)return!1;const t=e.ssrcs.split(/\s+/);return Number(t[0])===a&&(s=Number(t[1]),!0)}));const o=e.ssrcs.find((e=>"cname"===e.attribute));if(!o)throw new Error("a=ssrc line with cname information not found");const c=o.value,l=[],d=[];for(let e=0;e<t;++e)l.push(a+e),s&&d.push(s+e);e.ssrcGroups=[],e.ssrcs=[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(let t=0;t<l.length;++t){const n=l[t];e.ssrcs.push({id:n,attribute:"cname",value:c}),e.ssrcs.push({id:n,attribute:"msid",value:`${r} ${i}`})}for(let t=0;t<d.length;++t){const n=l[t],a=d[t];e.ssrcs.push({id:a,attribute:"cname",value:c}),e.ssrcs.push({id:a,attribute:"msid",value:`${r} ${i}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${n} ${a}`})}}},960:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.debug=t.parseScalabilityMode=t.detectDevice=t.Device=t.version=t.types=void 0;const o=s(n(388));t.debug=o.default;const c=n(3120);Object.defineProperty(t,"Device",{enumerable:!0,get:function(){return c.Device}}),Object.defineProperty(t,"detectDevice",{enumerable:!0,get:function(){return c.detectDevice}});const l=a(n(1232));t.types=l,t.version="3.6.51";var d=n(2770);Object.defineProperty(t,"parseScalabilityMode",{enumerable:!0,get:function(){return d.parse}})},5280:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.canReceive=t.canSend=t.generateProbatorRtpParameters=t.reduceCodecs=t.getSendingRemoteRtpParameters=t.getSendingRtpParameters=t.getRecvRtpCapabilities=t.getExtendedRtpCapabilities=t.validateSctpStreamParameters=t.validateSctpParameters=t.validateNumSctpStreams=t.validateSctpCapabilities=t.validateRtcpParameters=t.validateRtpEncodingParameters=t.validateRtpHeaderExtensionParameters=t.validateRtpCodecParameters=t.validateRtpParameters=t.validateRtpHeaderExtension=t.validateRtcpFeedback=t.validateRtpCodecCapability=t.validateRtpCapabilities=void 0;const s=a(n(7855)),o=a(n(3347));function c(e){const t=new RegExp("^(audio|video)/(.+)","i");if("object"!=typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!=typeof e.mimeType)throw new TypeError("missing codec.mimeType");const n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if(e.kind=n[1].toLowerCase(),e.preferredPayloadType&&"number"!=typeof e.preferredPayloadType)throw new TypeError("invalid codec.preferredPayloadType");if("number"!=typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===e.kind?"number"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(const t of Object.keys(e.parameters)){let n=e.parameters[t];if(void 0===n&&(e.parameters[t]="",n=""),"string"!=typeof n&&"number"!=typeof n)throw new TypeError(`invalid codec parameter [key:${t}s, value:${n}]`);if("apt"===t&&"number"!=typeof n)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const t of e.rtcpFeedback)l(t)}function l(e){if("object"!=typeof e)throw new TypeError("fb is not an object");if(!e.type||"string"!=typeof e.type)throw new TypeError("missing fb.type");e.parameter&&"string"==typeof e.parameter||(e.parameter="")}function d(e){if("object"!=typeof e)throw new TypeError("ext is not an object");if("audio"!==e.kind&&"video"!==e.kind)throw new TypeError("invalid ext.kind");if(!e.uri||"string"!=typeof e.uri)throw new TypeError("missing ext.uri");if("number"!=typeof e.preferredId)throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&"boolean"!=typeof e.preferredEncrypt)throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&"string"!=typeof e.direction)throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function u(e){if("object"!=typeof e)throw new TypeError("params is not an object");if(e.mid&&"string"!=typeof e.mid)throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");for(const t of e.codecs)p(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)f(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);for(const t of e.encodings)h(t);if(e.rtcp&&"object"!=typeof e.rtcp)throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),m(e.rtcp)}function p(e){const t=new RegExp("^(audio|video)/(.+)","i");if("object"!=typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!=typeof e.mimeType)throw new TypeError("missing codec.mimeType");const n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if("number"!=typeof e.payloadType)throw new TypeError("missing codec.payloadType");if("number"!=typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===n[1].toLowerCase()?"number"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(const t of Object.keys(e.parameters)){let n=e.parameters[t];if(void 0===n&&(e.parameters[t]="",n=""),"string"!=typeof n&&"number"!=typeof n)throw new TypeError(`invalid codec parameter [key:${t}s, value:${n}]`);if("apt"===t&&"number"!=typeof n)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const t of e.rtcpFeedback)l(t)}function f(e){if("object"!=typeof e)throw new TypeError("ext is not an object");if(!e.uri||"string"!=typeof e.uri)throw new TypeError("missing ext.uri");if("number"!=typeof e.id)throw new TypeError("missing ext.id");if(e.encrypt&&"boolean"!=typeof e.encrypt)throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(const t of Object.keys(e.parameters)){let n=e.parameters[t];if(void 0===n&&(e.parameters[t]="",n=""),"string"!=typeof n&&"number"!=typeof n)throw new TypeError("invalid header extension parameter")}}function h(e){if("object"!=typeof e)throw new TypeError("encoding is not an object");if(e.ssrc&&"number"!=typeof e.ssrc)throw new TypeError("invalid encoding.ssrc");if(e.rid&&"string"!=typeof e.rid)throw new TypeError("invalid encoding.rid");if(e.rtx&&"object"!=typeof e.rtx)throw new TypeError("invalid encoding.rtx");if(e.rtx&&"number"!=typeof e.rtx.ssrc)throw new TypeError("missing encoding.rtx.ssrc");if(e.dtx&&"boolean"==typeof e.dtx||(e.dtx=!1),e.scalabilityMode&&"string"!=typeof e.scalabilityMode)throw new TypeError("invalid encoding.scalabilityMode")}function m(e){if("object"!=typeof e)throw new TypeError("rtcp is not an object");if(e.cname&&"string"!=typeof e.cname)throw new TypeError("invalid rtcp.cname");e.reducedSize&&"boolean"==typeof e.reducedSize||(e.reducedSize=!0)}function g(e){if("object"!=typeof e)throw new TypeError("numStreams is not an object");if("number"!=typeof e.OS)throw new TypeError("missing numStreams.OS");if("number"!=typeof e.MIS)throw new TypeError("missing numStreams.MIS")}function v(e){return!!e&&/.+\/rtx$/i.test(e.mimeType)}function y(e,t,{strict:n=!1,modify:r=!1}={}){const i=e.mimeType.toLowerCase();if(i!==t.mimeType.toLowerCase())return!1;if(e.clockRate!==t.clockRate)return!1;if(e.channels!==t.channels)return!1;switch(i){case"video/h264":if(n){if((e.parameters["packetization-mode"]||0)!==(t.parameters["packetization-mode"]||0))return!1;if(!s.isSameProfile(e.parameters,t.parameters))return!1;let n;try{n=s.generateProfileLevelIdForAnswer(e.parameters,t.parameters)}catch(e){return!1}r&&(n?(e.parameters["profile-level-id"]=n,t.parameters["profile-level-id"]=n):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break;case"video/vp9":if(n&&(e.parameters["profile-id"]||0)!==(t.parameters["profile-id"]||0))return!1}return!0}function b(e,t){const n=[];for(const r of e.rtcpFeedback||[]){const e=(t.rtcpFeedback||[]).find((e=>e.type===r.type&&(e.parameter===r.parameter||!e.parameter&&!r.parameter)));e&&n.push(e)}return n}t.validateRtpCapabilities=function(e){if("object"!=typeof e)throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);for(const t of e.codecs)c(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)d(t)},t.validateRtpCodecCapability=c,t.validateRtcpFeedback=l,t.validateRtpHeaderExtension=d,t.validateRtpParameters=u,t.validateRtpCodecParameters=p,t.validateRtpHeaderExtensionParameters=f,t.validateRtpEncodingParameters=h,t.validateRtcpParameters=m,t.validateSctpCapabilities=function(e){if("object"!=typeof e)throw new TypeError("caps is not an object");if(!e.numStreams||"object"!=typeof e.numStreams)throw new TypeError("missing caps.numStreams");g(e.numStreams)},t.validateNumSctpStreams=g,t.validateSctpParameters=function(e){if("object"!=typeof e)throw new TypeError("params is not an object");if("number"!=typeof e.port)throw new TypeError("missing params.port");if("number"!=typeof e.OS)throw new TypeError("missing params.OS");if("number"!=typeof e.MIS)throw new TypeError("missing params.MIS");if("number"!=typeof e.maxMessageSize)throw new TypeError("missing params.maxMessageSize")},t.validateSctpStreamParameters=function(e){if("object"!=typeof e)throw new TypeError("params is not an object");if("number"!=typeof e.streamId)throw new TypeError("missing params.streamId");let t=!1;if("boolean"==typeof e.ordered?t=!0:e.ordered=!0,e.maxPacketLifeTime&&"number"!=typeof e.maxPacketLifeTime)throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&"number"!=typeof e.maxRetransmits)throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(t||!e.maxPacketLifeTime&&!e.maxRetransmits||(e.ordered=!1),e.label&&"string"!=typeof e.label)throw new TypeError("invalid params.label");if(e.protocol&&"string"!=typeof e.protocol)throw new TypeError("invalid params.protocol")},t.getExtendedRtpCapabilities=function(e,t){const n={codecs:[],headerExtensions:[]};for(const r of t.codecs||[]){if(v(r))continue;const t=(e.codecs||[]).find((e=>y(e,r,{strict:!0,modify:!0})));if(!t)continue;const i={mimeType:t.mimeType,kind:t.kind,clockRate:t.clockRate,channels:t.channels,localPayloadType:t.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:r.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:t.parameters,remoteParameters:r.parameters,rtcpFeedback:b(t,r)};n.codecs.push(i)}for(const r of n.codecs){const n=e.codecs.find((e=>v(e)&&e.parameters.apt===r.localPayloadType)),i=t.codecs.find((e=>v(e)&&e.parameters.apt===r.remotePayloadType));n&&i&&(r.localRtxPayloadType=n.preferredPayloadType,r.remoteRtxPayloadType=i.preferredPayloadType)}for(const r of t.headerExtensions){const t=e.headerExtensions.find((e=>{return n=r,!((t=e).kind&&n.kind&&t.kind!==n.kind||t.uri!==n.uri);var t,n}));if(!t)continue;const i={kind:r.kind,uri:r.uri,sendId:t.preferredId,recvId:r.preferredId,encrypt:t.preferredEncrypt,direction:"sendrecv"};switch(r.direction){case"sendrecv":i.direction="sendrecv";break;case"recvonly":i.direction="sendonly";break;case"sendonly":i.direction="recvonly";break;case"inactive":i.direction="inactive"}n.headerExtensions.push(i)}return n},t.getRecvRtpCapabilities=function(e){const t={codecs:[],headerExtensions:[]};for(const n of e.codecs){const e={mimeType:n.mimeType,kind:n.kind,preferredPayloadType:n.remotePayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(t.codecs.push(e),!n.remoteRtxPayloadType)continue;const r={mimeType:`${n.kind}/rtx`,kind:n.kind,preferredPayloadType:n.remoteRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.remotePayloadType},rtcpFeedback:[]};t.codecs.push(r)}for(const n of e.headerExtensions){if("sendrecv"!==n.direction&&"recvonly"!==n.direction)continue;const e={kind:n.kind,uri:n.uri,preferredId:n.recvId,preferredEncrypt:n.encrypt,direction:n.direction};t.headerExtensions.push(e)}return t},t.getSendingRtpParameters=function(e,t){const n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const r of t.codecs){if(r.kind!==e)continue;const t={mimeType:r.mimeType,payloadType:r.localPayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback};if(n.codecs.push(t),r.localRtxPayloadType){const e={mimeType:`${r.kind}/rtx`,payloadType:r.localRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.localPayloadType},rtcpFeedback:[]};n.codecs.push(e)}}for(const r of t.headerExtensions){if(r.kind&&r.kind!==e||"sendrecv"!==r.direction&&"sendonly"!==r.direction)continue;const t={uri:r.uri,id:r.sendId,encrypt:r.encrypt,parameters:{}};n.headerExtensions.push(t)}return n},t.getSendingRemoteRtpParameters=function(e,t){const n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const r of t.codecs){if(r.kind!==e)continue;const t={mimeType:r.mimeType,payloadType:r.localPayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.remoteParameters,rtcpFeedback:r.rtcpFeedback};if(n.codecs.push(t),r.localRtxPayloadType){const e={mimeType:`${r.kind}/rtx`,payloadType:r.localRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.localPayloadType},rtcpFeedback:[]};n.codecs.push(e)}}for(const r of t.headerExtensions){if(r.kind&&r.kind!==e||"sendrecv"!==r.direction&&"sendonly"!==r.direction)continue;const t={uri:r.uri,id:r.sendId,encrypt:r.encrypt,parameters:{}};n.headerExtensions.push(t)}if(n.headerExtensions.some((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.uri)))for(const e of n.codecs)e.rtcpFeedback=(e.rtcpFeedback||[]).filter((e=>"goog-remb"!==e.type));else if(n.headerExtensions.some((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.uri)))for(const e of n.codecs)e.rtcpFeedback=(e.rtcpFeedback||[]).filter((e=>"transport-cc"!==e.type));else for(const e of n.codecs)e.rtcpFeedback=(e.rtcpFeedback||[]).filter((e=>"transport-cc"!==e.type&&"goog-remb"!==e.type));return n},t.reduceCodecs=function(e,t){const n=[];if(t){for(let r=0;r<e.length;++r)if(y(e[r],t)){n.push(e[r]),v(e[r+1])&&n.push(e[r+1]);break}if(0===n.length)throw new TypeError("no matching codec found")}else n.push(e[0]),v(e[1])&&n.push(e[1]);return n},t.generateProbatorRtpParameters=function(e){u(e=o.clone(e,{}));const t={mid:"probator",codecs:[],headerExtensions:[],encodings:[{ssrc:1234}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=127,t.headerExtensions=e.headerExtensions,t},t.canSend=function(e,t){return t.codecs.some((t=>t.kind===e))},t.canReceive=function(e,t){if(u(e),0===e.codecs.length)return!1;const n=e.codecs[0];return t.codecs.some((e=>e.remotePayloadType===n.payloadType))}},2770:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;const n=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");t.parse=function(e){const t=n.exec(e||"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}},1232:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(3120),t),i(n(5202),t),i(n(6569),t),i(n(9514),t),i(n(5504),t),i(n(1623),t),i(n(4879),t),i(n(7669),t),i(n(9316),t),i(n(9992),t)},3347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomNumber=t.clone=void 0,t.clone=function(e,t){return void 0===e?t:JSON.parse(JSON.stringify(e))},t.generateRandomNumber=function(){return Math.round(1e7*Math.random())}},388:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(4455)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},4455:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,a,s=null;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),a=i-(n||i);r.diff=a,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const a=t.formatters[i];if("function"==typeof a){const t=e[s];n=a.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(1438),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},1438:e=>{var t=1e3,n=60*t,r=60*n,i=24*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,s){s=s||{};var o,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(o=e,(c=Math.abs(o))>=i?a(o,c,i,"day"):c>=r?a(o,c,r,"hour"):c>=n?a(o,c,n,"minute"):c>=t?a(o,c,t,"second"):o+" ms"):function(e){var a=Math.abs(e);return a>=i?Math.round(e/i)+"d":a>=r?Math.round(e/r)+"h":a>=n?Math.round(e/n)+"m":a>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3281:(e,t,n)=>{"use strict";e.exports=n(9050)},4492:(e,t,n)=>{"use strict";e.exports=n(8836)},2967:e=>{"use strict";e.exports=r;var t,n=/\/|\./;function r(e,t){n.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),r[e]=t}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),r("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:t}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(e){return r[e]||null}},3996:(e,t,n)=>{"use strict";var r=t,i=n(7025),a=n(9935);function s(e,t,n,r){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",r);for(var a=t.resolvedType.values,s=Object.keys(a),o=0;o<s.length;++o)t.repeated&&a[s[o]]===t.typeDefault&&e("default:"),e("case%j:",s[o])("case %i:",a[s[o]])("m%s=%j",r,a[s[o]])("break");e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,c)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r)}}return e}function o(e,t,n,r){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):e("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var a=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":a=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,a?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r)}}return e}r.fromObject=function(e){var t=e.fieldsArray,n=a.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var o=t[r].resolve(),c=a.safeProp(o.name);o.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",o.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),s(n,o,r,c+"[ks[i]]")("}")("}")):o.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",o.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),s(n,o,r,c+"[i]")("}")("}")):(o.resolvedType instanceof i||n("if(d%s!=null){",c),s(n,o,r,c),o.resolvedType instanceof i||n("}"))}return n("return m")},r.toObject=function(e){var t=e.fieldsArray.slice().sort(a.compareFieldsById);if(!t.length)return a.codegen()("return {}");for(var n=a.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],s=[],c=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?r:t[l].map?s:c).push(t[l]);if(r.length){for(n("if(o.arrays||o.defaults){"),l=0;l<r.length;++l)n("d%s=[]",a.safeProp(r[l].name));n("}")}if(s.length){for(n("if(o.objects||o.defaults){"),l=0;l<s.length;++l)n("d%s={}",a.safeProp(s[l].name));n("}")}if(c.length){for(n("if(o.defaults){"),l=0;l<c.length;++l){var d=c[l],u=a.safeProp(d.name);if(d.resolvedType instanceof i)n("d%s=o.enums===String?%j:%j",u,d.resolvedType.valuesById[d.typeDefault],d.typeDefault);else if(d.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",d.typeDefault.low,d.typeDefault.high,d.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",u)("}else")("d%s=o.longs===String?%j:%i",u,d.typeDefault.toString(),d.typeDefault.toNumber());else if(d.bytes){var p="["+Array.prototype.slice.call(d.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",u,String.fromCharCode.apply(String,d.typeDefault))("else{")("d%s=%s",u,p)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",u,u)("}")}else n("d%s=%j",u,d.typeDefault)}n("}")}var f=!1;for(l=0;l<t.length;++l){d=t[l];var h=e._fieldsArray.indexOf(d);u=a.safeProp(d.name),d.map?(f||(f=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",u,u)("d%s={}",u)("for(var j=0;j<ks2.length;++j){"),o(n,d,h,u+"[ks2[j]]")("}")):d.repeated?(n("if(m%s&&m%s.length){",u,u)("d%s=[]",u)("for(var j=0;j<m%s.length;++j){",u),o(n,d,h,u+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",u,d.name),o(n,d,h,u),d.partOf&&n("if(o.oneofs)")("d%s=%j",a.safeProp(d.partOf.name),d.name)),n("}")}return n("return d")}},5305:(e,t,n)=>{"use strict";e.exports=function(e){var t=a.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var o=e._fieldsArray[n].resolve(),c=o.resolvedType instanceof r?"int32":o.type,l="m"+a.safeProp(o.name);t("case %i:",o.id),o.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),void 0!==i.defaults[o.keyType]?t("k=%j",i.defaults[o.keyType]):t("k=null"),void 0!==i.defaults[c]?t("value=%j",i.defaults[c]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",o.keyType)("case 2:"),void 0===i.basic[c]?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",c),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==i.long[o.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',l):t("%s[k]=value",l)):o.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==i.packed[c]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),void 0===i.basic[c]?t(o.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,n):t("%s.push(r.%s())",l,c)):void 0===i.basic[c]?t(o.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,n):t("%s=r.%s()",l,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var d=e._fieldsArray[n];d.required&&t("if(!m.hasOwnProperty(%j))",d.name)("throw util.ProtocolError(%j,{instance:m})",s(d))}return t("return m")};var r=n(7025),i=n(7063),a=n(9935);function s(e){return"missing required '"+e.name+"'"}},4928:(e,t,n)=>{"use strict";e.exports=function(e){for(var t,n=a.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),o=e.fieldsArray.slice().sort(a.compareFieldsById),c=0;c<o.length;++c){var l=o[c].resolve(),d=e._fieldsArray.indexOf(l),u=l.resolvedType instanceof r?"int32":l.type,p=i.basic[u];t="m"+a.safeProp(l.name),l.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|i.mapKey[l.keyType],l.keyType),void 0===p?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",d,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|p,u,t),n("}")("}")):l.repeated?(n("if(%s!=null&&%s.length){",t,t),l.packed&&void 0!==i.packed[u]?n("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",u,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),void 0===p?s(n,l,d,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(l.id<<3|p)>>>0,u,t)),n("}")):(l.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,l.name),void 0===p?s(n,l,d,t):n("w.uint32(%i).%s(%s)",(l.id<<3|p)>>>0,u,t))}return n("return w")};var r=n(7025),i=n(7063),a=n(9935);function s(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}},7025:(e,t,n)=>{"use strict";e.exports=s;var r=n(3243);((s.prototype=Object.create(r.prototype)).constructor=s).className="Enum";var i=n(9313),a=n(9935);function s(e,t,n,i,a){if(r.call(this,e,n),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=a||{},this.reserved=void 0,t)for(var s=Object.keys(t),o=0;o<s.length;++o)"number"==typeof t[s[o]]&&(this.valuesById[this.values[s[o]]=t[s[o]]]=s[o])}s.fromJSON=function(e,t){var n=new s(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},s.prototype.add=function(e,t,n){if(!a.isString(e))throw TypeError("name must be a string");if(!a.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},s.prototype.remove=function(e){if(!a.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},s.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},s.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},3548:(e,t,n)=>{"use strict";e.exports=l;var r=n(3243);((l.prototype=Object.create(r.prototype)).constructor=l).className="Field";var i,a=n(7025),s=n(7063),o=n(9935),c=/^required|optional|repeated$/;function l(e,t,n,i,a,l,d){if(o.isObject(i)?(d=a,l=i,i=a=void 0):o.isObject(a)&&(d=l,l=a,a=void 0),r.call(this,e,l),!o.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!o.isString(n))throw TypeError("type must be a string");if(void 0!==i&&!c.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==a&&!o.isString(a))throw TypeError("extend must be a string");"proto3_optional"===i&&(i="optional"),this.rule=i&&"optional"!==i?i:void 0,this.type=n,this.id=t,this.extend=a||void 0,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!o.Long&&void 0!==s.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=d}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),r.prototype.setOption.call(this,e,t,n)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=s.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof a&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof a)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=o.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;o.base64.test(this.typeDefault)?o.base64.decode(this.typeDefault,e=o.newBuffer(o.base64.length(this.typeDefault)),0):o.utf8.write(this.typeDefault,e=o.newBuffer(o.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=o.emptyObject:this.repeated?this.defaultValue=o.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},l.d=function(e,t,n,r){return"function"==typeof t?t=o.decorateType(t).name:t&&"object"==typeof t&&(t=o.decorateEnum(t).name),function(i,a){o.decorateType(i.constructor).add(new l(a,e,t,n,{default:r}))}},l._configure=function(e){i=e}},8836:(e,t,n)=>{"use strict";var r=e.exports=n(9482);r.build="light",r.load=function(e,t,n){return"function"==typeof t?(n=t,t=new r.Root):t||(t=new r.Root),t.load(e,n)},r.loadSync=function(e,t){return t||(t=new r.Root),t.loadSync(e)},r.encoder=n(4928),r.decoder=n(5305),r.verifier=n(4497),r.converter=n(3996),r.ReflectionObject=n(3243),r.Namespace=n(9313),r.Root=n(9424),r.Enum=n(7025),r.Type=n(7645),r.Field=n(3548),r.OneOf=n(7598),r.MapField=n(6039),r.Service=n(7513),r.Method=n(4429),r.Message=n(8368),r.wrappers=n(1667),r.types=n(7063),r.util=n(9935),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},9482:(e,t,n)=>{"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=i,i()},9050:(e,t,n)=>{"use strict";var r=e.exports=n(8836);r.build="full",r.tokenize=n(626),r.parse=n(2228),r.common=n(2967),r.Root._configure(r.Type,r.parse,r.common)},6039:(e,t,n)=>{"use strict";e.exports=s;var r=n(3548);((s.prototype=Object.create(r.prototype)).constructor=s).className="MapField";var i=n(7063),a=n(9935);function s(e,t,n,i,s,o){if(r.call(this,e,t,i,void 0,void 0,s,o),!a.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(e,t){return new s(e,t.id,t.keyType,t.type,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},s.d=function(e,t,n){return"function"==typeof n?n=a.decorateType(n).name:n&&"object"==typeof n&&(n=a.decorateEnum(n).name),function(r,i){a.decorateType(r.constructor).add(new s(i,e,t,n))}}},8368:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},4429:(e,t,n)=>{"use strict";e.exports=a;var r=n(3243);((a.prototype=Object.create(r.prototype)).constructor=a).className="Method";var i=n(9935);function a(e,t,n,a,s,o,c,l,d){if(i.isObject(s)?(c=s,s=o=void 0):i.isObject(o)&&(c=o,o=void 0),void 0!==t&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(a))throw TypeError("responseType must be a string");r.call(this,e,c),this.type=t||"rpc",this.requestType=n,this.requestStream=!!s||void 0,this.responseType=a,this.responseStream=!!o||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=d}a.fromJSON=function(e,t){return new a(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},a.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},9313:(e,t,n)=>{"use strict";e.exports=u;var r=n(3243);((u.prototype=Object.create(r.prototype)).constructor=u).className="Namespace";var i,a,s,o=n(3548),c=n(7598),l=n(9935);function d(e,t){if(e&&e.length){for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}}function u(e,t){r.call(this,e,t),this.nested=void 0,this._nestedArray=null}function p(e){return e._nestedArray=null,e}u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=d,u.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>t)return!0;return!1},u.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=l.toArray(this.nested))}}),u.prototype.toJSON=function(e){return l.toObject(["options",this.options,"nested",d(this.nestedArray,e)])},u.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),r=0;r<n.length;++r)t=e[n[r]],this.add((void 0!==t.fields?i.fromJSON:void 0!==t.values?s.fromJSON:void 0!==t.methods?a.fromJSON:void 0!==t.id?o.fromJSON:u.fromJSON)(n[r],t));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof s)return this.nested[e].values;throw Error("no such enum: "+e)},u.prototype.add=function(e){if(!(e instanceof o&&void 0!==e.extend||e instanceof i||e instanceof s||e instanceof a||e instanceof u||e instanceof c))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof u&&e instanceof u)||t instanceof i||t instanceof a)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),p(this)},u.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),p(this)},u.prototype.define=function(e,t){if(l.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof u))throw Error("path conflicts with non-namespace objects")}else n.add(n=new u(r))}return t&&n.addJSON(t),n},u.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this.resolve()},u.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),l.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof u&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof u&&(r=this._nestedArray[i].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},u.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},u.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,s]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},u.prototype.lookupService=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(e,t,n){i=e,a=t,s=n}},3243:(e,t,n)=>{"use strict";e.exports=a,a.className="ReflectionObject";var r,i=n(9935);function a(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(a.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),a.prototype.toJSON=function(){throw Error()},a.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof r&&t._handleAdd(this)},a.prototype.onRemove=function(e){var t=e.root;t instanceof r&&t._handleRemove(this),this.parent=null,this.resolved=!1},a.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},a.prototype.getOption=function(e){if(this.options)return this.options[e]},a.prototype.setOption=function(e,t,n){return n&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},a.prototype.setParsedOption=function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var r=this.parsedOptions;if(n){var a=r.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(a){var s=a[e];i.setProperty(s,n,t)}else(a={})[e]=i.setProperty({},n,t),r.push(a)}else{var o={};o[e]=t,r.push(o)}return this},a.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},a.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},a._configure=function(e){r=e}},7598:(e,t,n)=>{"use strict";e.exports=s;var r=n(3243);((s.prototype=Object.create(r.prototype)).constructor=s).className="OneOf";var i=n(3548),a=n(9935);function s(e,t,n,i){if(Array.isArray(t)||(n=t,t=void 0),r.call(this,e,n),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function o(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}s.fromJSON=function(e,t){return new s(e,t.oneof,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},s.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,o(this),this},s.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},s.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}o(this)},s.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},s.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){a.decorateType(t.constructor).add(new s(n,e)),Object.defineProperty(t,n,{get:a.oneOfGetter(e),set:a.oneOfSetter(e)})}}},2228:(e,t,n)=>{"use strict";e.exports=C,C.filename=null,C.defaults={keepCase:!1};var r=n(626),i=n(9424),a=n(7645),s=n(3548),o=n(6039),c=n(7598),l=n(7025),d=n(7513),u=n(4429),p=n(7063),f=n(9935),h=/^[1-9][0-9]*$/,m=/^-?[1-9][0-9]*$/,g=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,y=/^0[0-7]+$/,b=/^-?0[0-7]+$/,_=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,S=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,k=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function C(e,t,n){t instanceof i||(n=t,t=new i),n||(n=C.defaults);var R,P,T,E,x,O=n.preferTrailingComment||!1,D=r(e,n.alternateCommentMode||!1),I=D.next,M=D.push,L=D.peek,j=D.skip,A=D.cmnt,F=!0,N=!1,B=t,z=n.keepCase?function(e){return e}:f.camelCase;function U(e,t,n){var r=C.filename;return n||(C.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(r?r+", ":"")+"line "+D.line+")")}function H(){var e,t=[];do{if('"'!==(e=I())&&"'"!==e)throw U(e);t.push(I()),j(e),e=L()}while('"'===e||"'"===e);return t.join("")}function $(e){var t=I();switch(t){case"'":case'"':return M(t),H();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var n=1;switch("-"===e.charAt(0)&&(n=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return n*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(h.test(e))return n*parseInt(e,10);if(g.test(e))return n*parseInt(e,16);if(y.test(e))return n*parseInt(e,8);if(_.test(e))return n*parseFloat(e);throw U(e,"number",!0)}(t)}catch(n){if(e&&S.test(t))return t;throw U(t,"value")}}function W(e,t){var n,r;do{!t||'"'!==(n=L())&&"'"!==n?e.push([r=q(I()),j("to",!0)?q(I()):r]):e.push(H())}while(j(",",!0));j(";")}function q(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw U(e,"id");if(m.test(e))return parseInt(e,10);if(v.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw U(e,"id")}function V(){if(void 0!==R)throw U("package");if(R=I(),!S.test(R))throw U(R,"name");B=B.define(R),j(";")}function G(){var e,t=L();switch(t){case"weak":e=T||(T=[]),I();break;case"public":I();default:e=P||(P=[])}t=H(),j(";"),e.push(t)}function K(){if(j("="),E=H(),!(N="proto3"===E)&&"proto2"!==E)throw U(E,"syntax");j(";")}function J(e,t){switch(t){case"option":return Z(e,t),j(";"),!0;case"message":return function(e,t){if(!w.test(t=I()))throw U(t,"type name");var n=new a(t);Q(n,(function(e){if(!J(n,e))switch(e){case"map":!function(e){j("<");var t=I();if(void 0===p.mapKey[t])throw U(t,"type");j(",");var n=I();if(!S.test(n))throw U(n,"type");j(">");var r=I();if(!w.test(r))throw U(r,"name");j("=");var i=new o(z(r),q(I()),t,n);Q(i,(function(e){if("option"!==e)throw U(e);Z(i,e),j(";")}),(function(){te(i)})),e.add(i)}(n);break;case"required":case"repeated":X(n,e);break;case"optional":X(n,N?"proto3_optional":"optional");break;case"oneof":!function(e,t){if(!w.test(t=I()))throw U(t,"name");var n=new c(z(t));Q(n,(function(e){"option"===e?(Z(n,e),j(";")):(M(e),X(n,"optional"))})),e.add(n)}(n,e);break;case"extensions":W(n.extensions||(n.extensions=[]));break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:if(!N||!S.test(e))throw U(e);M(e),X(n,"optional")}})),e.add(n)}(e,t),!0;case"enum":return function(e,t){if(!w.test(t=I()))throw U(t,"name");var n=new l(t);Q(n,(function(e){switch(e){case"option":Z(n,e),j(";");break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:!function(e,t){if(!w.test(t))throw U(t,"name");j("=");var n=q(I(),!0),r={};Q(r,(function(e){if("option"!==e)throw U(e);Z(r,e),j(";")}),(function(){te(r)})),e.add(t,n,r.comment)}(n,e)}})),e.add(n)}(e,t),!0;case"service":return function(e,t){if(!w.test(t=I()))throw U(t,"service name");var n=new d(t);Q(n,(function(e){if(!J(n,e)){if("rpc"!==e)throw U(e);!function(e,t){var n=A(),r=t;if(!w.test(t=I()))throw U(t,"name");var i,a,s,o,c=t;if(j("("),j("stream",!0)&&(a=!0),!S.test(t=I()))throw U(t);if(i=t,j(")"),j("returns"),j("("),j("stream",!0)&&(o=!0),!S.test(t=I()))throw U(t);s=t,j(")");var l=new u(c,r,i,s,a,o);l.comment=n,Q(l,(function(e){if("option"!==e)throw U(e);Z(l,e),j(";")})),e.add(l)}(n,e)}})),e.add(n)}(e,t),!0;case"extend":return function(e,t){if(!S.test(t=I()))throw U(t,"reference");var n=t;Q(null,(function(t){switch(t){case"required":case"repeated":X(e,t,n);break;case"optional":X(e,N?"proto3_optional":"optional",n);break;default:if(!N||!S.test(t))throw U(t);M(t),X(e,"optional",n)}}))}(e,t),!0}return!1}function Q(e,t,n){var r=D.line;if(e&&("string"!=typeof e.comment&&(e.comment=A()),e.filename=C.filename),j("{",!0)){for(var i;"}"!==(i=I());)t(i);j(";",!0)}else n&&n(),j(";"),e&&("string"!=typeof e.comment||O)&&(e.comment=A(r)||e.comment)}function X(e,t,n){var r=I();if("group"!==r){if(!S.test(r))throw U(r,"type");var i=I();if(!w.test(i))throw U(i,"name");i=z(i),j("=");var o=new s(i,q(I()),r,t,n);if(Q(o,(function(e){if("option"!==e)throw U(e);Z(o,e),j(";")}),(function(){te(o)})),"proto3_optional"===t){var l=new c("_"+i);o.setOption("proto3_optional",!0),l.add(o),e.add(l)}else e.add(o);N||!o.repeated||void 0===p.packed[r]&&void 0!==p.basic[r]||o.setOption("packed",!1,!0)}else!function(e,t){var n=I();if(!w.test(n))throw U(n,"name");var r=f.lcFirst(n);n===r&&(n=f.ucFirst(n)),j("=");var i=q(I()),o=new a(n);o.group=!0;var c=new s(r,i,n,t);c.filename=C.filename,Q(o,(function(e){switch(e){case"option":Z(o,e),j(";");break;case"required":case"repeated":X(o,e);break;case"optional":X(o,N?"proto3_optional":"optional");break;default:throw U(e)}})),e.add(o).add(c)}(e,t)}function Z(e,t){var n=j("(",!0);if(!S.test(t=I()))throw U(t,"name");var r,i=t,a=i;n&&(j(")"),a=i="("+i+")",t=L(),k.test(t)&&(r=t.substr(1),i+=t,I())),j("="),function(e,t,n,r){e.setParsedOption&&e.setParsedOption(t,n,r)}(e,a,Y(e,i),r)}function Y(e,t){if(j("{",!0)){for(var n={};!j("}",!0);){if(!w.test(x=I()))throw U(x,"name");var r,i=x;"{"===L()?r=Y(e,t+"."+x):(j(":"),"{"===L()?r=Y(e,t+"."+x):(r=$(!0),ee(e,t+"."+x,r)));var a=n[i];a&&(r=[].concat(a).concat(r)),n[i]=r,j(",",!0)}return n}var s=$(!0);return ee(e,t,s),s}function ee(e,t,n){e.setOption&&e.setOption(t,n)}function te(e){if(j("[",!0)){do{Z(e,"option")}while(j(",",!0));j("]")}return e}for(;null!==(x=I());)switch(x){case"package":if(!F)throw U(x);V();break;case"import":if(!F)throw U(x);G();break;case"syntax":if(!F)throw U(x);K();break;case"option":Z(B,x),j(";");break;default:if(J(B,x)){F=!1;continue}throw U(x)}return C.filename=null,{package:R,imports:P,weakImports:T,syntax:E,root:t}}},1408:(e,t,n)=>{"use strict";e.exports=c;var r,i=n(9693),a=i.LongBits,s=i.utf8;function o(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,d="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},u=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):d(e)})(e)}:d};function p(){var e=new a(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw o(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw o(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw o(this,8);return new a(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=u(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw o(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw o(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw o(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=u(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},593:(e,t,n)=>{"use strict";e.exports=a;var r=n(1408);(a.prototype=Object.create(r.prototype)).constructor=a;var i=n(9693);function a(e){r.call(this,e)}a._configure=function(){i.Buffer&&(a.prototype._slice=i.Buffer.prototype.slice)},a.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},a._configure()},9424:(e,t,n)=>{"use strict";e.exports=u;var r=n(9313);((u.prototype=Object.create(r.prototype)).constructor=u).className="Root";var i,a,s,o=n(3548),c=n(7025),l=n(7598),d=n(9935);function u(e){r.call(this,"",e),this.deferred=[],this.files=[]}function p(){}u.fromJSON=function(e,t){return t||(t=new u),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},u.prototype.resolvePath=d.path.resolve,u.prototype.fetch=d.fetch,u.prototype.load=function e(t,n,r){"function"==typeof n&&(r=n,n=void 0);var i=this;if(!r)return d.asPromise(e,i,t,n);var o=r===p;function c(e,t){if(r){var n=r;if(r=null,o)throw e;n(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var n=e.substring(t);if(n in s)return n}return null}function u(e,t){try{if(d.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),d.isString(t)){a.filename=e;var r,s=a(t,i,n),u=0;if(s.imports)for(;u<s.imports.length;++u)(r=l(s.imports[u])||i.resolvePath(e,s.imports[u]))&&f(r);if(s.weakImports)for(u=0;u<s.weakImports.length;++u)(r=l(s.weakImports[u])||i.resolvePath(e,s.weakImports[u]))&&f(r,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}o||h||c(null,i)}function f(e,t){if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in s)o?u(e,s[e]):(++h,setTimeout((function(){--h,u(e,s[e])})));else if(o){var n;try{n=d.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||c(e))}u(e,n)}else++h,i.fetch(e,(function(n,a){--h,r&&(n?t?h||c(null,i):c(n):u(e,a))}))}var h=0;d.isString(t)&&(t=[t]);for(var m,g=0;g<t.length;++g)(m=i.resolvePath("",t[g]))&&f(m);if(o)return i;h||c(null,i)},u.prototype.loadSync=function(e,t){if(!d.isNode)throw Error("not supported");return this.load(e,t,p)},u.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var f=/^[A-Z]/;function h(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new o(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.declaringField=t,t.extensionField=r,n.add(r),!0}return!1}u.prototype._handleAdd=function(e){if(e instanceof o)void 0===e.extend||e.extensionField||h(0,e)||this.deferred.push(e);else if(e instanceof c)f.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof i)for(var t=0;t<this.deferred.length;)h(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);f.test(e.name)&&(e.parent[e.name]=e)}},u.prototype._handleRemove=function(e){if(e instanceof o){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)f.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);f.test(e.name)&&delete e.parent[e.name]}},u._configure=function(e,t,n){i=e,a=t,s=n}},5054:e=>{"use strict";e.exports={}},5994:(e,t,n)=>{"use strict";t.Service=n(7948)},7948:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,a,s){if(!a)throw TypeError("request must be specified");var o=this;if(!s)return r.asPromise(e,o,t,n,i,a);if(o.rpcImpl)try{return o.rpcImpl(t,n[o.requestDelimited?"encodeDelimited":"encode"](a).finish(),(function(e,n){if(e)return o.emit("error",e,t),s(e);if(null!==n){if(!(n instanceof i))try{n=i[o.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return o.emit("error",e,t),s(e)}return o.emit("data",n,t),s(null,n)}o.end(!0)}))}catch(e){return o.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},7513:(e,t,n)=>{"use strict";e.exports=o;var r=n(9313);((o.prototype=Object.create(r.prototype)).constructor=o).className="Service";var i=n(4429),a=n(9935),s=n(5994);function o(e,t){r.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}o.fromJSON=function(e,t){var n=new o(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),a=0;a<r.length;++a)n.add(i.fromJSON(r[a],t.methods[r[a]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},o.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return a.toObject(["options",t&&t.options||void 0,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(o.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=a.toArray(this.methods))}}),o.prototype.get=function(e){return this.methods[e]||r.prototype.get.call(this,e)},o.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return r.prototype.resolve.call(this)},o.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,c(this)):r.prototype.add.call(this,e)},o.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return r.prototype.remove.call(this,e)},o.prototype.create=function(e,t,n){for(var r,i=new s.Service(e,t,n),o=0;o<this.methodsArray.length;++o){var c=a.lcFirst((r=this._methodsArray[o]).resolve().name).replace(/[^$\w_]/g,"");i[c]=a.codegen(["r","c"],a.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i}},626:e=>{"use strict";e.exports=u;var t=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,a=/^\s*\*?\/*/,s=/\n/g,o=/\s/,c=/\\(.?)/g,l={0:"\0",r:"\r",n:"\n",t:"\t"};function d(e){return e.replace(c,(function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}}))}function u(e,c){e=e.toString();var l=0,u=e.length,p=1,f=null,h=null,m=0,g=!1,v=!1,y=[],b=null;function _(e){return Error("illegal "+e+" (line "+p+")")}function w(t){return e.charAt(t)}function S(t,n,r){f=e.charAt(t++),m=p,g=!1,v=r;var o,l=t-(c?2:3);do{if(--l<0||"\n"===(o=e.charAt(l))){g=!0;break}}while(" "===o||"\t"===o);for(var d=e.substring(t,n).split(s),u=0;u<d.length;++u)d[u]=d[u].replace(c?a:i,"").trim();h=d.join("\n").trim()}function k(t){var n=C(t),r=e.substring(t,n);return/^\s*\/{1,2}/.test(r)}function C(e){for(var t=e;t<u&&"\n"!==w(t);)t++;return t}function R(){if(y.length>0)return y.shift();if(b)return function(){var t="'"===b?r:n;t.lastIndex=l-1;var i=t.exec(e);if(!i)throw _("string");return l=t.lastIndex,P(b),b=null,d(i[1])}();var i,a,s,f,h,m=0===l;do{if(l===u)return null;for(i=!1;o.test(s=w(l));)if("\n"===s&&(m=!0,++p),++l===u)return null;if("/"===w(l)){if(++l===u)throw _("comment");if("/"===w(l))if(c){if(f=l,h=!1,k(l)){h=!0;do{if((l=C(l))===u)break;l++}while(k(l))}else l=Math.min(u,C(l)+1);h&&S(f,l,m),p++,i=!0}else{for(h="/"===w(f=l+1);"\n"!==w(++l);)if(l===u)return null;++l,h&&S(f,l-1,m),++p,i=!0}else{if("*"!==(s=w(l)))return"/";f=l+1,h=c||"*"===w(f);do{if("\n"===s&&++p,++l===u)throw _("comment");a=s,s=w(l)}while("*"!==a||"/"!==s);++l,h&&S(f,l-2,m),i=!0}}}while(i);var g=l;if(t.lastIndex=0,!t.test(w(g++)))for(;g<u&&!t.test(w(g));)++g;var v=e.substring(l,l=g);return'"'!==v&&"'"!==v||(b=v),v}function P(e){y.push(e)}function T(){if(!y.length){var e=R();if(null===e)return null;P(e)}return y[0]}return Object.defineProperty({next:R,peek:T,push:P,skip:function(e,t){var n=T();if(n===e)return R(),!0;if(!t)throw _("token '"+n+"', '"+e+"' expected");return!1},cmnt:function(e){var t=null;return void 0===e?m===p-1&&(c||"*"===f||g)&&(t=v?h:null):(m<e&&T(),m!==e||g||!c&&"/"!==f||(t=v?null:h)),t}},"line",{get:function(){return p}})}u.unescape=d},7645:(e,t,n)=>{"use strict";e.exports=y;var r=n(9313);((y.prototype=Object.create(r.prototype)).constructor=y).className="Type";var i=n(7025),a=n(7598),s=n(3548),o=n(6039),c=n(7513),l=n(8368),d=n(1408),u=n(1173),p=n(9935),f=n(4928),h=n(5305),m=n(4497),g=n(3996),v=n(1667);function y(e,t){r.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=p.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=p.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,p.merge(e.prototype,t)),e.$type=e.prototype.$type=this,p.merge(e,l,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:p.oneOfGetter(this._oneofsArray[n].oneof),set:p.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),y.generateConstructor=function(e){for(var t,n=p.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e._fieldsArray[r]).map?n("this%s={}",p.safeProp(t.name)):t.repeated&&n("this%s=[]",p.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},y.fromJSON=function(e,t){var n=new y(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var l=Object.keys(t.fields),d=0;d<l.length;++d)n.add((void 0!==t.fields[l[d]].keyType?o.fromJSON:s.fromJSON)(l[d],t.fields[l[d]]));if(t.oneofs)for(l=Object.keys(t.oneofs),d=0;d<l.length;++d)n.add(a.fromJSON(l[d],t.oneofs[l[d]]));if(t.nested)for(l=Object.keys(t.nested),d=0;d<l.length;++d){var u=t.nested[l[d]];n.add((void 0!==u.id?s.fromJSON:void 0!==u.fields?y.fromJSON:void 0!==u.values?i.fromJSON:void 0!==u.methods?c.fromJSON:r.fromJSON)(l[d],u))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},y.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return p.toObject(["options",t&&t.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},y.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return r.prototype.resolveAll.call(this)},y.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},y.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof s&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof a?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):r.prototype.add.call(this,e)},y.prototype.remove=function(e){if(e instanceof s&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof a){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return r.prototype.remove.call(this,e)},y.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},y.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)},y.prototype.create=function(e){return new this.ctor(e)},y.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=f(this)({Writer:u,types:t,util:p}),this.decode=h(this)({Reader:d,types:t,util:p}),this.verify=m(this)({types:t,util:p}),this.fromObject=g.fromObject(this)({types:t,util:p}),this.toObject=g.toObject(this)({types:t,util:p});var r=v[e];if(r){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(i),i.toObject=this.toObject,this.toObject=r.toObject.bind(i)}return this},y.prototype.encode=function(e,t){return this.setup().encode(e,t)},y.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},y.prototype.decode=function(e,t){return this.setup().decode(e,t)},y.prototype.decodeDelimited=function(e){return e instanceof d||(e=d.create(e)),this.decode(e,e.uint32())},y.prototype.verify=function(e){return this.setup().verify(e)},y.prototype.fromObject=function(e){return this.setup().fromObject(e)},y.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},y.d=function(e){return function(t){p.decorateType(t,e)}}},7063:(e,t,n)=>{"use strict";var r=t,i=n(9935),a=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(e,t){var n=0,r={};for(t|=0;n<e.length;)r[a[n+t]]=e[n++];return r}r.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),r.long=s([0,0,0,1,1],7),r.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},9935:(e,t,n)=>{"use strict";var r,i,a=e.exports=n(9693),s=n(5054);a.codegen=n(5124),a.fetch=n(9054),a.path=n(8626),a.fs=a.inquire("fs"),a.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},a.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],i=e[n++];void 0!==i&&(t[r]=i)}return t};var o=/\\/g,c=/"/g;a.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},a.safeProp=function(e){return!/^[$\w_]+$/.test(e)||a.isReserved(e)?'["'+e.replace(o,"\\\\").replace(c,'\\"')+'"]':"."+e},a.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;a.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,(function(e,t){return t.toUpperCase()}))},a.compareFieldsById=function(e,t){return e.id-t.id},a.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(a.decorateRoot.remove(e.$type),e.$type.name=t,a.decorateRoot.add(e.$type)),e.$type;r||(r=n(7645));var i=new r(t||e.name);return a.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var d=0;a.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=n(7025));var t=new i("Enum"+d++,e);return a.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},a.setProperty=function(e,t,n){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,n,r){var i=n.shift();if(n.length>0)t[i]=e(t[i]||{},n,r);else{var a=t[i];a&&(r=[].concat(a).concat(r)),t[i]=r}return t}(e,t=t.split("."),n)},Object.defineProperty(a,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(n(9424)))}})},1945:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var a=i.zero=new i(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):a},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var o=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?a:new i((o.call(e,0)|o.call(e,1)<<8|o.call(e,2)<<16|o.call(e,3)<<24)>>>0,(o.call(e,4)|o.call(e,5)<<8|o.call(e,6)<<16|o.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function a(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=a,r.ProtocolError=a("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},4497:(e,t,n)=>{"use strict";e.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n={};e.oneofsArray.length&&t("var p={}");for(var r=0;r<e.fieldsArray.length;++r){var c=e._fieldsArray[r].resolve(),l="m"+i.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",a(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),o(t,c,"k[i]"),s(t,c,r,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",a(c,"array"))("for(var i=0;i<%s.length;++i){",l),s(t,c,r,l+"[i]")("}");else{if(c.partOf){var d=i.safeProp(c.partOf.name);1===n[c.partOf.name]&&t("if(p%s===1)",d)("return%j",c.partOf.name+": multiple values"),n[c.partOf.name]=1,t("p%s=1",d)}s(t,c,r,l)}c.optional&&t("}")}return t("return null")};var r=n(7025),i=n(9935);function a(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function s(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(%s){",i)("default:")("return%j",a(t,"enum value"));for(var s=Object.keys(t.resolvedType.values),o=0;o<s.length;++o)e("case %i:",t.resolvedType.values[s[o]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",a(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",a(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",a(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",a(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",a(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",a(t,"buffer"))}return e}function o(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",a(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",a(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",a(t,"boolean key"))}return e}},1667:(e,t,n)=>{"use strict";var r=t,i=n(8368);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),n=this.lookup(t);if(n){var r="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===r.indexOf("/")&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n="",r="";if(t&&t.json&&e.type_url&&e.value){r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var a=this.lookup(r);a&&(e=a.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var s=e.$type.toObject(e,t);return""===n&&(n="type.googleapis.com/"),r=n+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),s["@type"]=r,s}return this.toObject(e,t)}}},1173:(e,t,n)=>{"use strict";e.exports=u;var r,i=n(9693),a=i.LongBits,s=i.base64,o=i.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function l(){}function d(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var p=function(){return i.Buffer?function(){return(u.create=function(){return new r})()}:function(){return new u}};function f(e,t,n){t[n]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function g(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}u.create=p(),u.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(u.alloc=i.pool(u.alloc,i.Array.prototype.subarray)),u.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},h.prototype=Object.create(c.prototype),h.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this._push(m,10,a.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.uint64=function(e){var t=a.from(e);return this._push(m,t.length(),t)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(e){var t=a.from(e).zzEncode();return this._push(m,t.length(),t)},u.prototype.bool=function(e){return this._push(f,1,e?1:0)},u.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(e){var t=a.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};u.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(i.isString(e)){var n=u.alloc(t=s.length(e));s.decode(e,n,0),e=n}return this.uint32(t)._push(v,t,e)},u.prototype.string=function(e){var t=o.length(e);return t?this.uint32(t)._push(o.write,t,e):this._push(f,1,0)},u.prototype.fork=function(){return this.states=new d(this),this.head=this.tail=new c(l,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},u._configure=function(e){r=e,u.create=p(),r._configure()}},3155:(e,t,n)=>{"use strict";e.exports=a;var r=n(1173);(a.prototype=Object.create(r.prototype)).constructor=a;var i=n(9693);function a(){r.call(this)}function s(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}a._configure=function(){a.alloc=i._Buffer_allocUnsafe,a.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},a.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a.writeBytesBuffer,t,e),this},a.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},a._configure()},4448:(e,t,n)=>{"use strict";var r=n(7294),i=n(3840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(h,e)||!u.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function j(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}var A,F=Object.assign;function N(e){if(void 0===A)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var c="\n"+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function U(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return z(e.type,!1);case 11:return z(e.type.render,!1);case 1:return z(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case R:return"Profiler";case C:return"StrictMode";case x:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return H(e(t))}catch(e){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Y(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ce=null;function Re(e){if(e=bi(e)){if("function"!=typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function Pe(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Ee(e,t){return e(t)}function xe(){}var Oe=!1;function De(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ee(e,t,n)}finally{Oe=!1,(null!==ke||null!==Ce)&&(xe(),Te())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Me=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Me=!1}function je(e,t,n,r,i,a,s,o,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Ae=!1,Fe=null,Ne=!1,Be=null,ze={onError:function(e){Ae=!0,Fe=e}};function Ue(e,t,n,r,i,a,s,o,c){Ae=!1,Fe=null,je.apply(ze,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Ye=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null,st=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ot(e)/ct|0)|0},ot=Math.log,ct=Math.LN2,lt=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=ut(o):0!=(a&=s)&&(r=ut(a))}else 0!=(s=n&~i)?r=ut(s):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0==(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var wt,St,kt,Ct,Rt,Pt=!1,Tt=[],Et=null,xt=null,Ot=null,Dt=new Map,It=new Map,Mt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function At(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=bi(t))&&St(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Rt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Bt(e,t,n){Nt(e)&&n.delete(t)}function zt(){Pt=!1,null!==Et&&Nt(Et)&&(Et=null),null!==xt&&Nt(xt)&&(xt=null),null!==Ot&&Nt(Ot)&&(Ot=null),Dt.forEach(Bt),It.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Ht(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ut(Et,e),null!==xt&&Ut(xt,e),null!==Ot&&Ut(Ot,e),Dt.forEach(t),It.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Mt.shift()}var $t=_.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=bt,a=$t.transition;$t.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,$t.transition=a}}function Vt(e,t,n,r){var i=bt,a=$t.transition;$t.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,$t.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Jt(e,t,n,r);if(null===i)Wr(e,t,r,Kt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Et=At(Et,e,t,n,r,i),!0;case"dragenter":return xt=At(xt,e,t,n,r,i),!0;case"mouseover":return Ot=At(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,At(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,It.set(a,At(It.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Jt(e,t,n,r))&&Wr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Jt(e,t,n,r){if(Kt=null,null!==(e=yi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Ye:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Yt=null;function en(){if(Yt)return Yt;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Yt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(ln),un=F({},ln,{view:0,detail:0}),pn=an(un),fn=F({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,on=e.screenY-cn.screenY):on=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=an(fn),mn=an(F({},fn,{dataTransfer:0})),gn=an(F({},un,{relatedTarget:0})),vn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),_n=an(F({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Rn(){return Cn}var Pn=F({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Pn),En=an(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=an(F({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rn})),On=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(Dn),Mn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var An=d&&"TextEvent"in window&&!jn,Fn=d&&(!Ln||jn&&8<jn&&11>=jn),Nn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1,$n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function qn(e,t,n,r){Pe(r),0<(t=Vr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Gn=null;function Kn(e){Nr(e,0)}function Jn(e){if(G(_i(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Zn;if(d){var Yn="oninput"in document;if(!Yn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Yn="function"==typeof er.oninput}Zn=Yn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Gn=Vn=null)}function nr(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];qn(t,Gn,e,we(e)),De(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function ar(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var or="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function cr(e,t){if(or(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!or(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=dr(n,a);var s=dr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||(r="selectionStart"in(r=gr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Vr(vr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Cr={};function Rr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return kr[e]=n[t];return e}d&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Pr=Rr("animationend"),Tr=Rr("animationiteration"),Er=Rr("animationstart"),xr=Rr("transitionend"),Or=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Or.set(e,t),c(t,[e])}for(var Mr=0;Mr<Dr.length;Mr++){var Lr=Dr[Mr];Ir(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Ir(Pr,"onAnimationEnd"),Ir(Tr,"onAnimationIteration"),Ir(Er,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(xr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,c,l){if(Ue.apply(this,arguments),Ae){if(!Ae)throw Error(a(198));var d=Fe;Ae=!1,Fe=null,Ne||(Ne=!0,Be=d)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;Fr(i,o,l),a=c}else for(s=0;s<r.length;s++){if(c=(o=r[s]).instance,l=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;Fr(i,o,l),a=c}}}if(Ne)throw e=Be,Ne=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Ur]){e[Ur]=!0,s.forEach((function(t){"selectionchange"!==t&&(Ar.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,zr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Vt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=yi(o)))return;if(5===(c=s.tag)||6===c){r=a=s;continue e}o=o.parentNode}}r=r.return}De((function(){var r=a,i=we(n),s=[];e:{var o=Or.get(e);if(void 0!==o){var c=dn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Tn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case Pr:case Tr:case Er:c=vn;break;case xr:c=On;break;case"scroll":c=pn;break;case"wheel":c=In;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=En}var d=0!=(4&t),u=!d&&"scroll"===e,p=d?null!==o?o+"Capture":null:o;d=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&null!=(m=Ie(h,p))&&d.push(qr(h,m,f))),u)break;h=h.return}0<d.length&&(o=new c(o,l,null,n,i),s.push({event:o,listeners:d}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[hi])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(u=He(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(d=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,m="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==c?o:_i(c),f=null==l?o:_i(l),(o=new d(m,h+"leave",c,n,i)).target=u,o.relatedTarget=f,m=null,yi(i)===r&&((d=new d(p,h+"enter",l,n,i)).target=f,d.relatedTarget=u,m=d),u=m,c&&l)e:{for(p=l,h=0,f=d=c;f;f=Gr(f))h++;for(f=0,m=p;m;m=Gr(m))f++;for(;0<h-f;)d=Gr(d),h--;for(;0<f-h;)p=Gr(p),f--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Gr(d),p=Gr(p)}d=null}else d=null;null!==c&&Kr(s,o,c,d,!1),null!==l&&null!==u&&Kr(s,u,l,d,!0)}if("select"===(c=(o=r?_i(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var g=Qn;else if(Wn(o))if(Xn)g=sr;else{g=ir;var v=rr}else(c=o.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?qn(s,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?_i(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(s,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,Hn=!0)),0<(v=Vr(r,b)).length&&(b=new _n(b,e,null,n,i),s.push({event:b,listeners:v}),(y||null!==(y=Un(n)))&&(b.data=y))),(y=An?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&zn(e,t)?(e=en(),Yt=Zt=Xt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Vr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y)}Nr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ie(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Ie(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,c=o.alternate,l=o.stateNode;if(null!==c&&c===r)break;5===o.tag&&null!==l&&(o=l,i?null!=(c=Ie(n,a))&&s.unshift(qr(n,c,o)):i||null!=(c=Ie(n,a))&&s.push(qr(n,c,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Jr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Jr,"\n").replace(Qr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Yr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,ai="function"==typeof Promise?Promise:void 0,si="function"==typeof queueMicrotask?queueMicrotask:void 0!==ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),pi="__reactFiber$"+ui,fi="__reactProps$"+ui,hi="__reactContainer$"+ui,mi="__reactEvents$"+ui,gi="__reactListeners$"+ui,vi="__reactHandles$"+ui;function yi(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[pi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[pi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[pi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[fi]||null}var Si=[],ki=-1;function Ci(e){return{current:e}}function Ri(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Pi(e,t){ki++,Si[ki]=e.current,e.current=t}var Ti={},Ei=Ci(Ti),xi=Ci(!1),Oi=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ii(e){return null!=e.childContextTypes}function Mi(){Ri(xi),Ri(Ei)}function Li(e,t,n){if(Ei.current!==Ti)throw Error(a(168));Pi(Ei,t),Pi(xi,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,$(e)||"Unknown",i));return F({},n,r)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Oi=Ei.current,Pi(Ei,e),Pi(xi,xi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ji(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ri(xi),Ri(Ei),Pi(Ei,e)):Ri(xi),Pi(xi,n)}var Ni=null,Bi=!1,zi=!1;function Ui(e){null===Ni?Ni=[e]:Ni.push(e)}function Hi(){if(!zi&&null!==Ni){zi=!0;var e=0,t=bt;try{var n=Ni;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ni=null,Bi=!1}catch(t){throw null!==Ni&&(Ni=Ni.slice(e+1)),Ge(Ye,Hi),t}finally{bt=t,zi=!1}}return null}var $i=_.ReactCurrentBatchConfig;function Wi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var qi=Ci(null),Vi=null,Gi=null,Ki=null;function Ji(){Ki=Gi=Vi=null}function Qi(e){var t=qi.current;Ri(qi),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zi(e,t){Vi=e,Ki=Gi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Gi){if(null===Vi)throw Error(a(308));Gi=e,Vi.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tl(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ca(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var c=o,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var d=e.alternate;null!==d&&(o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=c)}if(null!==a){var u=i.baseState;for(s=0,d=l=c=null,o=a;;){var p=o.lane,f=o.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,m=o;switch(p=t,f=n,m.tag){case 1:if("function"==typeof(h=m.payload)){u=h.call(f,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=m.payload)?h.call(f,u,p):h))break e;u=F({},u,p);break e;case 2:ta=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=i.effects)?i.effects=[o]:p.push(o))}else f={eventTime:f,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(l=d=f,c=u):d=d.next=f,s|=p;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}if(null===d&&(c=u),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mc|=s,e.lanes=s,e.memoizedState=u}}function la(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var da=(new r.Component).refs;function ua(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xc(),i=Zc(e),a=ia(r,i);a.payload=t,null!=n&&(a.callback=n),aa(e,a),null!==(t=Yc(e,i,r))&&sa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xc(),i=Zc(e),a=ia(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),aa(e,a),null!==(t=Yc(e,i,r))&&sa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xc(),r=Zc(e),i=ia(n,r);i.tag=2,null!=t&&(i.callback=t),aa(e,i),null!==(t=Yc(e,r,n))&&sa(t,e,r)}};function fa(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!(t.prototype&&t.prototype.isPureReactComponent&&cr(n,r)&&cr(i,a))}function ha(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"==typeof a&&null!==a?a=Yi(a):(i=Ii(t)?Oi:Ei.current,a=(r=null!=(r=t.contextTypes))?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ma(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=da,na(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Yi(a):(a=Ii(t)?Oi:Ei.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(ua(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),ca(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var va=[],ya=0,ba=null,_a=0,wa=[],Sa=0,ka=null,Ca=1,Ra="";function Pa(e,t){va[ya++]=_a,va[ya++]=ba,ba=e,_a=t}function Ta(e,t,n){wa[Sa++]=Ca,wa[Sa++]=Ra,wa[Sa++]=ka,ka=e;var r=Ca;e=Ra;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ca=1<<32-st(t)+i|n<<i|r,Ra=a+e}else Ca=1<<a|n<<i|r,Ra=e}function Ea(e){null!==e.return&&(Pa(e,1),Ta(e,1,0))}function xa(e){for(;e===ba;)ba=va[--ya],va[ya]=null,_a=va[--ya],va[ya]=null;for(;e===ka;)ka=wa[--Sa],wa[Sa]=null,Ra=wa[--Sa],wa[Sa]=null,Ca=wa[--Sa],wa[Sa]=null}var Oa=null,Da=null,Ia=!1,Ma=null;function La(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ja(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Oa=e,Da=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Oa=e,Da=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ka?{id:Ca,overflow:Ra}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Oa=e,Da=null,!0);default:return!1}}function Aa(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Fa(e){if(Ia){var t=Da;if(t){var n=t;if(!ja(e,t)){if(Aa(e))throw Error(a(418));t=li(n.nextSibling);var r=Oa;t&&ja(e,t)?La(r,n):(e.flags=-4097&e.flags|2,Ia=!1,Oa=e)}}else{if(Aa(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ia=!1,Oa=e}}}function Na(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Oa=e}function Ba(e){if(e!==Oa)return!1;if(!Ia)return Na(e),Ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Da)){if(Aa(e)){for(e=Da;e;)e=li(e.nextSibling);throw Error(a(418))}for(;t;)La(e,t),t=li(t.nextSibling)}if(Na(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Da=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Da=null}}else Da=Oa?li(e.stateNode.nextSibling):null;return!0}function za(){Da=Oa=null,Ia=!1}function Ua(e){null===Ma?Ma=[e]:Ma.push(e)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===da&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function $a(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Il(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Al(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===k?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===I&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Al(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case S:return(t=Fl(t,e.mode,n)).return=e,t;case I:return p(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Ll(t,e.mode,n,null)).return=e,t;$a(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?d(e,t,n,r):null;case I:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:u(e,t,n,r,null);$a(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return u(t,e=e.get(n)||null,r,i,null);$a(t,r)}return null}function m(i,a,o,c){for(var l=null,d=null,u=a,m=a=0,g=null;null!==u&&m<o.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var v=f(i,u,o[m],c);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(i,u),a=s(v,a,m),null===d?l=v:d.sibling=v,d=v,u=g}if(m===o.length)return n(i,u),Ia&&Pa(i,m),l;if(null===u){for(;m<o.length;m++)null!==(u=p(i,o[m],c))&&(a=s(u,a,m),null===d?l=u:d.sibling=u,d=u);return Ia&&Pa(i,m),l}for(u=r(i,u);m<o.length;m++)null!==(g=h(u,i,m,o[m],c))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),a=s(g,a,m),null===d?l=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(i,e)})),Ia&&Pa(i,m),l}function g(i,o,c,l){var d=j(c);if("function"!=typeof d)throw Error(a(150));if(null==(c=d.call(c)))throw Error(a(151));for(var u=d=null,m=o,g=o=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=s(b,o,g),null===u?d=b:u.sibling=b,u=b,m=v}if(y.done)return n(i,m),Ia&&Pa(i,g),d;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=p(i,y.value,l))&&(o=s(y,o,g),null===u?d=y:u.sibling=y,u=y);return Ia&&Pa(i,g),d}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=h(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=s(y,o,g),null===u?d=y:u.sibling=y,u=y);return e&&m.forEach((function(e){return t(i,e)})),Ia&&Pa(i,g),d}return function e(r,a,s,c){if("object"==typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var l=s.key,d=a;null!==d;){if(d.key===l){if((l=s.type)===k){if(7===d.tag){n(r,d.sibling),(a=i(d,s.props.children)).return=r,r=a;break e}}else if(d.elementType===l||"object"==typeof l&&null!==l&&l.$$typeof===I&&Wa(l)===d.type){n(r,d.sibling),(a=i(d,s.props)).ref=Ha(r,d,s),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}s.type===k?((a=Ll(s.props.children,r.mode,c,s.key)).return=r,r=a):((c=Ml(s.type,s.key,s.props,null,r.mode,c)).ref=Ha(r,a,s),c.return=r,r=c)}return o(r);case S:e:{for(d=s.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fl(s,r.mode,c)).return=r,r=a}return o(r);case I:return e(r,a,(d=s._init)(s._payload),c)}if(te(s))return m(r,a,s,c);if(j(s))return g(r,a,s,c);$a(r,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Al(s,r.mode,c)).return=r,r=a),o(r)):n(r,a)}}var Va=qa(!0),Ga=qa(!1),Ka={},Ja=Ci(Ka),Qa=Ci(Ka),Xa=Ci(Ka);function Za(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(Pi(Xa,t),Pi(Qa,e),Pi(Ja,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ri(Ja),Pi(Ja,t)}function es(){Ri(Ja),Ri(Qa),Ri(Xa)}function ts(e){Za(Xa.current);var t=Za(Ja.current),n=ce(t,e.type);t!==n&&(Pi(Qa,e),Pi(Ja,n))}function ns(e){Qa.current===e&&(Ri(Ja),Ri(Qa))}var rs=Ci(0);function is(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var as=[];function ss(){for(var e=0;e<as.length;e++)as[e]._workInProgressVersionPrimary=null;as.length=0}var os=_.ReactCurrentDispatcher,cs=_.ReactCurrentBatchConfig,ls=0,ds=null,us=null,ps=null,fs=!1,hs=!1,ms=0,gs=0;function vs(){throw Error(a(321))}function ys(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function bs(e,t,n,r,i,s){if(ls=s,ds=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?no:ro,e=n(r,i),hs){s=0;do{if(hs=!1,ms=0,25<=s)throw Error(a(301));s+=1,ps=us=null,t.updateQueue=null,os.current=io,e=n(r,i)}while(hs)}if(os.current=to,t=null!==us&&null!==us.next,ls=0,ps=us=ds=null,fs=!1,t)throw Error(a(300));return e}function _s(){var e=0!==ms;return ms=0,e}function ws(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ps?ds.memoizedState=ps=e:ps=ps.next=e,ps}function Ss(){if(null===us){var e=ds.alternate;e=null!==e?e.memoizedState:null}else e=us.next;var t=null===ps?ds.memoizedState:ps.next;if(null!==t)ps=t,us=e;else{if(null===e)throw Error(a(310));e={memoizedState:(us=e).memoizedState,baseState:us.baseState,baseQueue:us.baseQueue,queue:us.queue,next:null},null===ps?ds.memoizedState=ps=e:ps=ps.next=e}return ps}function ks(e,t){return"function"==typeof t?t(e):t}function Cs(e){var t=Ss(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=us,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var c=o=null,l=null,d=s;do{var u=d.lane;if((ls&u)===u)null!==l&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===l?(c=l=p,o=r):l=l.next=p,ds.lanes|=u,Mc|=u}d=d.next}while(null!==d&&d!==s);null===l?o=r:l.next=c,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ds.lanes|=s,Mc|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rs(e){var t=Ss(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(wo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ps(){}function Ts(e,t){var n=ds,r=Ss(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,wo=!0),r=r.queue,Ns(Os.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ps&&1&ps.memoizedState.tag){if(n.flags|=2048,Ms(9,xs.bind(null,n,r,i,t),void 0,null),null===Pc)throw Error(a(349));0!=(30&ls)||Es(n,t,i)}return i}function Es(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ds.updateQueue)?(t={lastEffect:null,stores:null},ds.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xs(e,t,n,r){t.value=n,t.getSnapshot=r,Ds(t)&&Yc(e,1,-1)}function Os(e,t,n){return n((function(){Ds(t)&&Yc(e,1,-1)}))}function Ds(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(e){return!0}}function Is(e){var t=ws();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,ds,e),[t.memoizedState,e]}function Ms(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ds.updateQueue)?(t={lastEffect:null,stores:null},ds.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ls(){return Ss().memoizedState}function js(e,t,n,r){var i=ws();ds.flags|=e,i.memoizedState=Ms(1|t,n,void 0,void 0===r?null:r)}function As(e,t,n,r){var i=Ss();r=void 0===r?null:r;var a=void 0;if(null!==us){var s=us.memoizedState;if(a=s.destroy,null!==r&&ys(r,s.deps))return void(i.memoizedState=Ms(t,n,a,r))}ds.flags|=e,i.memoizedState=Ms(1|t,n,a,r)}function Fs(e,t){return js(8390656,8,e,t)}function Ns(e,t){return As(2048,8,e,t)}function Bs(e,t){return As(4,2,e,t)}function zs(e,t){return As(4,4,e,t)}function Us(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Hs(e,t,n){return n=null!=n?n.concat([e]):null,As(4,4,Us.bind(null,t,e),n)}function $s(){}function Ws(e,t){var n=Ss();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ys(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=Ss();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ys(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vs(e,t,n){return 0==(21&ls)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ds.lanes|=n,Mc|=n,e.baseState=!0),t)}function Gs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=cs.transition;cs.transition={};try{e(!1),t()}finally{bt=n,cs.transition=r}}function Ks(){return Ss().memoizedState}function Js(e,t,n){var r=Zc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e)?Zs(t,n):(Ys(e,t,n),null!==(e=Yc(e,r,n=Xc()))&&eo(e,t,r))}function Qs(e,t,n){var r=Zc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Zs(t,i);else{Ys(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s))return}catch(e){}null!==(e=Yc(e,r,n=Xc()))&&eo(e,t,r)}}function Xs(e){var t=e.alternate;return e===ds||null!==t&&t===ds}function Zs(e,t){hs=fs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){tl(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function eo(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var to={readContext:Yi,useCallback:vs,useContext:vs,useEffect:vs,useImperativeHandle:vs,useInsertionEffect:vs,useLayoutEffect:vs,useMemo:vs,useReducer:vs,useRef:vs,useState:vs,useDebugValue:vs,useDeferredValue:vs,useTransition:vs,useMutableSource:vs,useSyncExternalStore:vs,useId:vs,unstable_isNewReconciler:!1},no={readContext:Yi,useCallback:function(e,t){return ws().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Fs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,js(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return js(4194308,4,e,t)},useInsertionEffect:function(e,t){return js(4,2,e,t)},useMemo:function(e,t){var n=ws();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ws();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Js.bind(null,ds,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ws().memoizedState=e},useState:Is,useDebugValue:$s,useDeferredValue:function(e){return ws().memoizedState=e},useTransition:function(){var e=Is(!1),t=e[0];return e=Gs.bind(null,e[1]),ws().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ds,i=ws();if(Ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pc)throw Error(a(349));0!=(30&ls)||Es(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Fs(Os.bind(null,r,s,e),[e]),r.flags|=2048,Ms(9,xs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ws(),t=Pc.identifierPrefix;if(Ia){var n=Ra;t=":"+t+"R"+(n=(Ca&~(1<<32-st(Ca)-1)).toString(32)+n),0<(n=ms++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=gs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ro={readContext:Yi,useCallback:Ws,useContext:Yi,useEffect:Ns,useImperativeHandle:Hs,useInsertionEffect:Bs,useLayoutEffect:zs,useMemo:qs,useReducer:Cs,useRef:Ls,useState:function(){return Cs(ks)},useDebugValue:$s,useDeferredValue:function(e){return Vs(Ss(),us.memoizedState,e)},useTransition:function(){return[Cs(ks)[0],Ss().memoizedState]},useMutableSource:Ps,useSyncExternalStore:Ts,useId:Ks,unstable_isNewReconciler:!1},io={readContext:Yi,useCallback:Ws,useContext:Yi,useEffect:Ns,useImperativeHandle:Hs,useInsertionEffect:Bs,useLayoutEffect:zs,useMemo:qs,useReducer:Rs,useRef:Ls,useState:function(){return Rs(ks)},useDebugValue:$s,useDeferredValue:function(e){var t=Ss();return null===us?t.memoizedState=e:Vs(t,us.memoizedState,e)},useTransition:function(){return[Rs(ks)[0],Ss().memoizedState]},useMutableSource:Ps,useSyncExternalStore:Ts,useId:Ks,unstable_isNewReconciler:!1};function ao(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function so(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var oo,co,lo,uo="function"==typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Uc||(Uc=!0,Hc=r),so(0,t)},n}function fo(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){so(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){so(0,t),"function"!=typeof r&&(null===$c?$c=new Set([this]):$c.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ho(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cl.bind(null,e,t,n),t.then(e,e))}function mo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function vo(e,t){if(!Ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bo(e,t,n){var r=t.pendingProps;switch(xa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yo(t),null;case 1:case 17:return Ii(t.type)&&Mi(),yo(t),null;case 3:return r=t.stateNode,es(),Ri(xi),Ri(Ei),ss(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ba(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==Ma&&(al(Ma),Ma=null))),yo(t),null;case 5:ns(t);var i=Za(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)co(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return yo(t),null}if(e=Za(Ja.current),Ba(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[pi]=t,r[fi]=s,e=0!=(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Br(jr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Q(r,s),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Br("invalid",r);break;case"textarea":ie(r,s),Br("invalid",r)}for(var c in ye(n,s),i=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"==typeof l?r.textContent!==l&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",""+l]):o.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Br("scroll",r)}switch(n){case"input":V(r),Y(r,s,!0);break;case"textarea":V(r),se(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Yr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[pi]=t,e[fi]=r,oo(e,t),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Br(jr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Q(e,r),i=J(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(s in ye(n,i),l=i)if(l.hasOwnProperty(s)){var d=l[s];"style"===s?ge(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"==typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Br("scroll",e):null!=d&&b(e,s,d,c))}switch(n){case"input":V(e),Y(e,r,!1);break;case"textarea":V(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Yr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return yo(t),null;case 6:if(e&&null!=t.stateNode)lo(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(n=Za(Xa.current),Za(Ja.current),Ba(t)){if(r=t.stateNode,n=t.memoizedProps,r[pi]=t,(s=r.nodeValue!==n)&&null!==(e=Oa))switch(e.tag){case 3:Zr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!=(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pi]=t,t.stateNode=r}return yo(t),null;case 13:if(Ri(rs),r=t.memoizedState,Ia&&null!==Da&&0!=(1&t.mode)&&0==(128&t.flags)){for(r=Da;r;)r=li(r.nextSibling);return za(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ba(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[pi]=t}else za(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return yo(t),null}return null!==Ma&&(al(Ma),Ma=null),0!=(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ba(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&rs.current)?0===Dc&&(Dc=3):hl())),null!==t.updateQueue&&(t.flags|=4),yo(t),null);case 4:return es(),null===e&&Hr(t.stateNode.containerInfo),yo(t),null;case 10:return Qi(t.type._context),yo(t),null;case 19:if(Ri(rs),null===(s=t.memoizedState))return yo(t),null;if(r=0!=(128&t.flags),null===(c=s.rendering))if(r)vo(s,!1);else{if(0!==Dc||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=is(e))){for(t.flags|=128,vo(s,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pi(rs,1&rs.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Bc&&(t.flags|=128,r=!0,vo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=is(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),vo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!Ia)return yo(t),null}else 2*Xe()-s.renderingStartTime>Bc&&1073741824!==n&&(t.flags|=128,r=!0,vo(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=s.last)?n.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=rs.current,Pi(rs,r?1&n|2:1&n),t):(yo(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&xc)&&(yo(t),6&t.subtreeFlags&&(t.flags|=8192)):yo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},co=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Za(Ja.current);var a,s=null;switch(n){case"input":i=J(e,i),r=J(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Yr)}for(d in ye(n,r),n=null,i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var c=i[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(c=null!=i?i[d]:void 0,r.hasOwnProperty(d)&&l!==c&&(null!=l||null!=c))if("style"===d)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(d,l)):"children"===d?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&Br("scroll",e),s||c===l||(s=[])):(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var _o=_.ReactCurrentOwner,wo=!1;function So(e,t,n,r){t.child=null===e?Ga(t,null,n,r):Va(t,e.child,n,r)}function ko(e,t,n,r,i){n=n.render;var a=t.ref;return Zi(t,i),r=bs(e,t,n,r,a,i),n=_s(),null===e||wo?(Ia&&n&&Ea(t),t.flags|=1,So(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Co(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Dl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ro(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(s,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Il(a,r)).ref=t.ref,e.return=t,t.child=e}function Ro(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(cr(a,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=a,0==(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!=(131072&e.flags)&&(wo=!0)}}return Eo(e,t,n,r,i)}function Po(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pi(Oc,xc),xc|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pi(Oc,xc),xc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Pi(Oc,xc),xc|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Pi(Oc,xc),xc|=r;return So(e,t,i,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,r,i){var a=Ii(n)?Oi:Ei.current;return a=Di(t,a),Zi(t,i),n=bs(e,t,n,r,a,i),r=_s(),null===e||wo?(Ia&&r&&Ea(t),t.flags|=1,So(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function xo(e,t,n,r,i){if(Ii(n)){var a=!0;Ai(t)}else a=!1;if(Zi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ha(t,n,r),ga(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,l=n.contextType;l="object"==typeof l&&null!==l?Yi(l):Di(t,l=Ii(n)?Oi:Ei.current);var d=n.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate;u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==r||c!==l)&&ma(t,s,r,l),ta=!1;var p=t.memoizedState;s.state=p,ca(t,r,s,i),c=t.memoizedState,o!==r||p!==c||xi.current||ta?("function"==typeof d&&(ua(t,n,d,r),c=t.memoizedState),(o=ta||fa(t,n,o,r,p,c,l))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ra(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:Wi(t.type,o),s.props=l,u=t.pendingProps,p=s.context,c="object"==typeof(c=n.contextType)&&null!==c?Yi(c):Di(t,c=Ii(n)?Oi:Ei.current);var f=n.getDerivedStateFromProps;(d="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==u||p!==c)&&ma(t,s,r,c),ta=!1,p=t.memoizedState,s.state=p,ca(t,r,s,i);var h=t.memoizedState;o!==u||p!==h||xi.current||ta?("function"==typeof f&&(ua(t,n,f,r),h=t.memoizedState),(l=ta||fa(t,n,l,r,p,h,c)||!1)?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,c)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=c,r=l):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Oo(e,t,n,r,a,i)}function Oo(e,t,n,r,i,a){To(e,t);var s=0!=(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Wo(e,t,a);r=t.stateNode,_o.current=t;var o=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Va(t,e.child,null,a),t.child=Va(t,null,o,a)):So(e,t,o,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Ya(e,t.containerInfo)}function Io(e,t,n,r,i){return za(),Ua(i),t.flags|=256,So(e,t,n,r),t.child}var Mo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function jo(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ao(e,t,n){var r,i=t.pendingProps,s=rs.current,o=!1,c=0!=(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Pi(rs,1&s),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},0==(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=s):o=jl(s,i,0,null),e=Ll(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Mo,e):Fo(t,s));if(null!==(s=e.memoizedState)){if(null!==(r=s.dehydrated)){if(c)return 256&t.flags?(t.flags&=-257,zo(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,s=t.mode,i=jl({mode:"visible",children:i.children},s,0,null),(o=Ll(o,s,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!=(1&t.mode)&&Va(t,e.child,null,n),t.child.memoizedState=Lo(n),t.memoizedState=Mo,o);if(0==(1&t.mode))t=zo(e,t,n,null);else if("$!"===r.data)t=zo(e,t,n,Error(a(419)));else if(i=0!=(n&e.childLanes),wo||i){if(null!==(i=Pc)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(i=0!=(o&(i.suspendedLanes|n))?0:o)&&i!==s.retryLane&&(s.retryLane=i,Yc(e,i,-1))}hl(),t=zo(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Pl.bind(null,e),r._reactRetry=t,t=null):(n=s.treeContext,Da=li(r.nextSibling),Oa=t,Ia=!0,Ma=null,null!==n&&(wa[Sa++]=Ca,wa[Sa++]=Ra,wa[Sa++]=ka,Ca=n.id,Ra=n.overflow,ka=t),(t=Fo(t,t.pendingProps.children)).flags|=4096);return t}return o?(i=Bo(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?Lo(n):jo(s,n),o.childLanes=e.childLanes&~n,t.memoizedState=Mo,i):(n=No(e,t,i.children,n),t.memoizedState=null,n)}return o?(i=Bo(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?Lo(n):jo(s,n),o.childLanes=e.childLanes&~n,t.memoizedState=Mo,i):(n=No(e,t,i.children,n),t.memoizedState=null,n)}function Fo(e,t){return(t=jl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function No(e,t,n,r){var i=e.child;return e=i.sibling,n=Il(i,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Bo(e,t,n,r,i){var a=t.mode,s=(e=e.child).sibling,o={mode:"hidden",children:n};return 0==(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=Il(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==s?r=Il(s,r):(r=Ll(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function zo(e,t,n,r){return null!==r&&Ua(r),Va(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function Ho(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function $o(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(So(e,t,r.children,n),0!=(2&(r=rs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pi(rs,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===is(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ho(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===is(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ho(t,!0,n,null,a);break;case"together":Ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Il(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Il(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){switch(xa(t),t.tag){case 1:return Ii(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return es(),Ri(xi),Ri(Ei),ss(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ns(t),null;case 13:if(Ri(rs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));za()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ri(rs),null;case 4:return es(),null;case 10:return Qi(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}var Vo=!1,Go=!1,Ko="function"==typeof WeakSet?WeakSet:Set,Jo=null;function Qo(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){kl(e,t,n)}else n.current=null}function Xo(e,t,n){try{n()}catch(n){kl(e,t,n)}}var Zo=!1;function Yo(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xo(t,n,a)}i=i.next}while(i!==r)}}function ec(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function nc(e){var t=e.alternate;null!==t&&(e.alternate=null,nc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[pi],delete t[fi],delete t[mi],delete t[gi],delete t[vi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rc(e){return 5===e.tag||3===e.tag||4===e.tag}function ic(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ac(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Yr));else if(4!==r&&null!==(e=e.child))for(ac(e,t,n),e=e.sibling;null!==e;)ac(e,t,n),e=e.sibling}function sc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(sc(e,t,n),e=e.sibling;null!==e;)sc(e,t,n),e=e.sibling}var oc=null,cc=!1;function lc(e,t,n){for(n=n.child;null!==n;)dc(e,t,n),n=n.sibling}function dc(e,t,n){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Go||Qo(n,t);case 6:var r=oc,i=cc;oc=null,lc(e,t,n),cc=i,null!==(oc=r)&&(cc?(e=oc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):oc.removeChild(n.stateNode));break;case 18:null!==oc&&(cc?(e=oc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Ht(e)):ci(oc,n.stateNode));break;case 4:r=oc,i=cc,oc=n.stateNode.containerInfo,cc=!0,lc(e,t,n),oc=r,cc=i;break;case 0:case 11:case 14:case 15:if(!Go&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!=(2&a)||0!=(4&a))&&Xo(n,t,s),i=i.next}while(i!==r)}lc(e,t,n);break;case 1:if(!Go&&(Qo(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){kl(n,t,e)}lc(e,t,n);break;case 21:lc(e,t,n);break;case 22:1&n.mode?(Go=(r=Go)||null!==n.memoizedState,lc(e,t,n),Go=r):lc(e,t,n);break;default:lc(e,t,n)}}function uc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ko),t.forEach((function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function pc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,c=o;e:for(;null!==c;){switch(c.tag){case 5:oc=c.stateNode,cc=!1;break e;case 3:case 4:oc=c.stateNode.containerInfo,cc=!0;break e}c=c.return}if(null===oc)throw Error(a(160));dc(s,o,i),oc=null,cc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(e){kl(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fc(t,e),t=t.sibling}function fc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pc(t,e),hc(e),4&r){try{Yo(3,e,e.return),ec(3,e)}catch(t){kl(e,e.return,t)}try{Yo(5,e,e.return)}catch(t){kl(e,e.return,t)}}break;case 1:pc(t,e),hc(e),512&r&&null!==n&&Qo(n,n.return);break;case 5:if(pc(t,e),hc(e),512&r&&null!==n&&Qo(n,n.return),32&e.flags){var i=e.stateNode;try{pe(i,"")}catch(t){kl(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===s.type&&null!=s.name&&X(i,s),be(c,o);var d=be(c,s);for(o=0;o<l.length;o+=2){var u=l[o],p=l[o+1];"style"===u?ge(i,p):"dangerouslySetInnerHTML"===u?ue(i,p):"children"===u?pe(i,p):b(i,u,p,d)}switch(c){case"input":Z(i,s);break;case"textarea":ae(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ne(i,!!s.multiple,h,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(t){kl(e,e.return,t)}}break;case 6:if(pc(t,e),hc(e),4&r){if(null===e.stateNode)throw Error(a(162));d=e.stateNode,u=e.memoizedProps;try{d.nodeValue=u}catch(t){kl(e,e.return,t)}}break;case 3:if(pc(t,e),hc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(t){kl(e,e.return,t)}break;case 4:default:pc(t,e),hc(e);break;case 13:pc(t,e),hc(e),8192&(d=e.child).flags&&null!==d.memoizedState&&(null===d.alternate||null===d.alternate.memoizedState)&&(Nc=Xe()),4&r&&uc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Go=(u=Go)||d,pc(t,e),Go=u):pc(t,e),hc(e),8192&r){u=null!==e.memoizedState;e:for(p=null,f=e;;){if(5===f.tag){if(null===p){p=f;try{i=f.stateNode,u?"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=f.stateNode,o=null!=(l=f.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",o))}catch(t){kl(e,e.return,t)}}}else if(6===f.tag){if(null===p)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(t){kl(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}if(u&&!d&&0!=(1&e.mode))for(Jo=e,e=e.child;null!==e;){for(d=Jo=e;null!==Jo;){switch(p=(u=Jo).child,u.tag){case 0:case 11:case 14:case 15:Yo(4,u,u.return);break;case 1:if(Qo(u,u.return),"function"==typeof(s=u.stateNode).componentWillUnmount){f=u,h=u.return;try{i=f,s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(e){kl(f,h,e)}}break;case 5:Qo(u,u.return);break;case 22:if(null!==u.memoizedState){yc(d);continue}}null!==p?(p.return=u,Jo=p):yc(d)}e=e.sibling}}break;case 19:pc(t,e),hc(e),4&r&&uc(e);case 21:}}function hc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rc(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(pe(i,""),r.flags&=-33),sc(e,ic(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ac(e,ic(e),s);break;default:throw Error(a(161))}}catch(t){kl(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mc(e,t,n){Jo=e,gc(e,t,n)}function gc(e,t,n){for(var r=0!=(1&e.mode);null!==Jo;){var i=Jo,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Vo;if(!s){var o=i.alternate,c=null!==o&&null!==o.memoizedState||Go;o=Vo;var l=Go;if(Vo=s,(Go=c)&&!l)for(Jo=i;null!==Jo;)c=(s=Jo).child,22===s.tag&&null!==s.memoizedState?bc(i):null!==c?(c.return=s,Jo=c):bc(i);for(;null!==a;)Jo=a,gc(a,t,n),a=a.sibling;Jo=i,Vo=o,Go=l}vc(e)}else 0!=(8772&i.subtreeFlags)&&null!==a?(a.return=i,Jo=a):vc(e)}}function vc(e){for(;null!==Jo;){var t=Jo;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Go||ec(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Go)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Wi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&la(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}la(t,o,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Ht(p)}}}break;default:throw Error(a(163))}Go||512&t.flags&&tc(t)}catch(e){kl(t,t.return,e)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function yc(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function bc(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ec(4,t)}catch(e){kl(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){kl(t,i,e)}}var a=t.return;try{tc(t)}catch(e){kl(t,a,e)}break;case 5:var s=t.return;try{tc(t)}catch(e){kl(t,s,e)}}}catch(e){kl(t,t.return,e)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var _c,wc=Math.ceil,Sc=_.ReactCurrentDispatcher,kc=_.ReactCurrentOwner,Cc=_.ReactCurrentBatchConfig,Rc=0,Pc=null,Tc=null,Ec=0,xc=0,Oc=Ci(0),Dc=0,Ic=null,Mc=0,Lc=0,jc=0,Ac=null,Fc=null,Nc=0,Bc=1/0,zc=null,Uc=!1,Hc=null,$c=null,Wc=!1,qc=null,Vc=0,Gc=0,Kc=null,Jc=-1,Qc=0;function Xc(){return 0!=(6&Rc)?Xe():-1!==Jc?Jc:Jc=Xe()}function Zc(e){return 0==(1&e.mode)?1:0!=(2&Rc)&&0!==Ec?Ec&-Ec:null!==$i.transition?(0===Qc&&(Qc=mt()),Qc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Yc(e,t,n){if(50<Gc)throw Gc=0,Kc=null,Error(a(185));var r=el(e,t);return null===r?null:(vt(r,t,n),0!=(2&Rc)&&r===Pc||(r===Pc&&(0==(2&Rc)&&(Lc|=t),4===Dc&&sl(r,Ec)),nl(r,n),1===t&&0===Rc&&0==(1&e.mode)&&(Bc=Xe()+500,Bi&&Hi())),r)}function el(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tl(e){return(null!==Pc||null!==ea)&&0!=(1&e.mode)&&0==(2&Rc)}function nl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,c=i[s];-1===c?0!=(o&n)&&0==(o&r)||(i[s]=ft(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=pt(e,e===Pc?Ec:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Bi=!0,Ui(e)}(ol.bind(null,e)):Ui(ol.bind(null,e)),si((function(){0===Rc&&Hi()})),n=null;else{switch(_t(r)){case 1:n=Ye;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=El(n,rl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rl(e,t){if(Jc=-1,Qc=0,0!=(6&Rc))throw Error(a(327));var n=e.callbackNode;if(wl()&&e.callbackNode!==n)return null;var r=pt(e,e===Pc?Ec:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Rc;Rc|=2;var s=fl();for(Pc===e&&Ec===t||(zc=null,Bc=Xe()+500,ul(e,t));;)try{vl();break}catch(t){pl(e,t)}Ji(),Sc.current=s,Rc=i,null!==Tc?t=0:(Pc=null,Ec=0,t=Dc)}if(0!==t){if(2===t&&0!==(i=ht(e))&&(r=i,t=il(e,i)),1===t)throw n=Ic,ul(e,0),sl(e,r),nl(e,Xe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&0!==(s=ht(e))&&(r=s,t=il(e,s)),1===t))throw n=Ic,ul(e,0),sl(e,r),nl(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_l(e,Fc,zc);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Nc+500-Xe())){if(0!==pt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Fc,zc),t);break}_l(e,Fc,zc);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wc(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Fc,zc),r);break}_l(e,Fc,zc);break;default:throw Error(a(329))}}}return nl(e,Xe()),e.callbackNode===n?rl.bind(null,e):null}function il(e,t){var n=Ac;return e.current.memoizedState.isDehydrated&&(ul(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Fc,Fc=n,null!==t&&al(t)),e}function al(e){null===Fc?Fc=e:Fc.push.apply(Fc,e)}function sl(e,t){for(t&=~jc,t&=~Lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function ol(e){if(0!=(6&Rc))throw Error(a(327));wl();var t=pt(e,0);if(0==(1&t))return nl(e,Xe()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Ic,ul(e,0),sl(e,t),nl(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Fc,zc),nl(e,Xe()),null}function cl(e,t){var n=Rc;Rc|=1;try{return e(t)}finally{0===(Rc=n)&&(Bc=Xe()+500,Bi&&Hi())}}function ll(e){null!==qc&&0===qc.tag&&0==(6&Rc)&&wl();var t=Rc;Rc|=1;var n=Cc.transition,r=bt;try{if(Cc.transition=null,bt=1,e)return e()}finally{bt=r,Cc.transition=n,0==(6&(Rc=t))&&Hi()}}function dl(){xc=Oc.current,Ri(Oc)}function ul(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tc)for(n=Tc.return;null!==n;){var r=n;switch(xa(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Mi();break;case 3:es(),Ri(xi),Ri(Ei),ss();break;case 5:ns(r);break;case 4:es();break;case 13:case 19:Ri(rs);break;case 10:Qi(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Pc=e,Tc=e=Il(e.current,null),Ec=xc=t,Dc=0,Ic=null,jc=Lc=Mc=0,Fc=Ac=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}ea=null}return e}function pl(e,t){for(;;){var n=Tc;try{if(Ji(),os.current=to,fs){for(var r=ds.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}fs=!1}if(ls=0,ps=us=ds=null,hs=!1,ms=0,kc.current=null,null===n||null===n.return){Dc=1,Ic=t,Tc=null;break}e:{var s=e,o=n.return,c=n,l=t;if(t=Ec,c.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var d=l,u=c,p=u.tag;if(0==(1&u.mode)&&(0===p||11===p||15===p)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=mo(o);if(null!==h){h.flags&=-257,go(h,o,c,0,t),1&h.mode&&ho(s,d,t),l=d;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0==(1&t)){ho(s,d,t),hl();break e}l=Error(a(426))}else if(Ia&&1&c.mode){var v=mo(o);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),go(v,o,c,0,t),Ua(l);break e}}s=l,4!==Dc&&(Dc=2),null===Ac?Ac=[s]:Ac.push(s),l=ao(l,c),c=o;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t,oa(c,po(0,l,t));break e;case 1:s=l;var y=c.type,b=c.stateNode;if(0==(128&c.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===$c||!$c.has(b)))){c.flags|=65536,t&=-t,c.lanes|=t,oa(c,fo(c,s,t));break e}}c=c.return}while(null!==c)}bl(n)}catch(e){t=e,Tc===n&&null!==n&&(Tc=n=n.return);continue}break}}function fl(){var e=Sc.current;return Sc.current=to,null===e?to:e}function hl(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===Pc||0==(268435455&Mc)&&0==(268435455&Lc)||sl(Pc,Ec)}function ml(e,t){var n=Rc;Rc|=2;var r=fl();for(Pc===e&&Ec===t||(zc=null,ul(e,t));;)try{gl();break}catch(t){pl(e,t)}if(Ji(),Rc=n,Sc.current=r,null!==Tc)throw Error(a(261));return Pc=null,Ec=0,Dc}function gl(){for(;null!==Tc;)yl(Tc)}function vl(){for(;null!==Tc&&!Je();)yl(Tc)}function yl(e){var t=_c(e.alternate,e,xc);e.memoizedProps=e.pendingProps,null===t?bl(e):Tc=t,kc.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=bo(n,t,xc)))return void(Tc=n)}else{if(null!==(n=qo(n,t)))return n.flags&=32767,void(Tc=n);if(null===e)return Dc=6,void(Tc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tc=t);Tc=t=e}while(null!==t);0===Dc&&(Dc=5)}function _l(e,t,n){var r=bt,i=Cc.transition;try{Cc.transition=null,bt=1,function(e,t,n,r){do{wl()}while(null!==qc);if(0!=(6&Rc))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Pc&&(Tc=Pc=null,Ec=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Wc||(Wc=!0,El(tt,(function(){return wl(),null}))),s=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||s){s=Cc.transition,Cc.transition=null;var o=bt;bt=1;var c=Rc;Rc|=4,kc.current=null,function(e,t){if(ei=Wt,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var o=0,c=-1,l=-1,d=0,u=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==i&&3!==p.nodeType||(c=o+i),p!==s||0!==r&&3!==p.nodeType||(l=o+r),3===p.nodeType&&(o+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++d===i&&(c=o),f===s&&++u===r&&(l=o),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Wi(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;if(1===_.nodeType)_.textContent="";else if(9===_.nodeType){var w=_.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(e){kl(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=Zo,Zo=!1}(e,n),fc(n,e),hr(ti),Wt=!!ei,ti=ei=null,e.current=n,mc(n,e,i),Qe(),Rc=c,bt=o,Cc.transition=s}else e.current=n;if(Wc&&(Wc=!1,qc=e,Vc=i),0===(s=e.pendingLanes)&&($c=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),nl(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Uc)throw Uc=!1,e=Hc,Hc=null,e;0!=(1&Vc)&&0!==e.tag&&wl(),0!=(1&(s=e.pendingLanes))?e===Kc?Gc++:(Gc=0,Kc=e):Gc=0,Hi()}(e,t,n,r)}finally{Cc.transition=i,bt=r}return null}function wl(){if(null!==qc){var e=_t(Vc),t=Cc.transition,n=bt;try{if(Cc.transition=null,bt=16>e?16:e,null===qc)var r=!1;else{if(e=qc,qc=null,Vc=0,0!=(6&Rc))throw Error(a(331));var i=Rc;for(Rc|=4,Jo=e.current;null!==Jo;){var s=Jo,o=s.child;if(0!=(16&Jo.flags)){var c=s.deletions;if(null!==c){for(var l=0;l<c.length;l++){var d=c[l];for(Jo=d;null!==Jo;){var u=Jo;switch(u.tag){case 0:case 11:case 15:Yo(8,u,s)}var p=u.child;if(null!==p)p.return=u,Jo=p;else for(;null!==Jo;){var f=(u=Jo).sibling,h=u.return;if(nc(u),u===d){Jo=null;break}if(null!==f){f.return=h,Jo=f;break}Jo=h}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Jo=s}}if(0!=(2064&s.subtreeFlags)&&null!==o)o.return=s,Jo=o;else e:for(;null!==Jo;){if(0!=(2048&(s=Jo).flags))switch(s.tag){case 0:case 11:case 15:Yo(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Jo=y;break e}Jo=s.return}}var b=e.current;for(Jo=b;null!==Jo;){var _=(o=Jo).child;if(0!=(2064&o.subtreeFlags)&&null!==_)_.return=o,Jo=_;else e:for(o=b;null!==Jo;){if(0!=(2048&(c=Jo).flags))try{switch(c.tag){case 0:case 11:case 15:ec(9,c)}}catch(e){kl(c,c.return,e)}if(c===o){Jo=null;break e}var w=c.sibling;if(null!==w){w.return=c.return,Jo=w;break e}Jo=c.return}}if(Rc=i,Hi(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,Cc.transition=t}}return!1}function Sl(e,t,n){aa(e,t=po(0,t=ao(n,t),1)),t=Xc(),null!==(e=el(e,1))&&(vt(e,1,t),nl(e,t))}function kl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===$c||!$c.has(r))){aa(t,e=fo(t,e=ao(n,e),1)),e=Xc(),null!==(t=el(t,1))&&(vt(t,1,e),nl(t,e));break}}t=t.return}}function Cl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xc(),e.pingedLanes|=e.suspendedLanes&n,Pc===e&&(Ec&n)===n&&(4===Dc||3===Dc&&(130023424&Ec)===Ec&&500>Xe()-Nc?ul(e,0):jc|=n),nl(e,t)}function Rl(e,t){0===t&&(0==(1&e.mode)?t=1:(t=dt,0==(130023424&(dt<<=1))&&(dt=4194304)));var n=Xc();null!==(e=el(e,t))&&(vt(e,t,n),nl(e,n))}function Pl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Rl(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Rl(e,n)}function El(e,t){return Ge(e,t)}function xl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new xl(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Il(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,i,s){var o=2;if(r=e,"function"==typeof e)Dl(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case k:return Ll(n.children,i,s,t);case C:o=8,i|=8;break;case R:return(e=Ol(12,n,t,2|i)).elementType=R,e.lanes=s,e;case x:return(e=Ol(13,n,t,i)).elementType=x,e.lanes=s,e;case O:return(e=Ol(19,n,t,i)).elementType=O,e.lanes=s,e;case M:return jl(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case P:o=10;break e;case T:o=9;break e;case E:o=11;break e;case D:o=14;break e;case I:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ol(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ll(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function jl(e,t,n,r){return(e=Ol(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={},e}function Al(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,s,o,c){return e=new Nl(e,t,n,o,c),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ol(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function zl(e){if(!e)return Ti;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ii(n))return ji(e,n,t)}return t}function Ul(e,t,n,r){var i=t.current,a=Xc(),s=Zc(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Yc(i,s,a))&&sa(e,i,s),s}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $l(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){$l(e,t),(e=e.alternate)&&$l(e,t)}_c=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||xi.current)wo=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Do(t),za();break;case 5:ts(t);break;case 1:Ii(t.type)&&Ai(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pi(qi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Pi(rs,1&rs.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Ao(e,t,n):(Pi(rs,1&rs.current),null!==(e=Wo(e,t,n))?e.sibling:null);Pi(rs,1&rs.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return $o(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pi(rs,rs.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n)}return Wo(e,t,n)}(e,t,n);wo=0!=(131072&e.flags)}else wo=!1,Ia&&0!=(1048576&t.flags)&&Ta(t,_a,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Di(t,Ei.current);Zi(t,n),i=bs(null,t,r,e,i,n);var s=_s();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(s=!0,Ai(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=pa,t.stateNode=i,i._reactInternals=t,ga(t,r,e,n),t=Oo(null,t,r,!0,s,n)):(t.tag=0,Ia&&s&&Ea(t),So(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Dl(e)?1:0;if(null!=e){if((e=e.$$typeof)===E)return 11;if(e===D)return 14}return 2}(r),e=Wi(r,e),i){case 0:t=Eo(null,t,r,e,n);break e;case 1:t=xo(null,t,r,e,n);break e;case 11:t=ko(null,t,r,e,n);break e;case 14:t=Co(null,t,r,Wi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 1:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 3:e:{if(Do(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,ra(e,t),ca(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Io(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Io(e,t,r,n,i=Error(a(424)));break e}for(Da=li(t.stateNode.containerInfo.firstChild),Oa=t,Ia=!0,Ma=null,n=Ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(za(),r===i){t=Wo(e,t,n);break e}So(e,t,r,n)}t=t.child}return t;case 5:return ts(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),To(e,t),So(e,t,o,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Ao(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Va(t,null,r,n):So(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 7:return So(e,t,t.pendingProps,n),t.child;case 8:case 12:return So(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Pi(qi,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!xi.current){t=Wo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){o=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=ia(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),d.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Xi(s.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Xi(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}So(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Zi(t,n),r=r(i=Yi(i)),t.flags|=1,So(e,t,r,n),t.child;case 14:return i=Wi(r=t.type,t.pendingProps),Co(e,t,r,i=Wi(r.type,i),n);case 15:return Ro(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ii(r)?(e=!0,Ai(t)):e=!1,Zi(t,n),ha(t,r,i),ga(t,r,i,n),Oo(null,t,r,!0,e,n);case 19:return $o(e,t,n);case 22:return Po(e,t,n)}throw Error(a(156,t.tag))};"function"==typeof reportError&&reportError;function ql(e){this._internalRoot=e}function Vl(e){this._internalRoot=e}function Gl(){}function Kl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"==typeof i){var o=i;i=function(){var e=Hl(s);o.call(e)}}Ul(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=Hl(s);a.call(e)}}var s=function(e,t,n,r,i,a,s,o,c){return(e=Bl(n,r,!0,e,0,a,0,o,c)).context=zl(null),n=e.current,(a=ia(r=Xc(),i=Zc(n))).callback=null!=t?t:null,aa(n,a),e.current.lanes=i,vt(e,i,r),nl(e,r),e}(t,r,e,0,null,!1,0,"",Gl);return e._reactRootContainer=s,e[hi]=s.current,Hr(8===e.nodeType?e.parentNode:e),ll(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=Hl(c);o.call(e)}}var c=Bl(e,0,!1,null,0,!1,0,"",Gl);return e._reactRootContainer=c,e[hi]=c.current,Hr(8===e.nodeType?e.parentNode:e),ll((function(){Ul(t,c,n,r)})),c}(n,t,e,i,r);return Hl(s)}Vl.prototype.render=ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Ul(e,t,null,null)},Vl.prototype.unmount=ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ll((function(){Ul(null,e,null,null)})),t[hi]=null}},Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),nl(t,Xe()),0==(6&Rc)&&(Bc=Xe()+500,Hi()))}break;case 13:var r=Xc();ll((function(){return Yc(e,1,r)})),Wl(e,1)}},St=function(e){13===e.tag&&(Yc(e,134217728,Xc()),Wl(e,134217728))},kt=function(e){if(13===e.tag){var t=Xc(),n=Zc(e);Yc(e,n,t),Wl(e,n)}},Ct=function(){return bt},Rt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cl,xe=ll;var Jl={findFiberByHostInstance:yi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},Ql={bundleType:Jl.bundleType,version:Jl.version,rendererPackageName:Jl.rendererPackageName,rendererConfig:Jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:Jl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{it=Xl.inject(Ql),at=Xl}catch(de){}}t.render=function(e,t,n){if(!function(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}(t))throw Error(a(200));return Kl(null,e,t,!1,n)}},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},2408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,m(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){for(var l=Array(c),d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===a[i]&&(a[i]=c[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:k.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function E(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c=!1;if(null===e)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return s=s(c=e),e=""===a?"."+E(c,0):a,w(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),x(s,t,i,"",(function(e){return e}))):null!=s&&(P(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(c=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var d=a+E(o=e[l],l);c+=x(o,t,i,d,s)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),l=0;!(o=e.next()).done;)c+=x(o=o.value,t,i,d=a+E(o,l++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function O(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},M={transition:null},L={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)S.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=R,t.createFactory=function(e){var t=R.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.1.0"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},53:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,c=e[o],l=o+1,d=e[l];if(0>a(c,n))l<i&&0>a(d,c)?(e[r]=d,e[l]=n,r=l):(e[r]=c,e[o]=n,r=o);else{if(!(l<i&&0>a(d,n)))break e;e[r]=d,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var l=[],d=[],u=1,p=null,f=3,h=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=r(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(l,t)}t=r(d)}}function w(e){if(g=!1,_(e),!m)if(null!==r(l))m=!0,M(S);else{var t=r(d);null!==t&&L(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(P),P=-1),h=!0;var a=f;try{for(_(n),p=r(l);null!==p&&(!(p.expirationTime>n)||e&&!x());){var s=p.callback;if("function"==typeof s){p.callback=null,f=p.priorityLevel;var o=s(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof o?p.callback=o:p===r(l)&&i(l),_(n)}else i(l);p=r(l)}if(null!==p)var c=!0;else{var u=r(d);null!==u&&L(w,u.startTime-n),c=!1}return c}finally{p=null,f=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,R=null,P=-1,T=5,E=-1;function x(){return!(t.unstable_now()-E<T)}function O(){if(null!==R){var e=t.unstable_now();E=e;var n=!0;try{n=R(!0,e)}finally{n?k():(C=!1,R=null)}}else C=!1}if("function"==typeof b)k=function(){b(O)};else if("undefined"!=typeof MessageChannel){var D=new MessageChannel,I=D.port2;D.port1.onmessage=O,k=function(){I.postMessage(null)}}else k=function(){v(O,0)};function M(e){R=e,C||(C=!0,k())}function L(e,n){P=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,M(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(d,e),null===r(l)&&e===r(d)&&(g?(y(P),P=-1):g=!0,L(w,a-s))):(e.sortIndex=o,n(l,e),m||h||(m=!0,M(S))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},6692:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},766:(e,t,n)=>{var r=n(962),i=n(5776);t.write=i,t.parse=r.parse,t.parseParams=r.parseParams,t.parseFmtpConfig=r.parseFmtpConfig,t.parsePayloads=r.parsePayloads,t.parseRemoteCandidates=r.parseRemoteCandidates,t.parseImageAttributes=r.parseImageAttributes,t.parseSimulcastStreamList=r.parseSimulcastStreamList},962:(e,t,n)=>{var r=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,n){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var a=e.push?{}:i?t[e.name]:t;!function(e,t,n,i){if(i&&!n)t[i]=r(e[1]);else for(var a=0;a<n.length;a+=1)null!=e[a+1]&&(t[n[a]]=r(e[a+1]))}(n.match(e.reg),a,e.names,e.name),e.push&&t[e.push].push(a)},a=n(6692),s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(s).forEach((function(e){var t=e[0],s=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var o=0;o<(a[t]||[]).length;o+=1){var c=a[t][o];if(c.reg.test(s))return i(c,r,s)}})),t.media=n,t};var o=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=r(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(o,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(o,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}}))}))}},5776:(e,t,n)=>{var r=n(6692),i=/%[sdv%]/g,a=function(e){var t=1,n=arguments,r=n.length;return e.replace(i,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},s=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var s=t.names[i];t.name?r.push(n[t.name][s]):r.push(n[t.names[i]])}else r.push(n[t.name]);return a.apply(null,r)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||o,i=t.innerOrder||c,a=[];return n.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?a.push(s(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){a.push(s(t,n,e))}))}))})),e.media.forEach((function(e){a.push(s("m",r.m[0],e)),i.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?a.push(s(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){a.push(s(t,n,e))}))}))}))})),a.join("\r\n")+"\r\n"}},8410:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NIL:()=>R,parse:()=>u,stringify:()=>s.Z,v1:()=>l,v3:()=>_,v4:()=>w.Z,v5:()=>C,validate:()=>d.Z,version:()=>P});var r,i,a=n(3653),s=n(3958),o=0,c=0;const l=function(e,t,n){var l=t&&n||0,d=t||new Array(16),u=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==p){var f=e.random||(e.rng||a.Z)();null==u&&(u=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=i=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:c+1,g=h-o+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||h>o)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=h,c=m,i=p;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;d[l++]=v>>>24&255,d[l++]=v>>>16&255,d[l++]=v>>>8&255,d[l++]=255&v;var y=h/4294967296*1e4&268435455;d[l++]=y>>>8&255,d[l++]=255&y,d[l++]=y>>>24&15|16,d[l++]=y>>>16&255,d[l++]=p>>>8|128,d[l++]=255&p;for(var b=0;b<6;++b)d[l+b]=u[b];return t||(0,s.Z)(d)};var d=n(7738);const u=function(e){if(!(0,d.Z)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function p(e,t,n){function r(e,r,i,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=u(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(r),o.set(e,r.length),(o=n(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,i){a=a||0;for(var c=0;c<16;++c)i[a+c]=o[c];return i}return(0,s.Z)(o)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function f(e){return 14+(e+64>>>9<<4)+1}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t,n,r,i,a){return h((s=h(h(t,e),h(r,a)))<<(o=i)|s>>>32-o,n);var s,o}function g(e,t,n,r,i,a,s){return m(t&n|~t&r,e,t,i,a,s)}function v(e,t,n,r,i,a,s){return m(t&r|n&~r,e,t,i,a,s)}function y(e,t,n,r,i,a,s){return m(t^n^r,e,t,i,a,s)}function b(e,t,n,r,i,a,s){return m(n^(t|~r),e,t,i,a,s)}const _=p("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var a=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(a>>>4&15)+r.charAt(15&a),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[f(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,s=0;s<e.length;s+=16){var o=n,c=r,l=i,d=a;n=g(n,r,i,a,e[s],7,-680876936),a=g(a,n,r,i,e[s+1],12,-389564586),i=g(i,a,n,r,e[s+2],17,606105819),r=g(r,i,a,n,e[s+3],22,-1044525330),n=g(n,r,i,a,e[s+4],7,-176418897),a=g(a,n,r,i,e[s+5],12,1200080426),i=g(i,a,n,r,e[s+6],17,-1473231341),r=g(r,i,a,n,e[s+7],22,-45705983),n=g(n,r,i,a,e[s+8],7,1770035416),a=g(a,n,r,i,e[s+9],12,-1958414417),i=g(i,a,n,r,e[s+10],17,-42063),r=g(r,i,a,n,e[s+11],22,-1990404162),n=g(n,r,i,a,e[s+12],7,1804603682),a=g(a,n,r,i,e[s+13],12,-40341101),i=g(i,a,n,r,e[s+14],17,-1502002290),n=v(n,r=g(r,i,a,n,e[s+15],22,1236535329),i,a,e[s+1],5,-165796510),a=v(a,n,r,i,e[s+6],9,-1069501632),i=v(i,a,n,r,e[s+11],14,643717713),r=v(r,i,a,n,e[s],20,-373897302),n=v(n,r,i,a,e[s+5],5,-701558691),a=v(a,n,r,i,e[s+10],9,38016083),i=v(i,a,n,r,e[s+15],14,-660478335),r=v(r,i,a,n,e[s+4],20,-405537848),n=v(n,r,i,a,e[s+9],5,568446438),a=v(a,n,r,i,e[s+14],9,-1019803690),i=v(i,a,n,r,e[s+3],14,-187363961),r=v(r,i,a,n,e[s+8],20,1163531501),n=v(n,r,i,a,e[s+13],5,-1444681467),a=v(a,n,r,i,e[s+2],9,-51403784),i=v(i,a,n,r,e[s+7],14,1735328473),n=y(n,r=v(r,i,a,n,e[s+12],20,-1926607734),i,a,e[s+5],4,-378558),a=y(a,n,r,i,e[s+8],11,-2022574463),i=y(i,a,n,r,e[s+11],16,1839030562),r=y(r,i,a,n,e[s+14],23,-35309556),n=y(n,r,i,a,e[s+1],4,-1530992060),a=y(a,n,r,i,e[s+4],11,1272893353),i=y(i,a,n,r,e[s+7],16,-155497632),r=y(r,i,a,n,e[s+10],23,-1094730640),n=y(n,r,i,a,e[s+13],4,681279174),a=y(a,n,r,i,e[s],11,-358537222),i=y(i,a,n,r,e[s+3],16,-722521979),r=y(r,i,a,n,e[s+6],23,76029189),n=y(n,r,i,a,e[s+9],4,-640364487),a=y(a,n,r,i,e[s+12],11,-421815835),i=y(i,a,n,r,e[s+15],16,530742520),n=b(n,r=y(r,i,a,n,e[s+2],23,-995338651),i,a,e[s],6,-198630844),a=b(a,n,r,i,e[s+7],10,1126891415),i=b(i,a,n,r,e[s+14],15,-1416354905),r=b(r,i,a,n,e[s+5],21,-57434055),n=b(n,r,i,a,e[s+12],6,1700485571),a=b(a,n,r,i,e[s+3],10,-1894986606),i=b(i,a,n,r,e[s+10],15,-1051523),r=b(r,i,a,n,e[s+1],21,-2054922799),n=b(n,r,i,a,e[s+8],6,1873313359),a=b(a,n,r,i,e[s+15],10,-30611744),i=b(i,a,n,r,e[s+6],15,-1560198380),r=b(r,i,a,n,e[s+13],21,1309151649),n=b(n,r,i,a,e[s+4],6,-145523070),a=b(a,n,r,i,e[s+11],10,-1120210379),i=b(i,a,n,r,e[s+2],15,718787259),r=b(r,i,a,n,e[s+9],21,-343485551),n=h(n,o),r=h(r,c),i=h(i,l),a=h(a,d)}return[n,r,i,a]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(f(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));var w=n(2045);function S(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function k(e,t){return e<<t|e>>>32-t}const C=p("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,s=Math.ceil(a/16),o=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),d=0;d<16;++d)l[d]=e[64*c+4*d]<<24|e[64*c+4*d+1]<<16|e[64*c+4*d+2]<<8|e[64*c+4*d+3];o[c]=l}o[s-1][14]=8*(e.length-1)/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=8*(e.length-1)&4294967295;for(var u=0;u<s;++u){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=o[u][f];for(var h=16;h<80;++h)p[h]=k(p[h-3]^p[h-8]^p[h-14]^p[h-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],b=n[4],_=0;_<80;++_){var w=Math.floor(_/20),C=k(m,5)+S(w,g,v,y)+b+t[w]+p[_]>>>0;b=y,y=v,v=k(g,30)>>>0,g=m,m=C}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),R="00000000-0000-0000-0000-000000000000",P=function(e){if(!(0,d.Z)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},3653:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>a});var i=new Uint8Array(16);function a(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}},3958:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});for(var r=n(7738),i=[],a=0;a<256;++a)i.push((a+256).toString(16).substr(1));const s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!(0,r.Z)(n))throw TypeError("Stringified UUID is invalid");return n}},2045:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3653),i=n(3958);const a=function(e,t,n){var a=(e=e||{}).random||(e.rng||r.Z)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=a[s];return t}return(0,i.Z)(a)}},7738:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,i=function(e){return"string"==typeof e&&r.test(e)}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.amdO={},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e,t,n,r,i,a=__webpack_require__(7294),s=__webpack_require__(3935),o=["Harry Potter","Hedwig","Voldemort","Hermione","Viktor Krum","Ron Weasely","Ginny","Seamus Finnigan","Nagini","Dobby","Nymphadora Tonks","Sirius Black","Luna Lovegood","Peter Pettigrew","Moaning Myrtle","Kreacher","Crookshanks","Dumbledore","Snape","Draco","Lucius Malfoy","Bellatrix Lestrange","Anthony Goldstein","Neville Longbottom","Peeves","McGonagall","Fleur Delacour","James Potter","Newt Scamander","Lily Potter","Professor Flitwick","Alastor Moody","Argus Filch","Trelawney","Rita Skeeter","Cornelius Fudge"],c=__webpack_require__(2045),l=(0,c.Z)(),d=(i=Math.ceil(Math.random()*(o.length-1)),o[i]);function u(){if(!t){var e=document.querySelector("span#roomId");e&&(t=e.textContent)}return t}function p(){return d}function f(){return l}function h(){if(!n){var e=document.querySelector("span#sfuAddress");e&&(n=e.textContent)}return n}var m=__webpack_require__(7187),g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},g.apply(this,arguments)},v=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))},y=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},b=function(){function e(){this._requests=new Map,this._emitter=new m,this._requests=new Map,this._ws=null}return e.builder=function(){var t,n=this,r=function(e,t){void 0===t&&(t=0);var i=new WebSocket(e);return i.readyState===WebSocket.OPEN?Promise.resolve(i):new Promise((function(a){var s,o=function(){return v(n,void 0,void 0,(function(){var n;return y(this,(function(i){switch(i.label){case 0:if(console.warn("Websocket connection was not successful, tried: "+t),s&&clearTimeout(s),3<t)throw new Error("Cannot connect to "+e);return[4,(2e3,new Promise((function(e){setTimeout(e,2e3)})))];case 1:return i.sent(),[4,r(e,t+1)];case 2:return n=i.sent(),a(n),[2]}}))}))};i.addEventListener("close",o);var c=function(){s=setTimeout((function(){i.readyState===WebSocket.OPEN?(i.removeEventListener("close",o),a(i)):c()}),1e3)};c()}))},i=new e,a={withUrl:function(e){return t=e,a},onConsumerCreated:function(e){return i._emitter.on("ConsumerCreated",e),a},onConsumerRemoved:function(e){return i._emitter.on("ConsumerRemoved",e),a},build:function(){return v(n,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:if(!t)throw new Error("websocket URL must be provided");return[4,r(t)];case 1:return(e=n.sent()).onmessage=function(e){i._receive(e)},i._ws=e,[2,i]}}))}))}};return a},e.prototype.requestCapabilities=function(){return this._sendRequestAndPromise({messageType:"CapabilitiesRequest",payload:{}})},e.prototype.requestSfuState=function(){return this._sendRequestAndPromise({messageType:"SfuStateRequest",payload:{}})},e.prototype.requestCreateProducer=function(e){var t=e.kind,n=e.rtpParameters,r=e.userId;return this._sendRequestAndPromise({messageType:"CreateProducerRequest",payload:{kind:t,rtpParameters:n,userId:r}})},e.prototype.requestPauseProducer=function(e){var t=e.producerId;return this._sendRequestAndPromise({messageType:"PauseProducerRequest",payload:{producerId:t}})},e.prototype.requestResumeProducer=function(e){var t=e.producerId;return this._sendRequestAndPromise({messageType:"ResumeProducerRequest",payload:{producerId:t}})},e.prototype.sendTransportConnectedNotification=function(e){var t=e.role,n=e.dtlsParameters;this._ws.send(JSON.stringify({messageType:"TransportConnected",payload:{role:t,dtlsParameters:n}}))},e.prototype.sendRtpCapabilities=function(e){var t=e.rtpCapabilities;this._ws.send(JSON.stringify({messageType:"RtpCapabilities",payload:{rtpCapabilities:t}}))},e.prototype.requestTransportInfo=function(e){var t=e.role;return this._sendRequestAndPromise({messageType:"TransportInfoRequest",payload:{role:t}})},e.prototype._receive=function(e){var t;try{t=JSON.parse(e.data)}catch(t){return void console.warn("Cannot parse data "+e.data)}var n=t.messageType,r=t.payload;if(n)if(0<this._emitter.listenerCount(n))this._emitter.emit(n,r);else if(r){var i=r.requestId,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(r,["requestId"]),s=this._requests.get(i);s?s(g({},a)):console.warn("Cannot find listener for message type: "+n)}else console.warn("Cannot find listener for message type: "+n);else console.warn("Undefined message type")},e.prototype._sendRequestAndPromise=function(e){var t=this,n=e.messageType,r=e.payload,i=(0,c.Z)(),a=JSON.stringify({messageType:n,payload:g({requestId:i},r)}),s=new Promise((function(e){t._requests.set(i,(function(t){e(t)}))}));return this._ws.send(a),s},e}(),_="localMediaTrackAdded",w="localMediaTrackRemoved",S="localMediaTrackPaused",k="localMediaTrackPlay",C="remoteMediaTrackAdded",R="remoteMediaTrackRemoved",P=new m.EventEmitter;function T(e){P.on(_,e)}function E(e){P.off(_,e)}function x(e){P.emit(S,e)}function O(e){P.emit(k,e)}var D=__webpack_require__(960),I=__webpack_require__(6648),M=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},L=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s},j=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},A={collectingPeriodInMs:2e3,samplingPeriodInMs:1e4,sendingPeriodInMs:function(){if(!r){var e=document.querySelector("span#samplingPeriodInMs");r=(null==e?void 0:e.textContent)?parseInt(e.textContent):15e3}return r}(),sampler:{roomId:u(),clientId:f(),userId:p()},sender:{format:"protobuf",websocket:{urls:["ws://localhost:7080/samples/myService/my-webrtc-app"],maxRetries:3}}},F=I.ClientMonitor.create(A),N="metricsUpdated",B=new m.EventEmitter;function z(e){B.on(N,e)}function U(e){B.off(N,e)}F.events.onStatsCollected((function(){var e,t,n=F.storage;try{for(var r=M(n.peerConnections()),i=r.next();!i.done;i=r.next()){var a=i.value,s=a.stats;console.log(a.id,"stats:",s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}})),F.events.onSampleCreated((function(e){console.log("Sample is creacted",e)})),F.events.onSampleSent((function(){console.log("Samplea are sent to the observer")}));var H=new Map;F.events.onStatsCollected((function(){var e,t,n,r,i,a,s=new Map,o={peerConnections:new Map,statsCollectedInMs:F.metrics.collectingTimeInMs,tracks:new Map},c=function(e){var t=e.stats,n=t.ssrc,r=t.bytesReceived,i=t.framesDecoded,a=t.framesReceived,s=t.kind,c=e.getTrackId(),l=c+"-"+n,d=H.get(l),u=function(){return H.set(l,{bytesReceived:r,framesDecoded:i,framesReceived:a,timestamp:Date.now()})};if(!d)return u(),"continue";var p=o.tracks.get(c);p||(p={layers:new Map},o.tracks.set(c,p));var f=p.layers.get(n);f||(f={ssrc:n,kind:s},p.layers.set(n,f));var h=Date.now()-d.timestamp,m=h/1e3;"video"===s&&(f.decodedFps=Math.ceil((i-d.framesDecoded)/m),f.receivedFps=Math.ceil((a-d.framesReceived)/m)),f.rcvKbps=8*(r-d.bytesReceived)/h,u()};try{for(var l=M(F.storage.inboundRtps()),d=l.next();!d.done;d=l.next())c(d.value)}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}var u,p,f=function(e){var t=e.stats,n=t.ssrc,r=t.bytesSent,i=t.framesEncoded,a=t.framesSent,c=t.kind,l=e.getTrackId(),d=l+"-"+n,u=H.get(d),p=e.getRemoteInboundRtp(),f=e.getPeerConnection();if(p&&f){var h=(p.stats||{}).roundTripTime;if(h){var m=s.get(f.collectorId)||[];m.push(h),s.set(f.collectorId,m)}}var g=function(){return H.set(d,{bytesSent:r,framesEncoded:i,framesSent:a,timestamp:Date.now()})};if(!u)return g(),"continue";var v=o.tracks.get(l);v||(v={layers:new Map},o.tracks.set(l,v));var y=v.layers.get(n);y||(y={ssrc:n,kind:c},v.layers.set(n,y));var b=Date.now()-u.timestamp,_=b/1e3;"video"===c&&(y.encodedFps=Math.ceil((i-u.framesEncoded)/_),y.sentFps=Math.ceil((a-u.framesSent)/_)),y.sndKbps=8*(r-u.bytesSent)/b,g()};try{for(var h=M(F.storage.outboundRtps()),m=h.next();!m.done;m=h.next())f(m.value)}catch(e){n={error:e}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var g=M(F.storage.peerConnections()),v=g.next();!v.done;v=g.next()){var y=v.value,b=s.get(y.collectorId),_=b?(u=b,void 0,p=Math.floor(u.length/2),(u=j([],L(u),!1).sort((function(e,t){return e-t}))).length%2!=0?u[p]:(u[p-1]+u[p])/2):void 0,w=y.collectorId,S={label:y.collectorLabel,rtt:_};o.peerConnections.set(w,S)}}catch(e){i={error:e}}finally{try{v&&!v.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}!function(e){B.emit(N,e)}(o)}));var $,W,q,V=function(){return V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},V.apply(this,arguments)},G=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))},K=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},J=[{urls:["turn:turn.example.com:443?transport=tcp"],username:"example",credential:"example"}],Q=new Map,X=new Map;function Z(e){return G(this,void 0,void 0,(function(){var t,n,r,i,a,s=this;return K(this,(function(o){switch(o.label){case 0:return[4,b.builder().withUrl(e.url).onConsumerCreated((function(e){var t=e.clientId,n=e.consumerId,r=e.remoteProducerId,i=e.kind,a=e.rtpParameters,o=e.appData;return G(s,void 0,void 0,(function(){var e,s,c;return K(this,(function(l){switch(l.label){case 0:return console.log("Consumer is received "+n+" from client "+t,{remoteClientId:t,consumerId:n,remoteProducerId:r,kind:i,rtpParameters:a,appData:o}),e=o.userId,[4,W.consume({id:n,producerId:r,kind:i,rtpParameters:a,appData:o})];case 1:return s=l.sent(),c=s.track,F.addTrackRelation({trackId:c.id,sfuStreamId:r,sfuSinkId:n}),Q.set(s.id,s),d={track:c,userId:e,clientId:t},P.emit(C,d),s.observer.on("close",(function(){F.removeTrackRelation(c.id),Q.delete(s.id),F.removeTrackRelation(c.id)})),[2]}var d}))}))})).onConsumerRemoved((function(e){var t=e.consumerId;console.log("Consumer is closed "+t);var n,r=Q.get(t),i=r.appData,a=i.clientId,s=i.userId;r.closed||r.close(),n={track:r.track,userId:s,clientId:a},P.emit(R,n)})).build()];case 1:return $=o.sent(),l=function(e){return G(s,void 0,void 0,(function(){var t,n,r,i;return K(this,(function(a){switch(a.label){case 0:return t=e.track,n=Array.from(X.values()).filter((function(e){return e.track.id===t.id})),n.length<1?[2]:((r=n[0]).pause(),i=r.id,[4,$.requestPauseProducer({producerId:i})]);case 1:return a.sent(),console.log("Producer "+i+" is paused"),[2]}}))}))},P.on(S,l),P.on(k,(function(e){return G(s,void 0,void 0,(function(){var t,n,r,i;return K(this,(function(a){switch(a.label){case 0:return t=e.track,n=Array.from(X.values()).filter((function(e){return e.track.id===t.id})),n.length<1?[2]:((r=n[0]).resume(),i=r.id,[4,$.requestResumeProducer({producerId:i})]);case 1:return a.sent(),console.log("Producer "+i+" is resumed"),[2]}}))}))})),[4,new Promise((function(e){return G(s,void 0,void 0,(function(){var t,n,r=this;return K(this,(function(i){switch(i.label){case 0:return t=function(){return G(r,void 0,void 0,(function(){var e;return K(this,(function(t){switch(t.label){case 0:return[4,$.requestSfuState()];case 1:return e=t.sent().state,console.log("SfuState is ",e),[2,"run"===e]}}))}))},[4,t()];case 1:return i.sent()?(e(),[2]):(n=function(i){return void 0===i&&(i=0),setTimeout((function(){return G(r,void 0,void 0,(function(){return K(this,(function(r){switch(r.label){case 0:if(10<i)throw new Error("Sfu State is not run.");return[4,t()];case 1:return r.sent()?(e(),[2]):(n(i+1),[2])}}))}))}),2e3)},n(),[2])}}))}))}))];case 2:return o.sent(),t=new D.Device,[4,$.requestCapabilities()];case 3:return n=o.sent().rtpCapabilities,console.log("Got routerCapabilities:",n),[4,t.load({routerRtpCapabilities:n})];case 4:return o.sent(),console.log("Device is loaded",t.loaded,t.rtpCapabilities),$.sendRtpCapabilities({rtpCapabilities:t.rtpCapabilities}),[4,$.requestTransportInfo({role:"producers"})];case 5:return r=o.sent(),console.log("sndTransportInfo",r),q=t.createSendTransport(V(V({},r),{iceServers:J})),console.log("sndTransport "+q.id+" is created",q),q.on("connect",(function(e,t,n){var r=e.dtlsParameters;return G(s,void 0,void 0,(function(){return K(this,(function(e){switch(e.label){case 0:return[4,$.sendTransportConnectedNotification({role:"producers",dtlsParameters:r})];case 1:return e.sent(),t(),[2]}}))}))})),q.on("connectionstatechange",(function(e){return G(s,void 0,void 0,(function(){return K(this,(function(t){return"disconnected"!==e&&"failed"!==e||F.addExtensionStats({type:"ICE_DISCONNECTED",payload:JSON.stringify({transportId:q.id})}),[2]}))}))})),q.on("produce",(function(e,t,n){var r=e.kind,i=e.rtpParameters,a=e.appData;return G(s,void 0,void 0,(function(){var e,s,o;return K(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),e=a.userId,[4,$.requestCreateProducer({kind:r,rtpParameters:i,userId:e})];case 1:return s=c.sent().producerId,t({id:s}),[3,3];case 2:return o=c.sent(),n(o),[3,3];case 3:return[2]}}))}))})),F.addStatsCollector({id:(0,c.Z)(),label:"sndTransport",getStats:q.getStats.bind(q)}),[4,$.requestTransportInfo({role:"consumers"})];case 6:return i=o.sent(),W=t.createRecvTransport(V(V({},i),{iceServers:J})),console.log("rcvTransport "+W.id+" is created",W),W.on("connect",(function(e,t,n){var r=e.dtlsParameters;return G(s,void 0,void 0,(function(){return K(this,(function(e){switch(e.label){case 0:return[4,$.sendTransportConnectedNotification({role:"consumers",dtlsParameters:r})];case 1:return e.sent(),t(),[2]}}))}))})),F.addStatsCollector({id:(0,c.Z)(),label:"rcvTransport",getStats:W.getStats.bind(W)}),a=function(e){return G(s,void 0,void 0,(function(){var t,n,r;return K(this,(function(i){switch(i.label){case 0:if(!q)throw new Error("SenderTransport is not available");return t=e.track,n=e.userId,[4,q.produce({track:t,appData:{userId:n}})];case 1:return r=i.sent(),F.addTrackRelation({trackId:t.id,sfuStreamId:r.id}),r.observer.on("close",(function(){var e;X.delete(r.id),e=t.id,P.emit(w,e),F.removeTrackRelation(t.id)})),X.set(r.id,r),[2]}}))}))},q.observer.on("close",(function(){E(a)})),T(a),[2]}var l}))}))}var Y=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))},ee=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},te=function(){if(!e){var t=document.querySelector("span#clientType").textContent.toLocaleLowerCase();if("mediasoup"!==t)throw new Error("Cannot recognize sfuType: "+t);e="mediasoup"}return e}(),ne=u(),re=f(),ie=p(),ae=!1;function se(){return Y(this,void 0,void 0,(function(){var e,t;return ee(this,(function(n){switch(n.label){case 0:return e=h(),t="ws://"+e+"?roomId="+ne+"&userId="+ie+"&clientId="+re,console.log("SfuAddress: "+e+", websocket url: "+t),[4,Z({url:t})];case 1:return n.sent(),[2]}}))}))}function oe(){return Y(this,void 0,void 0,(function(){return ee(this,(function(e){switch(e.label){case 0:if(ae)throw new Error("Cannot reinitialize");return console.log("Initializing",te),ae=!0,"mediasoup"===te?[3,1]:[3,3];case 1:return[4,se()];case 2:return[2,e.sent()];case 3:throw new Error("Cannot initialize clientType: "+te)}}))}))}var ce,le=(ce=function(e,t){return ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ce(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ce(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),de=function(){return de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},de.apply(this,arguments)},ue=function(e){function t(t){var n=e.call(this,t)||this;return n.videoRef=a.createRef(),n.muteRef=a.createRef(),n.playRef=a.createRef(),n}return le(t,e),t.prototype.componentDidMount=function(){var e=this;this.videoRef.current.srcObject=this.props.stream,this.videoRef.current.play().catch((function(e){console.warn("video error",e),F.addUserMediaError(e)})),this.metricsUpdatedListener=function(t){var n=[];e.props.stream.getTracks().forEach((function(e){var r=t.tracks.get(e.id);r&&Array.from(r.layers.values()).forEach((function(e){Object.entries(e).map((function(e){return e[0]+": "+e[1]})).forEach((function(e){return n.push(e)}))}))})),e.setState(de(de({},e.state),{stats:n}))},z(this.metricsUpdatedListener)},t.prototype.componentWillUnmount=function(){this.metricsUpdatedListener&&U(this.metricsUpdatedListener)},t.prototype.mute=function(){this.muteRef.current.innerText="Unmute";var e=this.props.stream.getAudioTracks()[0];x({clientId:this.props.id,userId:this.props.userId,track:e})},t.prototype.unmute=function(){this.muteRef.current.innerText="Mute";var e=this.props.stream.getAudioTracks()[0];O({clientId:this.props.id,userId:this.props.userId,track:e})},t.prototype.play=function(){this.playRef.current.innerText="Pause";var e=this.props.stream.getVideoTracks()[0];O({clientId:this.props.id,userId:this.props.userId,track:e})},t.prototype.pause=function(){this.playRef.current.innerText="Play";var e=this.props.stream.getVideoTracks()[0];x({clientId:this.props.id,userId:this.props.userId,track:e})},t.prototype.render=function(){var e,t=this,n=!1,r=!1;return a.createElement("div",null,a.createElement("h3",null,"Client (clientId: ",this.props.id,")"),a.createElement("h4",null,"UserId: ",a.createElement("span",{id:"userId"},this.props.userId)),a.createElement("div",{style:{width:"50%",display:"table-cell"}},a.createElement("video",{ref:this.videoRef,id:"localVideo",width:"160",height:"120",autoPlay:!0,playsInline:!0,controls:!1}),a.createElement("br",null),this.props.playBtn?a.createElement("button",{ref:this.playRef,id:"videoController",onClick:function(){r?(r=!1,t.play()):(r=!0,t.pause())}},"Pause"):a.createElement(a.Fragment,null),this.props.muteBtn?a.createElement("button",{ref:this.muteRef,id:"audioController",onClick:function(){n?(n=!1,t.unmute()):(n=!0,t.mute())}},"Mute"):a.createElement(a.Fragment,null)),a.createElement("div",{style:{width:"50%",display:"table-cell",padding:10}},(null===(e=this.state)||void 0===e?void 0:e.stats)?this.state.stats.map((function(e){return a.createElement("div",{key:(0,c.Z)()},e)})):a.createElement(a.Fragment,null)),a.createElement("hr",null))},t}(a.Component),pe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fe=function(){return fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fe.apply(this,arguments)},he=function(e){function t(t){return e.call(this,t)||this}return pe(t,e),t.prototype.componentDidMount=function(){var e,t=this;this.setState({peerConnections:[],localClient:{id:f(),userId:p(),stream:new MediaStream},remoteClients:new Map}),this.localClientMediaTrackAddedListener=function(e){var n=e.track,r=t.state.localClient;r.stream.addTrack(n),t.setState(fe(fe({},t.state),{localClient:r}))},T(this.localClientMediaTrackAddedListener),this.localClientMediaTrackRemovedListener=function(e){var n=e.track,r=t.state.localClient;r.stream.removeTrack(n),t.setState(fe(fe({},t.state),{localClient:r}))},e=this.localClientMediaTrackRemovedListener,P.on(w,e),this.remoteClientTrackAddedListener=function(e){return n=t,r=void 0,a=function(){var t,n,r,i,a,s;return function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}(this,(function(o){return t=this.state.remoteClients,n=e.track,r=e.userId,i=e.clientId,(a=t.get(i))?(a.stream.addTrack(n),[2]):(s=new MediaStream,a={id:i,userId:r,stream:s},s.addTrack(n),t.set(i,a),this.setState(fe(fe({},this.state),{remoteClients:t})),[2])}))},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{c(a.next(e))}catch(e){t(e)}}function o(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,o)}c((a=a.apply(n,r||[])).next())}));var n,r,i,a},function(e){P.on(C,e)}(this.remoteClientTrackAddedListener),this.remoteClientTrackRemovedListener=function(e){var n=e.clientId,r=e.track,i=t.state.remoteClients,a=i.get(n);a&&(a.stream.removeTrack(r),0<a.stream.getTracks().length||(i.delete(n),t.setState(fe(fe({},t.state),{remoteClients:i}))))},function(e){P.on(R,e)}(this.remoteClientTrackRemovedListener),this.metricsUpdatedListener=function(e){var n,r,i=[];null===(r=null===(n=t.state)||void 0===n?void 0:n.localClient)||void 0===r||r.stream.getTracks().forEach((function(t){var n=e.tracks.get(t.id);n&&(Array.from(n.layers.values()).forEach((function(e){Object.entries(e).map((function(e){return e[0]+": "+e[1]})).forEach((function(e){return i.push(e)}))})),i.push(""))}));var a=[];Array.from(e.peerConnections.values()).forEach((function(e){Object.entries(e).filter((function(e){return"label"!==e[0]})).map((function(t){return e.label+"."+t[0]+": "+t[1]})).forEach((function(e){return a.push(e)}))})),t.setState(fe(fe({},t.state),{statsCollectingTimeInMs:e.statsCollectedInMs,peerConnections:a}))},z(this.metricsUpdatedListener)},t.prototype.componentWillUnmount=function(){var e;this.localClientMediaTrackAddedListener&&E(this.localClientMediaTrackAddedListener),this.localClientMediaTrackRemovedListener&&E(this.localClientMediaTrackRemovedListener),this.remoteClientTrackAddedListener&&(e=this.remoteClientTrackAddedListener,P.off(C,e)),this.remoteClientTrackRemovedListener&&function(e){P.off(R,e)}(this.remoteClientTrackRemovedListener),this.metricsUpdatedListener&&U(this.metricsUpdatedListener)},t.prototype.render=function(){var e,t,n,r;return a.createElement("div",null,(null===(e=this.state)||void 0===e?void 0:e.peerConnections)?this.state.peerConnections.map((function(e){return a.createElement("div",{key:(0,c.Z)()},e)})):a.createElement(a.Fragment,null),a.createElement("div",null,(null===(t=this.state)||void 0===t?void 0:t.localClient)?a.createElement(ue,{id:this.state.localClient.id,stream:this.state.localClient.stream,playBtn:!0,userId:this.state.localClient.userId,muteBtn:!0}):a.createElement(a.Fragment,null)),a.createElement("section",{id:"remoteClients"},(null===(n=this.state)||void 0===n?void 0:n.remoteClients)?Array.from(this.state.remoteClients.values()).map((function(e){return a.createElement("div",{key:e.id},a.createElement(ue,{stream:e.stream,id:e.id,userId:e.userId}))})):a.createElement(a.Fragment,null)),(null===(r=this.state)||void 0===r?void 0:r.statsCollectingTimeInMs)?a.createElement("h3",null,"Last Stats collecting time in ms: ",a.createElement("span",null,this.state.statsCollectingTimeInMs)):a.createElement(a.Fragment,null))},t}(a.Component),me=function(){return me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},me.apply(this,arguments)};function ge(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))}function ve(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}function ye(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}Object.create,Object.create;function be(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}function _e(e,t){try{var n=e();(r=n)&&"function"==typeof r.then?n.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,n)}catch(e){t(!1,e)}var r}function we(e,t,n){return void 0===n&&(n=16),ge(this,void 0,void 0,(function(){var r,i,a;return ve(this,(function(s){switch(s.label){case 0:r=Date.now(),i=0,s.label=1;case 1:return i<e.length?(t(e[i],i),(a=Date.now())>=r+n?(r=a,[4,be(0)]):[3,3]):[3,4];case 2:s.sent(),s.label=3;case 3:return++i,[3,1];case 4:return[2]}}))}))}function Se(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function ke(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function Ce(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function Re(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function Pe(e,t){return[e[0]^t[0],e[1]^t[1]]}function Te(e){return e=Pe(e,[0,e[0]>>>1]),e=Pe(e=ke(e,[4283543511,3981806797]),[0,e[0]>>>1]),Pe(e=ke(e,[3301882366,444984403]),[0,e[0]>>>1])}function Ee(e){return parseInt(e)}function xe(e){return parseFloat(e)}function Oe(e,t){return"number"==typeof e&&isNaN(e)?t:e}function De(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function Ie(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function Me(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function Le(e,t,n){var r=Object.keys(e).filter((function(e){return!function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}(n,e)})),i=Array(r.length);return we(r,(function(n,r){i[r]=function(e,t){var n=function(e){return"function"!=typeof e},r=new Promise((function(r){var i=Date.now();_e(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=Date.now()-i;if(!e[0])return r((function(){return{error:Me(e[1]),duration:a}}));var s=e[1];if(n(s))return r((function(){return{value:s,duration:a}}));r((function(){return new Promise((function(e){var t=Date.now();_e(s,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=a+Date.now()-t;if(!n[0])return e({error:Me(n[1]),duration:i});e({value:n[1],duration:i})}))}))}))}))}));return function(){return r.then((function(e){return e()}))}}(e[n],t)})),function(){return ge(this,void 0,void 0,(function(){var e,t,n,a,s,o;return ve(this,(function(c){switch(c.label){case 0:for(e={},t=0,n=r;t<n.length;t++)a=n[t],e[a]=void 0;s=Array(r.length),o=function(){var t;return ve(this,(function(n){switch(n.label){case 0:return t=!0,[4,we(r,(function(n,r){s[r]||(i[r]?s[r]=i[r]().then((function(t){return e[n]=t})):t=!1)}))];case 1:return n.sent(),t?[2,"break"]:[4,be(1)];case 2:return n.sent(),[2]}}))},c.label=1;case 1:return[5,o()];case 2:if("break"===c.sent())return[3,4];c.label=3;case 3:return[3,1];case 4:return[4,Promise.all(s)];case 5:return c.sent(),[2,e]}}))}))}}function je(){var e=window,t=navigator;return De(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function Ae(){var e=window,t=navigator;return De(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function Fe(){var e=window,t=navigator;return De(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function Ne(){var e=window;return De(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function Be(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function ze(){var e=Ae(),t=function(){var e,t,n=window;return De(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}();if(!e&&!t)return!1;var n=window;return De(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])>=2}function Ue(e){var t=new Error(e);return t.name=e,t}function He(e,t,n){var r,i,a;return void 0===n&&(n=50),ge(this,void 0,void 0,(function(){var s,o;return ve(this,(function(c){switch(c.label){case 0:s=document,c.label=1;case 1:return s.body?[3,3]:[4,be(n)];case 2:return c.sent(),[3,1];case 3:o=s.createElement("iframe"),c.label=4;case 4:return c.trys.push([4,,10,11]),[4,new Promise((function(e,n){var r=!1,i=function(){r=!0,e()};o.onload=i,o.onerror=function(e){r=!0,n(e)};var a=o.style;a.setProperty("display","block","important"),a.position="absolute",a.top="0",a.left="0",a.visibility="hidden",t&&"srcdoc"in o?o.srcdoc=t:o.src="about:blank",s.body.appendChild(o);var c=function(){var e,t;r||("complete"===(null===(t=null===(e=o.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?i():setTimeout(c,10))};c()}))];case 5:c.sent(),c.label=6;case 6:return(null===(i=null===(r=o.contentWindow)||void 0===r?void 0:r.document)||void 0===i?void 0:i.body)?[3,8]:[4,be(n)];case 7:return c.sent(),[3,6];case 8:return[4,e(o,o.contentWindow)];case 9:return[2,c.sent()];case 10:return null===(a=o.parentNode)||void 0===a||a.removeChild(o),[7];case 11:return[2]}}))}))}function $e(e){for(var t=function(e){for(var t,n,r="Unexpected syntax '"+e+"'",i=/^\s*([a-z-]*)(.*)$/i.exec(e),a=i[1]||void 0,s={},o=/([.:#][\w-]+|\[.+?\])/gi,c=function(e,t){s[e]=s[e]||[],s[e].push(t)};;){var l=o.exec(i[2]);if(!l)break;var d=l[0];switch(d[0]){case".":c("class",d.slice(1));break;case"#":c("id",d.slice(1));break;case"[":var u=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(d);if(!u)throw new Error(r);c(u[1],null!==(n=null!==(t=u[4])&&void 0!==t?t:u[5])&&void 0!==n?n:"");break;default:throw new Error(r)}}return[a,s]}(e),n=t[0],r=t[1],i=document.createElement(null!=n?n:"div"),a=0,s=Object.keys(r);a<s.length;a++){var o=s[a],c=r[o].join(" ");"style"===o?We(i.style,c):i.setAttribute(o,c)}return i}function We(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],a=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(i);if(a){var s=a[1],o=a[2],c=a[4];e.setProperty(s,o,c||"")}}}var qe,Ve,Ge=["monospace","sans-serif","serif"],Ke=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function Je(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function Qe(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly "+String.fromCharCode(55357,56835);return t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45),Ze(e)}function Xe(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var i=r[n],a=i[0],s=i[1],o=i[2];t.fillStyle=a,t.beginPath(),t.arc(s,o,40,0,2*Math.PI,!0),t.closePath(),t.fill()}return t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd"),Ze(e)}function Ze(e){return e.toDataURL()}function Ye(){var e=screen;return[Oe(xe(e.availTop),null),Oe(xe(e.width)-xe(e.availWidth)-Oe(xe(e.availLeft),0),null),Oe(xe(e.height)-xe(e.availHeight)-Oe(xe(e.availTop),0),null),Oe(xe(e.availLeft),null)]}function et(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}var tt={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'a[title="7naga poker" i]','[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",".iosAdsiosAds-layout",".quangcao",'[href^="https://r88.vn/"]','[href^="https://zbet.vn/"]'],adBlockFinland:[".mainostila",".sponsorit",".ylamainos",'a[href*="/clickthrgh.asp?"]','a[href^="https://app.readpeak.com/ads"]'],adBlockPersian:["#navbar_notice_50",'a[href^="http://g1.v.fwmrm.net/ad/"]',".kadr",'TABLE[width="140px"]',"#divAgahi"],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect"],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:["#ad-after","#ad-p3",".BetterJsPopOverlay","#ad_300X250","#bannerfloat22"],adGuardChinese:['a[href*=".ttz5.cn"]','a[href*=".yabovip2027.com/"]',".tm3all2h4b",".cc5278_banner_ad"],adGuardFrench:[".zonepub",'[class*="_adLeaderboard"]','[id^="block-xiti_oas-"]','a[href^="http://ptapjmp.com/"]','a[href^="https://go.alvexo.com/"]'],adGuardGerman:[".banneritemwerbung_head_1",".boxstartwerbung",".werbung3",'a[href^="http://www.eis.de/index.phtml?refid="]','a[href^="https://www.tipico.com/?affiliateId="]'],adGuardJapanese:["#kauli_yad_1","#ad-giftext","#adsSPRBlock",'a[href^="http://ad2.trafficgate.net/"]','a[href^="http://www.rssad.jp/"]'],adGuardMobile:["amp-auto-ads","#mgid_iframe",".amp_ad",'amp-embed[type="24smi"]',"#mgid_iframe1"],adGuardRussian:['a[href^="https://ya-distrib.ru/r/"]','a[href^="https://ad.letmeads.com/"]',".reclama",'div[id^="smi2adblock"]','div[id^="AdFox_banner_"]'],adGuardSocial:['a[href^="//www.stumbleupon.com/submit?url="]','a[href^="//telegram.me/share/url?"]',".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",'[href^="http://ads.glispa.com/"]'],adGuardTrackingProtection:['amp-embed[type="taboola"]',"#qoo-counter",'a[href^="http://click.hotlog.ru/"]','a[href^="http://hitcounter.ru/top/stat.php"]','a[href^="http://top.mail.ru/jump"]'],adGuardTurkish:["#backkapat","#reklami",'a[href^="http://adserv.ontek.com.tr/"]','a[href^="http://izlenzi.com/campaign/"]','a[href^="http://www.installads.net/"]'],bulgarian:["td#freenet_table_ads","#adbody","#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:["#AD_banner_bottom","#Ads_google_02","#N-ad-article-rightRail-1","#ad-fullbanner2","#ad-zone-2"],easyListChina:['a[href*=".wensixuetang.com/"]','A[href*="/hth107.com/"]','.appguide-wrap[onclick*="bcebos.com"]',".frontpageAdvM","#taotaole"],easyListCookie:["#adtoniq-msg-bar","#CoockiesPage","#CookieModal_cookiemodal","#DO_CC_PANEL","#ShowCookie"],easyListCzechSlovak:["#onlajny-stickers","#reklamni-box",".reklama-megaboard",".sklik",'[id^="sklikReklama"]'],easyListDutch:["#advertentie","#vipAdmarktBannerBlock",".adstekst",'a[href^="https://xltube.nl/click/"]',"#semilo-lrectangle"],easyListGermany:['a[href^="http://www.hw-area.com/?dp="]','a[href^="https://ads.sunmaker.com/tracking.php?"]',".werbung-skyscraper2",".bannergroup_werbung",".ads_rechts"],easyListItaly:[".box_adv_annunci",".sb-box-pubbliredazionale",'a[href^="http://affiliazioniads.snai.it/"]','a[href^="https://adserver.html.it/"]','a[href^="https://affiliazioniads.snai.it/"]'],easyListLithuania:[".reklamos_tarpas",".reklamos_nuorodos",'img[alt="Reklaminis skydelis"]','img[alt="Dedikuoti.lt serveriai"]','img[alt="Hostingas Serveriai.lt"]'],estonian:['A[href*="http://pay4results24.eu"]'],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:['a[href*="casinopro.se"][target="_blank"]','a[href*="doktor-se.onelink.me"]',"article.category-samarbete","div.holidAds","ul.adsmodern"],greekAdBlock:['A[href*="adman.otenet.gr/click?"]','A[href*="http://axiabanners.exodus.gr/"]','A[href*="http://interactive.forthnet.gr/click?"]',"DIV.agores300","TABLE.advright"],hungarian:['A[href*="ad.eval.hu"]','A[href*="ad.netmedia.hu"]','A[href*="daserver.ultraweb.hu"]',"#cemp_doboz",".optimonk-iframe-container"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:['A[href^="/framework/resources/forms/ads.aspx"]'],latvian:['a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]','a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]'],listKr:['a[href*="//kingtoon.slnk.kr"]','a[href*="//playdsb.com/kr"]',"div.logly-lift-adz",'div[data-widget_id="ml6EJ074"]',"ins.daum_ddn_area"],listeAr:[".geminiLB1Ad",".right-and-left-sponsers",'a[href*=".aflam.info"]','a[href*="booraq.org"]','a[href*="dubizzle.com/ar/?utm_source="]'],listeFr:['a[href^="http://promo.vador.com/"]',"#adcontainer_recherche",'a[href*="weborama.fr/fcgi-bin/"]',".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",'[href^="https://aff.sendhub.pl/"]','a[href^="http://advmanager.techfun.pl/redirect/"]','a[href^="http://www.trizer.pl/?utm_source"]',"div#skapiec_ad"],ro:['a[href^="//afftrk.altex.ro/Counter/Click"]','a[href^="/magazin/"]','a[href^="https://blackfridaysales.ro/trk/shop/"]','a[href^="https://event.2performant.com/events/click"]','a[href^="https://l.profitshare.ro/"]'],ruAd:['a[href*="//febrare.ru/"]','a[href*="//utimg.ru/"]','a[href*="://chikidiki.ru"]',"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]","#ads-google-middle_rectangle-group",".ads300s",".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",".ctpl-fullbanner",".zergnet-recommend",".yt.btn-link.btn-md.btn"]};function nt(e){var t;return ge(this,void 0,void 0,(function(){var n,r,i,a,s,o,c;return ve(this,(function(l){switch(l.label){case 0:for(n=document,r=n.createElement("div"),i=new Array(e.length),a={},rt(r),c=0;c<e.length;++c)s=$e(e[c]),rt(o=n.createElement("div")),o.appendChild(s),r.appendChild(o),i[c]=s;l.label=1;case 1:return n.body?[3,3]:[4,be(50)];case 2:return l.sent(),[3,1];case 3:n.body.appendChild(r);try{for(c=0;c<e.length;++c)i[c].offsetParent||(a[e[c]]=!0)}finally{null===(t=r.parentNode)||void 0===t||t.removeChild(r)}return[2,a]}}))}))}function rt(e){e.style.setProperty("display","block","important")}function it(e){return matchMedia("(inverted-colors: "+e+")").matches}function at(e){return matchMedia("(forced-colors: "+e+")").matches}function st(e){return matchMedia("(prefers-contrast: "+e+")").matches}function ot(e){return matchMedia("(prefers-reduced-motion: "+e+")").matches}function ct(e){return matchMedia("(dynamic-range: "+e+")").matches}var lt=Math,dt=function(){return 0},ut={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},pt={fonts:function(){return He((function(e,t){var n=t.document,r=n.body;r.style.fontSize="48px";var i=n.createElement("div"),a={},s={},o=function(e){var t=n.createElement("span"),r=t.style;return r.position="absolute",r.top="0",r.left="0",r.fontFamily=e,t.textContent="mmMwWLliI0O&1",i.appendChild(t),t},c=Ge.map(o),l=function(){for(var e={},t=function(t){e[t]=Ge.map((function(e){return function(e,t){return o("'"+e+"',"+t)}(t,e)}))},n=0,r=Ke;n<r.length;n++)t(r[n]);return e}();r.appendChild(i);for(var d=0;d<Ge.length;d++)a[Ge[d]]=c[d].offsetWidth,s[Ge[d]]=c[d].offsetHeight;return Ke.filter((function(e){return t=l[e],Ge.some((function(e,n){return t[n].offsetWidth!==a[e]||t[n].offsetHeight!==s[e]}));var t}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return ge(this,void 0,void 0,(function(){var e,n,r,i;return ve(this,(function(a){switch(a.label){case 0:return Fe()||ze()?(e=Object.keys(tt),[4,nt((i=[]).concat.apply(i,e.map((function(e){return tt[e]}))))]):[2,void 0];case 1:return n=a.sent(),t&&function(e){for(var t="DOM blockers debug:\n```",n=0,r=Object.keys(tt);n<r.length;n++){var i=r[n];t+="\n"+i+":";for(var a=0,s=tt[i];a<s.length;a++){var o=s[a];t+="\n  "+o+" "+(e[o]?"":"")}}console.log(t+"\n```")}(n),(r=e.filter((function(e){var t=tt[e];return De(t.map((function(e){return n[e]})))>.6*t.length}))).sort(),[2,r]}}))}))},fontPreferences:function(){return void 0===e&&(e=4e3),He((function(t,n){var r=n.document,i=r.body,a=i.style;a.width=e+"px",a.webkitTextSizeAdjust=a.textSizeAdjust="none",Ae()?i.style.zoom=""+1/n.devicePixelRatio:Fe()&&(i.style.zoom="reset");var s=r.createElement("div");return s.textContent=ye(Array(e/20<<0)).map((function(){return"word"})).join(" "),i.appendChild(s),function(e,t){for(var n={},r={},i=0,a=Object.keys(ut);i<a.length;i++){var s=a[i],o=ut[s],c=o[0],l=void 0===c?{}:c,d=o[1],u=void 0===d?"mmMwWLliI0fiflO&1":d,p=e.createElement("span");p.textContent=u,p.style.whiteSpace="nowrap";for(var f=0,h=Object.keys(l);f<h.length;f++){var m=h[f],g=l[m];void 0!==g&&(p.style[m]=g)}n[s]=p,t.appendChild(e.createElement("br")),t.appendChild(p)}for(var v=0,y=Object.keys(ut);v<y.length;v++)r[s=y[v]]=n[s].getBoundingClientRect().width;return r}(r,i)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">');var e},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(Fe()&&!Ne()&&!function(){var e=window;return De(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=new t(1,5e3,44100),r=n.createOscillator();r.type="triangle",r.frequency.value=1e4;var i=n.createDynamicsCompressor();i.threshold.value=-50,i.knee.value=40,i.ratio.value=12,i.attack.value=0,i.release.value=.25,r.connect(i),i.connect(n.destination),r.start(0);var a=function(e){var t=function(){};return[new Promise((function(n,r){var i=!1,a=0,s=0;e.oncomplete=function(e){return n(e.renderedBuffer)};var o=function(){setTimeout((function(){return r(Ue("timeout"))}),Math.min(500,s+5e3-Date.now()))},c=function(){try{switch(e.startRendering(),e.state){case"running":s=Date.now(),i&&o();break;case"suspended":document.hidden||a++,i&&a>=3?r(Ue("suspended")):setTimeout(c,500)}}catch(e){r(e)}};c(),t=function(){i||(i=!0,s>0&&o())}})),t]}(n),s=a[0],o=a[1],c=s.then((function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return c.catch((function(){})),function(){return o(),c}},screenFrame:function(){var e=this,t=function(){var e=this;return function(){if(void 0===Ve){var e=function(){var t=Ye();et(t)?Ve=setTimeout(e,2500):(qe=t,Ve=void 0)};e()}}(),function(){return ge(e,void 0,void 0,(function(){var e;return ve(this,(function(t){switch(t.label){case 0:return et(e=Ye())?qe?[2,ye(qe)]:(n=document).fullscreenElement||n.msFullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement?[4,Be()]:[3,2]:[3,2];case 1:t.sent(),e=Ye(),t.label=2;case 2:return et(e)||(qe=e),[2,e]}var n}))}))}}();return function(){return ge(e,void 0,void 0,(function(){var e,n;return ve(this,(function(r){switch(r.label){case 0:return[4,t()];case 1:return e=r.sent(),[2,[(n=function(e){return null===e?null:Ie(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var e,t=navigator,n=[],r=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==r&&n.push([r]),Array.isArray(t.languages))Ae()&&De([!("MediaSettingsRange"in(e=window)),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3||n.push(t.languages);else if("string"==typeof t.languages){var i=t.languages;i&&n.push(i.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return Oe(xe(navigator.deviceMemory),void 0)},screenResolution:function(){var e=screen,t=function(e){return Oe(Ee(e),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return Oe(Ee(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var r,i=(r=(new Date).getFullYear(),-Math.max(xe(new Date(r,0,1).getTimezoneOffset()),xe(new Date(r,6,1).getTimezoneOffset())));return"UTC"+(i>=0?"+":"")+Math.abs(i)},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){var e,t;if(!(je()||(e=window,t=navigator,De(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!je())))try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&Fe()&&!Ne()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return De(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var i=[],a=0;a<r.length;++a){var s=r[a];i.push({type:s.type,suffixes:s.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:i})}}return t}},canvas:function(){var e=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),t=e[0],n=e[1];return function(e,t){return!(!t||!e.toDataURL)}(t,n)?{winding:Je(n),geometry:Xe(t,n),text:Qe(t,n)}:{winding:!1,geometry:"",text:""}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=Ee(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],i=window[r];i&&"object"==typeof i&&e.push(r)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: "+n+")").matches)return n}},invertedColors:function(){return!!it("inverted")||!it("none")&&void 0},forcedColors:function(){return!!at("active")||!at("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: "+e+")").matches)return e;throw new Error("Too high value")}},contrast:function(){return st("no-preference")?0:st("high")||st("more")?1:st("low")||st("less")?-1:st("forced")?10:void 0},reducedMotion:function(){return!!ot("reduce")||!ot("no-preference")&&void 0},hdr:function(){return!!ct("high")||!ct("standard")&&void 0},math:function(){var e,t=lt.acos||dt,n=lt.acosh||dt,r=lt.asin||dt,i=lt.asinh||dt,a=lt.atanh||dt,s=lt.atan||dt,o=lt.sin||dt,c=lt.sinh||dt,l=lt.cos||dt,d=lt.cosh||dt,u=lt.tan||dt,p=lt.tanh||dt,f=lt.exp||dt,h=lt.expm1||dt,m=lt.log1p||dt;return{acos:t(.12312423423423424),acosh:n(1e308),acoshPf:(e=1e154,lt.log(e+lt.sqrt(e*e-1))),asin:r(.12312423423423424),asinh:i(1),asinhPf:lt.log(1+lt.sqrt(2)),atanh:a(.5),atanhPf:lt.log(3)/2,atan:s(.5),sin:o(-1e300),sinh:c(1),sinhPf:lt.exp(1)-1/lt.exp(1)/2,cos:l(10.000000000123),cosh:d(1),coshPf:(lt.exp(1)+1/lt.exp(1))/2,tan:u(-1e300),tanh:p(1),tanhPf:(lt.exp(2)-1)/(lt.exp(2)+1),exp:f(1),expm1:h(1),expm1Pf:lt.exp(1)-1,log1p:m(10),log1pPf:lt.log(11),powPI:lt.pow(lt.PI,-100)}}};function ft(e){var t=function(e){if(ze())return.4;if(Fe())return Ne()?.5:.3;var t=e.platform.value||"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}(e),n=function(e){return Ie(.99+.01*e,1e-4)}(t);return{score:t,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,""+n)}}function ht(e){return function(e,t){t=t||0;var n,r=(e=e||"").length%16,i=e.length-r,a=[0,t],s=[0,t],o=[0,0],c=[0,0],l=[2277735313,289559509],d=[1291169091,658871167];for(n=0;n<i;n+=16)o=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],c=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],o=Ce(o=ke(o,l),31),a=Se(a=Ce(a=Pe(a,o=ke(o,d)),27),s),a=Se(ke(a,[0,5]),[0,1390208809]),c=Ce(c=ke(c,d),33),s=Se(s=Ce(s=Pe(s,c=ke(c,l)),31),a),s=Se(ke(s,[0,5]),[0,944331445]);switch(o=[0,0],c=[0,0],r){case 15:c=Pe(c,Re([0,e.charCodeAt(n+14)],48));case 14:c=Pe(c,Re([0,e.charCodeAt(n+13)],40));case 13:c=Pe(c,Re([0,e.charCodeAt(n+12)],32));case 12:c=Pe(c,Re([0,e.charCodeAt(n+11)],24));case 11:c=Pe(c,Re([0,e.charCodeAt(n+10)],16));case 10:c=Pe(c,Re([0,e.charCodeAt(n+9)],8));case 9:c=ke(c=Pe(c,[0,e.charCodeAt(n+8)]),d),s=Pe(s,c=ke(c=Ce(c,33),l));case 8:o=Pe(o,Re([0,e.charCodeAt(n+7)],56));case 7:o=Pe(o,Re([0,e.charCodeAt(n+6)],48));case 6:o=Pe(o,Re([0,e.charCodeAt(n+5)],40));case 5:o=Pe(o,Re([0,e.charCodeAt(n+4)],32));case 4:o=Pe(o,Re([0,e.charCodeAt(n+3)],24));case 3:o=Pe(o,Re([0,e.charCodeAt(n+2)],16));case 2:o=Pe(o,Re([0,e.charCodeAt(n+1)],8));case 1:o=ke(o=Pe(o,[0,e.charCodeAt(n)]),l),a=Pe(a,o=ke(o=Ce(o,31),d))}return a=Se(a=Pe(a,[0,e.length]),s=Pe(s,[0,e.length])),s=Se(s,a),a=Se(a=Te(a),s=Te(s)),s=Se(s,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)}(function(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var i=r[n],a=e[i],s=a.error?"error":JSON.stringify(a.value);t+=(t?"|":"")+i.replace(/([:|\\])/g,"\\$1")+":"+s}return t}(e))}function mt(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise((function(e){return n.call(window,(function(){return e()}),{timeout:t})})):be(Math.min(e,t))}(e,2*e)}function gt(e,t){var n=Date.now();return{get:function(r){return ge(this,void 0,void 0,(function(){var i,a,s;return ve(this,(function(o){switch(o.label){case 0:return i=Date.now(),[4,e()];case 1:return a=o.sent(),s=function(e){var t;return{get visitorId(){return void 0===t&&(t=ht(this.components)),t},set visitorId(e){t=e},confidence:ft(e),components:e,version:"3.3.3"}}(a),(t||(null==r?void 0:r.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: "+s.version+"\nuserAgent: "+navigator.userAgent+"\ntimeBetweenLoadAndGet: "+(i-n)+"\nvisitorId: "+s.visitorId+"\ncomponents: "+function(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?me({name:(n=t).name,message:n.message,stack:null===(r=n.stack)||void 0===r?void 0:r.split("\n")},n):t;var n,r}),2)}(a)+"\n```"),[2,s]}}))}))}}}function vt(e){var t=void 0===e?{}:e,n=t.delayFallback,r=t.debug,i=t.monitoring,a=void 0===i||i;return ge(this,void 0,void 0,(function(){return ve(this,(function(e){switch(e.label){case 0:return a&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v3.3.3/npm-monitoring",!0),e.send()}catch(e){console.error(e)}}(),[4,mt(n)];case 1:return e.sent(),[2,gt(Le(pt,{debug:r},[]),r)]}}))}))}var yt,bt;bt=function(){var e,t,n,r,i,o,c;return function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}(this,(function(l){switch(l.label){case 0:return[4,oe()];case 1:return l.sent(),s.render(a.createElement("div",null,a.createElement(he,null)),document.getElementById("root")),[4,vt()];case 2:return e=l.sent(),n=(t=F).addExtensionStats,c={type:"USER_FINGERPRINT"},[4,e.get()];case 3:return n.apply(t,[(c.payload=l.sent().visitorId,c)]),[4,navigator.mediaDevices.enumerateDevices()];case 4:return r=l.sent(),F.setMediaDevices.apply(F,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s}(r),!1)),i={video:!0,audio:!0},F.addMediaConstraints(i),[4,navigator.mediaDevices.getUserMedia(i).catch((function(e){console.warn("getUserMedia error",e),F.addUserMediaError(e)}))];case 5:return(o=l.sent())?(console.log("Got MediaStream:",o,o.getTracks()),o.getTracks().forEach((function(e){var t;t={track:e,userId:p(),clientId:f()},P.emit(_,t)})),[2]):[2]}}))},new((yt=void 0)||(yt=Promise))((function(e,t){function n(e){try{i(bt.next(e))}catch(e){t(e)}}function r(e){try{i(bt.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof yt?i:new yt((function(e){e(i)}))).then(n,r)}i((bt=bt.apply(void 0,[])).next())}))})()})();